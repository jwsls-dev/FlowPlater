var FlowPlater=function(){"use strict";const Debug={level:1,levels:{ERROR:0,WARN:1,INFO:2,DEBUG:3},log:function(e,...t){if(e<=this.level){const r=["ERROR","WARN","INFO","DEBUG"][e];switch(r){case"ERROR":console.error(`FlowPlater [${r}]:`,...t);break;case"WARN":console.warn(`FlowPlater [${r}]:`,...t);break;case"DEBUG":console.debug(`FlowPlater [${r}]:`,...t);break;default:console.log(`FlowPlater [${r}]:`,...t)}}},error:function(...e){this.log(this.levels.ERROR,...e)},warn:function(...e){this.log(this.levels.WARN,...e)},info:function(...e){this.log(this.levels.INFO,...e)},debug:function(...e){this.log(this.levels.DEBUG,...e)}};class FlowPlaterError extends Error{constructor(e,t){super(e),this.name="FlowPlaterError",void 0!==t&&(this.stack=t)}}class TemplateError extends FlowPlaterError{constructor(e,t){super(`Template Error${void 0!==t?` in ${t}`:""}: ${e}`),this.name="TemplateError"}}const EventSystem=function(){const e=new Map;return{subscribe(t,r,n=null){return t&&"string"==typeof t||new FlowPlaterError("Invalid event name. Event name must be a non-empty string.",(new Error).stack),r&&"function"==typeof r||new FlowPlaterError(`Invalid callback for event "${t}". Callback must be a function.`,(new Error).stack),e.has(t)||e.set(t,[]),e.get(t).push({callback:r,context:n}),Debug.debug(`Subscribed to event: ${t}`),()=>this.unsubscribe(t,r)},unsubscribe(t,r){if(t&&"string"==typeof t||new FlowPlaterError("Invalid event name. Event name must be a non-empty string. If you are trying to unsubscribe from all events, use unsubscribeAll() instead.",(new Error).stack),!e.has(t))return;const n=e.get(t);e.set(t,n.filter((e=>e.callback!==r)))},unsubscribeAll(){e.clear(),Debug.info("Cleared all event subscribers")},publish(t,r=null){if(e.has(t)&&(e.get(t).forEach((({callback:e,context:n})=>{try{e.call(n,r)}catch(e){Debug.error(`Error in event subscriber for ${t}:`,e)}})),r&&r.instanceName)){const n=`${r.instanceName}:${t}`;e.has(n)&&e.get(n).forEach((({callback:e,context:t})=>{try{e.call(t,r)}catch(e){Debug.error(`Error in instance event subscriber for ${n}:`,e)}}))}}}}(),Performance={marks:{},start:function(e){this.marks[e]=performance.now()},end:function(e){if(!this.marks[e])return;const t=performance.now()-this.marks[e];return delete this.marks[e],Debug.debug(`${e} took ${t.toFixed(2)}ms`),t}},_state={templateCache:{},instances:{},groups:{},length:0,initialized:!1,defaults:{animation:!1,debug:!1},config:{},i:{}};function getInstance(e){return _state.instances[e]}function getInstances(){return _state.instances}const _readyState={isReady:!1,queue:[],plugins:new Set,hasPluginsRegistered:!1,processQueue(){for(Debug.debug(`Processing ${this.queue.length} queued operations`);this.queue.length>0;){const e=this.queue.shift();try{e()}catch(e){Debug.error("Error processing queued operation:",e)}}},enqueue(e){if(this.isReady)try{e()}catch(e){Debug.error("Error executing operation:",e)}else this.queue.push(e)},markReady(){0!==this.plugins.size||this.hasPluginsRegistered||Debug.info("No plugins registered, proceeding with initialization"),this.isReady=!0,this.processQueue()},registerPlugin(e){this.hasPluginsRegistered=!0,this.plugins.add(e),Debug.debug(`Plugin registered: ${e}, total plugins: ${this.plugins.size}`)},unregisterPlugin(e){const t=this.plugins.delete(e);return t?(Debug.debug(`Plugin unregistered: ${e}, remaining plugins: ${this.plugins.size}`),0===this.plugins.size&&(this.hasPluginsRegistered=!1,Debug.debug("All plugins unregistered, reset plugin registration state"))):Debug.warn(`Attempted to unregister non-existent plugin: ${e}`),t},reset(e=!0){this.queue=[],this.plugins.clear(),this.hasPluginsRegistered=!1,e?Debug.info("ReadyState reset but maintains ready status for new plugins"):(this.isReady=!1,Debug.info("ReadyState completely reset, FlowPlater needs re-initialization"))},cleanup(){this.reset(!1),Debug.info("FlowPlater ReadyState cleaned up completely")}},AttributeMatcher={INHERITABLE_ATTRIBUTES:{"hx-":["boost","push-url","select","select-oob","swap","target","vals","confirm","disable","disabled-elt","encoding","ext","headers","include","indicator","params","prompt","replace-url","request","sync","vars"],"fp-":["prepend","append","persist","target"]},o(){return Object.keys(this.INHERITABLE_ATTRIBUTES)},u:e=>e.replace(/^(hx-|fp-)/,"").replace(/^data-/,""),h(e){const t=this.u(e),r=[];for(const e of this.o())r.push(`${e}${t}`),r.push(`data-${e}${t}`);return r},m(e,t,r=null){for(const r of this.h(t)){const t=e.getAttribute(r);if(null!==t)return t}return r},v(e,t){return this.h(t).some((t=>e.hasAttribute(t)))},findMatchingElements(e,t=null,r=!0,n=document,i=!0,o=!1){const a=this.h(e);let s=a.map((e=>`[${e}]`)).join(",");if(null!=t){const e=r?`="${t}"`:`*="${t}"`;s=a.map((t=>`[${t}${e}]`)).join(",")}const u=Array.from(n.querySelectorAll(s));if(i&&n instanceof Element){const i=this.m(n,e);null!==i&&(null==t||(r?i===t:i.includes(t)))&&u.unshift(n)}return null!=t&&o?u[0]:u},findClosestParent(e,t,r=null,n=!0){if(!e)return Debug.error("Attribute name is required"),null;if(!t)return Debug.error("Element is required to find closest parent ("+e+")"),null;const i=this.u(e),o=this.h(i);let a=o.map((e=>`[${e}]`)).join(",");if(null!=r){const e=n?`="${r}"`:`*="${r}"`;a=o.map((t=>`[${t}${e}]`)).join(",")}let s=t.closest(a);if(s&&this.isInheritable(i)){const e=this.m(s,"disinherit");if(e&&("*"===e||e.split(" ").includes(i)))return null}return s},getElementWithAttribute(e,t=document,r=!0){if(r&&t instanceof Element&&this.v(t,e))return t;const n=this.h(e).map((e=>`[${e}]`)).join(",");return t.querySelector(n)},S(e){const t=e.parentElement;return!t&&e.parentNode instanceof ShadowRoot?e.parentNode:t},C:(e,t=!1)=>e.getRootNode?e.getRootNode({composed:t}):document,D(e,t){for(;e&&!t(e);)e=this.S(e);return e||null},M:(e,t)=>e.replace(/^data-/,"").replace(/^hx-/,"").replace(/^fp-/,"")===t,A(e,t,r){const n=this.m(t,r),i=this.m(t,"disinherit"),o=this.m(t,"inherit");if(e!==t){if(htmx.config.disableInheritance)return o&&("*"===o||o.split(" ").includes(r))?n:null;if(i&&("*"===i||i.split(" ").includes(r)))return"unset"}return n},findInheritedAttribute(e,t){const r=this.u(t);let n=null;return this.D(e,(t=>{const i=this.A(e,t,r);return!!i&&(n=i,!0)})),"unset"===n?null:n},findAttribute(e,t){const r=this.u(t);for(const t of this.o()){const n=this.m(e,`${t}${r}`);if(n)return n}return this.findInheritedAttribute(e,r)||null},P(e){return e?!!this.isInheritable(e)||(Debug.info(`Attribute ${e} is not inheritable`),!1):(Debug.error("Attribute name is required"),!1)},addInheritableAttribute(e,t){this.INHERITABLE_ATTRIBUTES[e]||(this.INHERITABLE_ATTRIBUTES[e]=[]),this.INHERITABLE_ATTRIBUTES[e].push(t)},removeInheritableAttribute(e,t){if(!this.INHERITABLE_ATTRIBUTES[e])return!1;const r=this.INHERITABLE_ATTRIBUTES[e].indexOf(t);return-1!==r&&(this.INHERITABLE_ATTRIBUTES[e].splice(r,1),!0)},isInheritable(e){const t=this.u(e);return Object.values(this.INHERITABLE_ATTRIBUTES).flat().includes(t)}},VersionManager={parseVersion:e=>e.split(".").map(Number),compareVersions(e,t){const r=this.parseVersion(e),n=this.parseVersion(t);for(let e=0;e<3;e++){if(r[e]>n[e])return 1;if(r[e]<n[e])return-1}return 0},satisfiesVersion(e,t){if(!e||!t)return!1;const[r,n]=e.split("@");return!n||this.compareVersions(t,n)>=0}},PluginManager={plugins:new Map,globalMethods:new Map,instanceMethods:new Map,customTransformers:new Map,registerPlugin(e,t={}){let r;if(r="string"==typeof e?window[e]:e,!r)throw new FlowPlaterError(`Plugin not found: ${e}`);if("function"!=typeof r)throw new FlowPlaterError("Plugin must be a valid function");const n=r(t),i=["name","enabled","priority","version"];for(const e of i)if(!(e in n.config))throw new FlowPlaterError(`Plugin config must contain '${e}'`);if(!/^\d+\.\d+\.\d+$/.test(n.config.version))throw new FlowPlaterError(`Plugin version must be in format 'x.y.z' (got ${n.config.version})`);if(this.plugins.has(n.config.name))throw new FlowPlaterError(`Plugin ${n.config.name} already registered`);if(n.config.dependencies)for(const e of n.config.dependencies){const[t,r]=e.split("@"),i=this.getPlugin(t);if(!i)throw new FlowPlaterError(`Required dependency '${t}' not found for plugin ${n.config.name}`);if(!VersionManager.satisfiesVersion(e,i.config.version))throw new FlowPlaterError(`Plugin ${n.config.name} requires ${t} version ${r||"any"}, but found version ${i.config.version}`)}if(n.config.optionalDependencies)for(const e of n.config.optionalDependencies){const[t,r]=e.split("@"),i=this.getPlugin(t);i&&!VersionManager.satisfiesVersion(e,i.config.version)&&Debug.warn(`Optional dependency '${t}' version mismatch for plugin ${n.config.name}. Required: ${r||"any"}, Found: ${i.config.version}`)}if(n.inheritableAttributes&&Array.isArray(n.inheritableAttributes)&&n.inheritableAttributes.forEach((e=>{AttributeMatcher.addInheritableAttribute("fp-",e)})),_readyState.registerPlugin(n.config.name),n.globalMethods)for(const[e,t]of Object.entries(n.globalMethods)){if("function"!=typeof t)throw new FlowPlaterError(`Global method ${e} must be a function`);if(this.globalMethods.has(e)){const t=this.globalMethods.get(e);throw new FlowPlaterError(`Global method ${e} already registered by plugin ${t.plugin}`)}this.globalMethods.set(e,{method:t,plugin:n.config.name}),"undefined"!=typeof window&&window.FlowPlater&&(window.FlowPlater[e]=(...t)=>this.executeGlobalMethod(e,...t))}if(n.instanceMethods)for(const[e,t]of Object.entries(n.instanceMethods)){if("function"!=typeof t)throw new FlowPlaterError(`Instance method ${e} must be a function`);if(this.instanceMethods.has(e)){const t=this.instanceMethods.get(e);throw new FlowPlaterError(`Instance method ${e} already registered by plugin ${t.plugin}`)}this.instanceMethods.set(e,{method:t,plugin:n.config.name})}if(n.helpers&&"object"==typeof n.helpers)for(const[e,t]of Object.entries(n.helpers))if("function"==typeof t)try{Handlebars.registerHelper(e.toLowerCase(),t)}catch(t){Debug.error(`Plugin ${n.config.name} failed registering helper ${e}:`,t)}else Debug.warn(`Plugin ${n.config.name} contains invalid helper ${e}:`,t);if(this.plugins.set(n.config.name,n),_readyState.isReady){if(n.config?.enabled&&"function"==typeof n.init&&n.init(),this.updateExistingInstances(),n.hooks?.initComplete)try{n.hooks.initComplete(window.FlowPlater,Object.values(_state.instances))}catch(e){Debug.error(`Plugin ${n.config.name} failed executing initComplete:`,e)}}else _readyState.queue.push((()=>{if(n.config?.enabled&&"function"==typeof n.init&&n.init(),this.updateExistingInstances(),n.hooks?.initComplete)try{n.hooks.initComplete(window.FlowPlater,Object.values(_state.instances))}catch(e){Debug.error(`Plugin ${n.config.name} failed executing initComplete:`,e)}}));return n},updateExistingInstances(){Object.values(_state.instances).forEach((e=>{for(const[t,r]of this.instanceMethods.entries())e[t]||(e[t]=(...r)=>this.executeInstanceMethod(t,e,...r))}))},getPlugin(e){return this.plugins.get(e)},getAllPlugins(){return Array.from(this.plugins.values())},getEnabledPlugins(){return this.getAllPlugins().filter((e=>e.config?.enabled))},removePlugin(e){const t=this.getPlugin(e);if(!t)return!1;t.inheritableAttributes&&Array.isArray(t.inheritableAttributes)&&t.inheritableAttributes.forEach((e=>{AttributeMatcher.removeInheritableAttribute("fp-",e)}));const r=new Set;for(const[t,n]of this.instanceMethods.entries())n.plugin===e&&r.add(t);for(const[t,r]of this.globalMethods.entries())r.plugin===e&&(this.globalMethods.delete(t),"undefined"!=typeof window&&window.FlowPlater&&delete window.FlowPlater[t]);for(const[t,r]of this.instanceMethods.entries())r.plugin===e&&this.instanceMethods.delete(t);return Object.values(_state.instances).forEach((e=>{r.forEach((t=>{delete e[t]}))})),_readyState.unregisterPlugin(e),this.plugins.delete(e)},disablePlugin(e){const t=this.getPlugin(e);return!!t&&(t.config.enabled=!1,!0)},enablePlugin(e){const t=this.getPlugin(e);return!!t&&(t.config.enabled=!0,"function"!=typeof t.init||t.state?.initialized||(t.init(),t.state.initialized=!0),!0)},pluginConfig(e){const t=this.getPlugin(e);return t?t.config:null},getSortedPlugins(){return this.getEnabledPlugins().sort(((e,t)=>{const r=e.config?.priority||0;return(t.config?.priority||0)-r}))},R(e){if("object"==typeof e&&null!==e)return"json";if("string"==typeof e)try{return JSON.parse(e),"json"}catch(e){return"html"}return"json"},applyTransformations(e,t,r,n="json"){if(!e||"object"!=typeof e)return Debug.error("Invalid instance provided to applyTransformations"),t;Debug.debug(`[Transform] Starting ${r}`,{instance:e.instanceName,isEvent:t instanceof Event,dataType:typeof t,isProxy:t&&"object"==typeof t&&"toJSON"in t});let i=this.getSortedPlugins().reduce(((t,i)=>{if(i.transformers&&"function"==typeof i.transformers[r])try{Debug.debug(`[Transform] Applying ${i.config.name}'s ${r}`,{dataType:typeof t,isEvent:t instanceof Event});const o=i.transformers[r],a=o?.(e,t,n);return null==a?(Debug.warn(`Plugin ${i.config.name} returned undefined/null for ${r}, using original data`),t):t instanceof Event&&a instanceof Event?(Object.assign(t.detail,a.detail),t):(Debug.debug(`[Transform] ${i.config.name}'s transform result:`,{resultType:typeof a,isEvent:a instanceof Event,isProxy:a&&"object"==typeof a&&"toJSON"in a}),a)}catch(e){return Debug.error(`Plugin ${i.config.name} failed executing ${r} transformation:`,e),t}return t}),t);const o=this.customTransformers.get(r)||[];return o.length>0&&Debug.debug(`[Transform] Applying ${o.length} custom transformers for ${r}`),i=o.reduce(((t,i,a)=>{try{Debug.debug(`[Transform] Applying custom transformer ${a+1}/${o.length}`,{dataType:typeof t,isEvent:t instanceof Event});const s=i.call(null,e,t,n);return null==s?(Debug.warn(`Custom transformer returned undefined/null for ${r}, using original data`),t):t instanceof Event&&s instanceof Event?(Object.assign(t.detail,s.detail),t):(Debug.debug(`[Transform] Custom transformer ${a+1} result:`,{resultType:typeof s,isEvent:s instanceof Event,isProxy:s&&"object"==typeof s&&"toJSON"in s}),s)}catch(e){return Debug.error(`Custom transformer failed executing ${r} transformation:`,e),t}}),i),Debug.debug(`[Transform] Completed ${r}`,{finalDataType:typeof i,isEvent:i instanceof Event,isProxy:i&&"object"==typeof i&&"toJSON"in i}),i},addTransformer(e,t){if("function"!=typeof t)throw new FlowPlaterError("Transformer must be a function");const r=t.toString();return r.includes("instance")&&r.includes("data")||Debug.warn("Transformer function should accept (instance, data, dataType) parameters"),this.customTransformers.has(e)||this.customTransformers.set(e,[]),this.customTransformers.get(e).push(t),Debug.debug(`Added custom transformer for ${e}`),this},removeTransformer(e,t){if(!this.customTransformers.has(e))return!1;const r=this.customTransformers.get(e),n=r.indexOf(t);return-1!==n&&(r.splice(n,1),0===r.length&&this.customTransformers.delete(e),Debug.debug(`Removed custom transformer for ${e}`),!0)},clearTransformers(e){return e?(this.customTransformers.delete(e),Debug.debug(`Cleared custom transformers for ${e}`)):(this.customTransformers.clear(),Debug.debug("Cleared all custom transformers")),this},executeHook(e,...t){Debug.debug("[PLUGIN] Executing hook:",e,t);const r=this.getSortedPlugins();let n=t[0];for(const i of r)if(i.hooks?.[e])try{const r=i.hooks?.[e],o=r?.(...t);void 0!==o?(n=o,t[0]=n):(Debug.warn(`Plugin ${i.config.name} returned undefined for ${e}`,t[0]),n=t[0])}catch(t){Debug.error(`Plugin ${i.config.name} failed executing ${e}:`,t)}return n},executeGlobalMethod(e,...t){const r=this.globalMethods.get(e);if(!r)throw new FlowPlaterError(`Global method ${e} not found`);const n=this.getPlugin(r.plugin);if(!n||!n.config?.enabled)throw new FlowPlaterError(`Plugin ${r.plugin} is not enabled`);return r.method.call(n,...t)},executeInstanceMethod(e,t,...r){const n=this.instanceMethods.get(e);if(!n)throw new FlowPlaterError(`Instance method ${e} not found`);const i=this.getPlugin(n.plugin);if(!i||!i.config?.enabled)throw new FlowPlaterError(`Plugin ${n.plugin} is not enabled`);return n.method(t,...r)},async destroyPlugin(e){const t=this.getPlugin(e);return!!t&&("function"==typeof t.destroy&&await t.destroy(),this.removePlugin(e))},async destroyAll(){const e=this.getAllPlugins();await Promise.all(e.map((e=>"function"==typeof e.destroy?e.destroy():null))),e.forEach((e=>_readyState.unregisterPlugin(e.config.name))),this.plugins.clear(),this.globalMethods.clear(),this.instanceMethods.clear(),Debug.info("All plugins destroyed, FlowPlater remains ready for new plugins")}};function memoize(e){const t=new Map,memoized=(...r)=>{const n=JSON.stringify(r);if(t.has(n))return t.get(n);const i=e(...r);return t.set(n,i),i};return memoized.original=e,memoized.cache=t,memoized}const customTagList=[{tag:"fpselect",replaceWith:"select"}];let currentCustomTags=customTagList;function setCustomTags(e){currentCustomTags=e}function replaceCustomTags(e){let t=!1;for(const r of currentCustomTags){const n=e.getElementsByTagName(r.tag);if(n.length>0){t=!0;const e=Array.from(n);for(const t of e){const e=document.createElement(r.replaceWith);e.innerHTML=t.innerHTML;for(const r of t.attributes)e.setAttribute(r.name,r.value);t.parentNode?.replaceChild(e,t)}}}return t&&Debug.info("replaced custom tags",e),e}function deepMerge(e,t){if(!t)return e;if(!e)return t;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(Array.isArray(e[r])&&Array.isArray(t[r])?e[r]=t[r]:r in e&&"object"==typeof e[r]&&"object"==typeof t[r]&&null!==e[r]&&null!==t[r]?deepMerge(e[r],t[r]):e[r]=t[r]);return e}const defaultConfig={debug:{level:window.location.hostname.endsWith(".webflow.io")||window.location.hostname.endsWith(".canvas.webflow.com")||window.location.hostname.endsWith("localhost")?3:1},selectors:{fp:["template","get","post","put","delete","patch","persist","instance"]},templates:{cacheSize:100,precompile:!0},animation:{enabled:!0,duration:300},htmx:{timeout:1e4,swapStyle:"innerHTML",selfRequestsOnly:!1,ignoreTitle:!0},customTags:customTagList,storage:{enabled:!1,ttl:2592e3},persistForm:!0,allowExecute:!0};function normalizeStorageConfig(e,t){return"boolean"==typeof e?{enabled:e,ttl:t.ttl}:"number"==typeof e?-1===e?{enabled:!0,ttl:-1}:{enabled:e>0,ttl:e>0?e:t.ttl}:"object"==typeof e&&null!==e?{enabled:!!e.enabled,ttl:"number"==typeof e.ttl?e.ttl:t.ttl}:t}_state.config=JSON.parse(JSON.stringify(defaultConfig));const ConfigManager={setConfig(e={}){"storage"in e&&(e.storage=normalizeStorageConfig(e.storage,defaultConfig.storage)),_state.config=deepMerge(JSON.parse(JSON.stringify(_state.config)),e),Debug.level=_state.config.debug.level,"undefined"!=typeof htmx&&(htmx.config.timeout=_state.config.htmx.timeout,htmx.config.defaultSwapStyle=_state.config.htmx.swapStyle,htmx.config.selfRequestsOnly=_state.config.htmx.selfRequestsOnly,htmx.config.ignoreTitle=_state.config.htmx.ignoreTitle),e.customTags&&setCustomTags(e.customTags),Debug.info("FlowPlater configuration updated:",this.getConfig())},getConfig:()=>JSON.parse(JSON.stringify(_state.config)),getDefaultConfig:()=>JSON.parse(JSON.stringify(defaultConfig))};function compileTemplate(e,t=!1){if(!t)return memoizedCompile(e);delete _state.templateCache[e];const r=memoizedCompile.original(e);return memoizedCompile.cache.set(JSON.stringify([e]),r),r}Debug.level=_state.config.debug.level;const memoizedCompile=memoize((function(e){Performance.start("compile:"+e);const t=Handlebars.helpers,r=e.startsWith("#")?e:"#"+e;var n=document.querySelector(r);if(Debug.debug("Trying to compile template: "+e),!n)return Debug.error("Template not found: "+e),Performance.end("compile:"+e),null;if(!_state.templateCache[e]||AttributeMatcher.v(n,"dynamic")&&"false"!==AttributeMatcher.m(n,"dynamic")){function constructTagWithAttributes(e){let t=e.tagName.toLowerCase(),r=AttributeMatcher.m(e,"tag");r&&(t=r),currentCustomTags.forEach((e=>{t===e.tag&&(t=e.replaceWith)}));let n="";for(let t of e.attributes)n+=` ${t.name}="${t.value}"`;return`<${t}${n}>`}function processNode(e){let r="";return e.childNodes.forEach((e=>{if(e.nodeType===Node.TEXT_NODE)r+=e.textContent;else if(e.nodeType===Node.ELEMENT_NODE){const n=e;let i=n.tagName.toLowerCase(),o=AttributeMatcher.m(n,"tag");if(o&&(i=o),n.hasAttribute("fp")||i in t){const e=i,t=n.getAttribute("fp"),o=t?t.split(" ").map((e=>e.replace(/&quot;/g,'"'))).join(" "):"",a=processNode(n);switch(e){case"log":case"lookup":case"execute":r+=a?`{{${e} ${a} ${o}}}`:`{{${e} ${o}}}`;break;case"comment":r+=`{{!-- ${o} --}}`;break;case"if":const t=o.replace(/"/g,'\\"');r+=`{{#${e} "${t}"}}${a}{{/${e}}}`;break;case"else":r+=`{{${e}}}${a}`;break;case"math":a&&Debug.warn(`FlowPlater: The <${e}> helper does not accept inner content.`),r+=`{{#${e} "${o}"}}`;break;default:r+=`{{#${e} ${o}}}${a}{{/${e}}}`}}else if("else"===n.tagName){const e=processNode(n);r+=`{{${n.tagName.toLowerCase()}}}${e}`}else if("template"===n.tagName||"fptemplate"===n.tagName||AttributeMatcher.v(n,"template"))r+=n.outerHTML;else{const e=processNode(n),t=constructTagWithAttributes(n),o=AttributeMatcher.m(n,"val");let a=e;o&&(a=`{{{default ${o} "${e.replace(/"/g,'\\"')}"}}}`);let s=i;currentCustomTags.forEach((e=>{s===e.tag&&(s=e.replaceWith)})),r+=`${t}${a}</${s}>`}}})),r}Debug.debug("compiling template: "+e);const i=processNode(n);Debug.debug("Compiling Handlebars template: "+i);try{const o=Handlebars.compile(i),a=ConfigManager.getConfig().templates?.cacheSize||100;if(Object.keys(_state.templateCache).length>=a){const s=Object.keys(_state.templateCache)[0];delete _state.templateCache[s],Debug.info("Cache limit reached. Removed template: "+s)}return _state.templateCache[e]=o,Performance.end("compile:"+e),o}catch(u){return Debug.error("Template not valid: "+i+" | Error: "+u.message),Performance.end("compile:"+e),null}}return Performance.end("compile:"+e),_state.templateCache[e]}));function replacer(e,t){return t instanceof Map?{_:"Map",value:Array.from(t.entries())}:t}function reviver(e,t){return"object"==typeof t&&null!==t&&"Map"===t._?new Map(t.value):t}function saveToLocalStorage(e,t,r=""){const n=ConfigManager.getConfig().storage;if(!n?.enabled)return Debug.debug(`[LocalStorage] Storage is disabled, skipping save for key: ${e}`),!1;try{const i=r?`fp_${r}_${e}`:`fp_${e}`;let o;try{o=JSON.stringify(t,replacer)}catch(e){return Debug.error(`[LocalStorage] Failed to serialize data for key ${i}: ${e.message}`),!1}const a={data:o,expiry:-1===n.ttl?null:Date.now()+1e3*n.ttl};return Debug.debug("[LocalStorage] Saving to localStorage:",{key:i,item:a}),localStorage.setItem(i,JSON.stringify(a)),!0}catch(t){return Debug.error(`[LocalStorage] Failed to save to localStorage for key ${e}: ${t.message}`),!1}}function loadFromLocalStorage(e,t=""){try{const r=t?`fp_${t}_${e}`:`fp_${e}`,n=localStorage.getItem(r);if(!n)return Debug.debug(`[LocalStorage] No stored item found for key: ${r}`),null;const i=JSON.parse(n);if(i.expiry&&i.expiry<Date.now())return Debug.debug(`[LocalStorage] Stored item has expired for key: ${r}`),localStorage.removeItem(r),null;const o=JSON.parse(i.data,reviver);return Debug.debug("[LocalStorage] Loaded from localStorage:",{key:r,data:o}),o}catch(t){return Debug.error(`[LocalStorage] Failed to load or parse from localStorage for key ${e}: ${t.message}`),null}}const FormStateManager={isRestoringFormStates:!1,restoreFormStates(e,t){try{if(this.isRestoringFormStates)return void Debug.debug("Already restoring form states, skipping");this.isRestoringFormStates=!0;const r=e.getElementsByTagName("form");Array.from(r).forEach((e=>this.restoreSingleFormState(e,t||"unknown")))}catch(e){Debug.error(`Error restoring form states: ${e.message}`)}finally{this.isRestoringFormStates=!1}},restoreSingleFormState(e,t){if(!e.id)return!1;const r=this.handleFormStorage(e,{},"load");if(!r)return Debug.debug(`No stored state found for form: ${e.id}`),!1;const n=this.collectDebugInfo(e,"restore",{restoredElements:[],customVisualUpdates:[],skippedElements:[],storageType:this.shouldUseLocalStorage(e)?"localStorage":"sessionStorage"});return this.processFormElements(e,(e=>{e.name in r&&(n.restoredElements.push({name:e.name,value:r[e.name]}),this.restoreElementValue(e,r[e.name]))})),Debug.debug(`Form state restoration summary for ${e.id}`,{storageType:n.storageType,source:t||"unknown",restoredElements:n.restoredElements.map((e=>({name:e.name,value:e.value}))),updatedCustomVisualStates:n.customVisualUpdates,skippedElements:n.skippedElements}),EventSystem.publish("formState:afterRestore",{formId:e.id,formElement:e,state:r,source:t||"unknown"}),!0},clearFormState(e){try{const t=document.getElementById(e);if(!t)return;this.handleFormStorage(t,{},"clear"),EventSystem.publish("formState:clear",{formId:e,formElement:t})}catch(e){Debug.error(`Error clearing form state: ${e.message}`)}},collectDebugInfo(e,t,r={}){return{formId:e.id,type:t,persistenceEnabled:this.isPersistenceEnabledForElement(e),restoredElements:r.restoredElements||[],customVisualUpdates:r.customVisualUpdates||[],skippedElements:r.skippedElements||[],storageType:r.storageType}},handleFormStorage(e,t,r="save"){const n=this.shouldUseLocalStorage(e),i=`fp_form_${e.id}`;if("save"===r)n?saveToLocalStorage(e.id,t,"form"):sessionStorage.setItem(i,JSON.stringify(t));else{if("load"===r)return n?loadFromLocalStorage(e.id,"form"):JSON.parse(sessionStorage.getItem(i)||"{}");"clear"===r&&(n&&localStorage.removeItem(i),sessionStorage.removeItem(i))}},processFormElements(e,t){Array.from(e.elements).forEach((e=>{e.name&&"file"!==e.type&&this.isPersistenceEnabledForElement(e)&&t(e)}))},restoreElementValue(e,t){"checkbox"===e.type||"radio"===e.type?(e.checked="true"===t,this.updateCustomVisualState(e)):e instanceof HTMLSelectElement&&e.multiple?Array.from(e.options).forEach((e=>{e.selected=t.includes(e.value)})):e.value=t},updateCustomVisualState(e){const t=e.closest("checkbox"===e.type?".w-checkbox":".w-radio");if(!t)return;const r=t.querySelector(`.w-${e.type}-input`);r&&(r.checked=e.checked)},isPersistenceEnabledForElement(e){const t=AttributeMatcher.findAttribute(e,"persist");return null!==t?"false"!==t:!1!==ConfigManager.getConfig().persistForm},shouldUseLocalStorage:e=>AttributeMatcher.v(e,"persist-local")||!0===ConfigManager.getConfig().storage?.enabled,shouldRestoreForm(e){const t=AttributeMatcher.findMatchingElements("persist","true",!0,e);if(t&&t.length>0)return!0;if("FORM"===e.tagName&&AttributeMatcher.v(e,"persist"))return"false"!==AttributeMatcher.m(e,"persist");const r=e.closest("form");if(r){if("false"===AttributeMatcher.m(r,"persist"))return!1;const e=r.elements;for(const t of e)if(t.name&&"file"!==t.type&&!AttributeMatcher.findClosestParent("persist",t,"false",!0))return!0}const n=e.getElementsByTagName("form");for(const e of n)if(this.shouldRestoreForm(e))return!0;return!1}};function collectDebugInfo(e,t,r={}){return{formId:e.id,type:t,persistenceEnabled:isPersistenceEnabledForElement(e),restoredElements:r.restoredElements||[],customVisualUpdates:r.customVisualUpdates||[],skippedElements:r.skippedElements||[],storageType:r.storageType}}function handleFormStorage(e,t={},r="save"){const n=shouldUseLocalStorage(e),i=`fp_form_${e.id}`;if("save"===r)n?saveToLocalStorage(e.id,t,"form"):sessionStorage.setItem(i,JSON.stringify(t));else{if("load"===r)return n?loadFromLocalStorage(e.id,"form"):JSON.parse(sessionStorage.getItem(i)||"{}");"clear"===r&&(n&&localStorage.removeItem(i),sessionStorage.removeItem(i))}}function processFormElements(e,t){Array.from(e.elements).forEach((e=>{(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement)&&e.name&&"file"!==e.type&&isPersistenceEnabledForElement(e)&&t(e)}))}function manageEventListener(e,t,r,n="add"){("change"===t?["change","checkbox"!==e.type&&"radio"!==e.type?"input":null]:[t]).filter(Boolean).forEach((t=>{e["add"===n?"addEventListener":"removeEventListener"](t,r)}))}function restoreElementValue(e,t){e instanceof HTMLInputElement&&("checkbox"===e.type||"radio"===e.type)?(e.checked="true"===t,updateCustomVisualState(e)):e instanceof HTMLSelectElement&&e.multiple?Array.from(e.options).forEach((e=>{e.selected=t.includes(e.value)})):e.value=t}function updateCustomVisualState(e){const t=e.closest("checkbox"===e.type?".w-checkbox":".w-radio");if(!t)return;const r=t.querySelector(`.w-${e.type}-input`);r&&r.classList.toggle("w--redirected-checked",e.checked)}function getPersistenceSettings(e){let t=!1,r=!1;if(AttributeMatcher.v(e,"persist"))t="false"!==AttributeMatcher.m(e,"persist"),r="true"===AttributeMatcher.m(e,"persist");else{const n=e.closest("form");n&&AttributeMatcher.v(n,"persist")?(t="false"!==AttributeMatcher.m(n,"persist"),r="true"===AttributeMatcher.m(n,"persist")):ConfigManager.getConfig().storage?.enabled&&!ConfigManager.getConfig().persistForm?(t=!1,r=!1):(t=ConfigManager.getConfig().persistForm,r=ConfigManager.getConfig().storage?.enabled&&ConfigManager.getConfig().persistForm)}return e instanceof HTMLFormElement&&Array.from(e.elements).some((e=>"true"===AttributeMatcher.m(e,"persist")))&&(r=ConfigManager.getConfig().storage?.enabled),{shouldPersist:t,useLocalStorage:r&&ConfigManager.getConfig().storage?.enabled}}function isPersistenceEnabledForElement(e){return getPersistenceSettings(e).shouldPersist}function shouldUseLocalStorage(e){return getPersistenceSettings(e).useLocalStorage}function captureElementState(e){try{return e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?{value:e.value,checked:e.checked,selected:e instanceof HTMLSelectElement?e.multiple?Array.from(e.selectedOptions).map((e=>e.value)):e.value:null,selectionStart:e instanceof HTMLTextAreaElement?e.selectionStart:null,selectionEnd:e instanceof HTMLTextAreaElement?e.selectionEnd:null,scrollTop:e instanceof HTMLTextAreaElement?e.scrollTop:null,scrollLeft:e instanceof HTMLTextAreaElement?e.scrollLeft:null}:null}catch(e){return Debug.error(`Error capturing element state: ${e.message}`),null}}function restoreElementState(e,t){try{if(!t)return;if(e instanceof HTMLSelectElement){if(t.selected)if(e.multiple&&Array.isArray(t.selected))t.selected.forEach((t=>{const r=e.querySelector(`option[value="${t}"]`);r&&(r.selected=!0)}));else{const r=e.querySelector(`option[value="${t.selected}"]`);r&&(r.selected=!0,e.value=t.selected)}}else e instanceof HTMLTextAreaElement?(e.value=t.value,null!==t.selectionStart&&null!==t.selectionEnd&&e.setSelectionRange(t.selectionStart,t.selectionEnd),null!==t.scrollTop&&(e.scrollTop=t.scrollTop),null!==t.scrollLeft&&(e.scrollLeft=t.scrollLeft)):(e.value=t.value,e.checked=t.checked)}catch(e){Debug.error(`Error restoring element state: ${e.message}`)}}function updateElementAttributes(e,t){try{Array.from(t.attributes).forEach((t=>{"value"===t.name||"checked"===t.name||t.name.startsWith("w-")||e.setAttribute(t.name,t.value)}))}catch(e){Debug.error(`Error updating element attributes: ${e.message}`)}}function preserveElementState(e,t){try{if(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement){const r=captureElementState(e);updateElementAttributes(e,t),restoreElementState(e,r)}}catch(e){Debug.error(`Error preserving element state: ${e.message}`)}}function captureFormStates(e){try{const t=e.getElementsByTagName("form"),r={};return Array.from(t).forEach((e=>{if(!e.id)return;const t={};Array.from(e.elements).forEach((e=>{e.name&&"file"!==e.type&&isPersistenceEnabledForElement(e)&&(t[e.name]="checkbox"===e.type||"radio"===e.type?e.checked:e instanceof HTMLSelectElement&&e.multiple?Array.from(e.selectedOptions).map((e=>e.value)):e.value)})),Object.keys(t).length>0&&(EventSystem.publish("formState:beforeCapture",{formId:e.id,formElement:e,state:t}),r[e.id]=t,shouldUseLocalStorage(e)?saveToLocalStorage(e.id,t,"form"):sessionStorage.setItem(`fp_form_${e.id}`,JSON.stringify(t)))})),r}catch(e){return Debug.error(`Error capturing form states: ${e.message}`),{}}}function restoreSingleFormState(e,t){if(!e.id)return!1;const r=handleFormStorage(e,{},"load");if(!r)return Debug.debug(`No stored state found for form: ${e.id}`),!1;const n=collectDebugInfo(e,"restore",{restoredElements:[],customVisualUpdates:[],skippedElements:[],storageType:shouldUseLocalStorage(e)?"localStorage":"sessionStorage"});return processFormElements(e,(e=>{e.name in r&&(n.restoredElements.push({name:e.name,value:r[e.name]}),restoreElementValue(e,r[e.name]))})),Debug.debug(`Form state restoration summary for ${e.id}`,{storageType:n.storageType,source:t||"unknown",restoredElements:n.restoredElements.map((e=>({name:e.name,value:e.value}))),updatedCustomVisualStates:n.customVisualUpdates,skippedElements:n.skippedElements}),EventSystem.publish("formState:afterRestore",{formId:e.id,formElement:e,state:r,source:t||"unknown"}),!0}function clearFormState(e){FormStateManager.clearFormState(e)}function setupFormChangeListeners(e){try{if(!e.id)return void Debug.debug("Skipping form without ID");const t=collectDebugInfo(e,"setup",{formElements:e.elements.length,checkboxWrappers:e.querySelectorAll(".w-checkbox").length,listenersAdded:[],skippedElements:[]});e.k||(e.k=[]),processFormElements(e,(r=>{if(e.k.some((({element:e})=>e===r)))return;const changeHandler=e=>handleFormElementChange(e);manageEventListener(r,"change",changeHandler),e.k.push({element:r,handler:changeHandler}),t.listenersAdded?.push(r.name)})),Debug.debug(`Form setup summary for ${e.id}`,{totalFormElements:t.formElements,checkboxWrappers:t.checkboxWrappers,formPersistence:t.persistenceEnabled?"enabled":"disabled",listenersAdded:t.listenersAdded?.join(", "),skippedElements:t.skippedElements.join(", ")})}catch(e){Debug.error(`Error setting up form change listeners: ${e.message}`)}}function cleanupFormChangeListeners(e){try{if(!e.k)return;e.k.forEach((({element:e,handler:t})=>{e.removeEventListener("change",t),e.removeEventListener("input",t)})),e.k=[]}catch(e){Debug.error(`Error cleaning up form change listeners: ${e.message}`)}}function handleFormElementChange(e){try{const t=e.target,r=t.closest("form");if(!r||!r.id)return void Debug.debug("Skipping change handler - no form or form ID");const n=collectDebugInfo(r,"change",{changedValues:{},skippedElements:[]});function isTemplateValue(e){return!("string"!=typeof e||!e.includes("{{")&&!e.includes("}}")&&!e.includes("[[")&&!e.includes("]]")&&!e.includes("this."))}function isTemplateInput(e){return!!isTemplateValue(e.name)||!!isTemplateValue(e.value)||!!AttributeMatcher.v(e,"bind")}const i={};if(processFormElements(r,(e=>{if(isTemplateInput(e))return void n.skippedElements.push({name:e.name,reason:"Template binding detected",value:e.value});const t="checkbox"===e.type||"radio"===e.type?e.checked:e instanceof HTMLSelectElement&&e.multiple?Array.from(e.selectedOptions).map((e=>e.value)):e.value;i[e.name]=t,n.changedValues||(n.changedValues={}),n.changedValues[e.name]=t})),Object.keys(i).length>0){handleFormStorage(r,i,"save"),Debug.debug("Form state update for "+r.id+":",{"Changed element":t.name,"Storage type":shouldUseLocalStorage(r)?"localStorage":"sessionStorage","Updated values":n.changedValues,"Skipped elements":n.skippedElements});let o=null;for(const[a,s]of Object.entries(_state.instances))if(Array.from(s.elements).some((e=>e.contains(r)||r.contains(e)||e===r))){o=s;break}PluginManager.executeHook("updateForm",o,{element:r,id:r.id,data:i,changedElement:t}),EventSystem.publish("formState:changed",{formId:r.id,formElement:r,state:i,changedElement:t})}}catch(u){Debug.error(`Error handling form element change: ${u.message}`)}}function getAllRelevantForms(e){const t=new Set;e instanceof HTMLFormElement&&t.add(e);const r=e.closest("form");r&&t.add(r);const n=e.getElementsByTagName("form");return Array.from(n).forEach((e=>t.add(e))),t}function setupFormSubmitHandlers(e,t){try{Debug.debug("Setting up form submit handlers for element:",e);const r=getAllRelevantForms(e);Debug.debug(`Found ${r.size} forms`),r.forEach((e=>{setupSingleFormHandlers(e,t||"setupFormSubmitHandlers")}))}catch(e){Debug.error(`Error setting up form submit handlers: ${e.message}`)}}function setupSingleFormHandlers(e,t){e.id?(Debug.debug(`Setting up handlers for form: ${e.id}`),e.removeEventListener("submit",handleFormSubmit),e.addEventListener("submit",handleFormSubmit),setupFormChangeListeners(e),e.T=!0,shouldRestoreForm(e)?(Debug.debug(`Restoring state for form: ${e.id}`),restoreSingleFormState(e,t||"setupSingleFormHandlers")):Debug.debug(`Skipping form restoration - no persistent elements: ${e.id}`)):Debug.debug("Skipping form without ID")}function handleFormSubmit(e){try{const t=e.target.closest("form");t&&t.id&&clearFormState(t.id)}catch(e){Debug.error(`Error handling form submit: ${e.message}`)}}function setupDynamicFormObserver(e){try{const t=new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{e instanceof HTMLFormElement&&setupFormSubmitHandlers(e,"setupDynamicFormObserver")}))}))}));return t.observe(e,{childList:!0,subtree:!0}),t}catch(e){return Debug.error(`Error setting up dynamic form observer: ${e.message}`),null}}function shouldRestoreForm(e){return FormStateManager.shouldRestoreForm(e)}function morphChildren(e,t,r,n){if(!e.childNodes.length)return e.innerHTML=t.innerHTML,void(ConfigManager.getConfig().persistForm&&setupFormSubmitHandlers(e,"updateDOM - form state restoration - setupFormSubmitHandlers"));if(e instanceof HTMLInputElement)return void preserveElementState(e,t);const i=e instanceof SVGElement;if(isSpecialElement(e))return void(e instanceof HTMLIFrameElement||e instanceof HTMLScriptElement?updateElementAttributes(e,t):preserveElementState(e,t));if(!e.children.length&&e.childNodes.length||!t.children.length&&t.childNodes.length)return void handleMixedContent(e,t);const o=Array.from(e.childNodes),a=Array.from(t.childNodes);if(1===o.length&&1===a.length&&o[0].nodeType===a[0].nodeType&&o[0].nodeName===a[0].nodeName)return void morphChildren(o[0],a[0],r);const s=new Set;a.forEach(((t,n)=>{if(t.nodeType===Node.ELEMENT_NODE){const i=t.getAttribute("data-key");if(i){const t=r.get(i);if(t){const r=o.indexOf(t);-1!==r&&(e.insertBefore(t,o[n]||null),s.add(r))}}}})),a.forEach(((t,r)=>{const n=o.findIndex(((e,r)=>!s.has(r)&&nodesAreEqual(e,t)));if(-1!==n){s.add(n);const t=o[n];if(Array.from(e.childNodes).indexOf(t)!==r){const n=o[r];n&&n!==t&&e.insertBefore(t,n)}}else{const n=i?cloneWithNamespace(t):t.cloneNode(!0);e.insertBefore(n,o[r]||null)}})),o.forEach(((t,r)=>{s.has(r)||e.removeChild(t)}))}function isSpecialElement(e){return["INPUT","SELECT","TEXTAREA","IFRAME","SCRIPT"].includes(e.tagName)}function handleMixedContent(e,t){const r=Array.from(e.childNodes),n=Array.from(t.childNodes);r.length===n.length?r.forEach(((t,r)=>{const i=n[r];nodesAreEqual(t,i)||e.replaceChild(i.cloneNode(!0),t)})):e.innerHTML=t.innerHTML}function nodesAreEqual(e,t){return e.nodeType===t.nodeType&&(e.nodeType===Node.TEXT_NODE?e.textContent?.trim()===t.textContent?.trim():e.nodeType===Node.COMMENT_NODE?e.textContent===t.textContent:!!(e instanceof Element&&[e.className??"",t.className??""].some((e=>"string"==typeof e&&e.includes("w-"))))||e.isEqualNode(t))}function cloneWithNamespace(e){if(!(e instanceof Element))return e.cloneNode(!0);const t=e.namespaceURI,r=t?document.createElementNS(t,e.tagName):document.createElement(e.tagName);return Array.from(e.attributes).forEach((e=>{const t=e.namespaceURI;t?r.setAttributeNS(t,e.name,e.value):r.setAttribute(e.name,e.value)})),Array.from(e.childNodes).forEach((e=>{r.appendChild(cloneWithNamespace(e))})),r}async function updateDOM(e,t,r=!1,n=null){Performance.start("updateDOM");let i=AttributeMatcher.v(e,"force-full-update");if(!e.hasAttribute("fp-restoring")||i){e.setAttribute("fp-restoring","true");try{if(!(e&&e instanceof HTMLElement))throw new Error("Invalid target element");if("string"!=typeof t)throw new Error("newHTML must be a string");Debug.debug("Starting updateDOM with config:",ConfigManager.getConfig()),Debug.debug(`Form persistence enabled: ${ConfigManager.getConfig().persistForm}, Should restore form: ${FormStateManager.shouldRestoreForm(e)}`);let o=null;ConfigManager.getConfig().persistForm&&FormStateManager.shouldRestoreForm(e)&&(Debug.debug("Capturing form states before update"),o=captureFormStates(e),Debug.debug("Captured form states:",o));let a=null;ConfigManager.getConfig().persistForm&&FormStateManager.shouldRestoreForm(e)&&(Debug.debug("Setting up dynamic form observer"),a=setupDynamicFormObserver(e));const updateContent=()=>new Promise((a=>{if(EventSystem.publish("beforeDomUpdate",{element:e,newHTML:t,animate:r,formStates:o}),n&&PluginManager.executeHook("beforeDomUpdate",n,{element:e,newHTML:t,animate:r,formStates:o}),i)e.innerHTML=t.trim(),Debug.debug("Force full update, skipping morphChildren");else{const r=document.createElement("div");r.innerHTML=t.trim();const n=new Map,i=new Map;indexTree(e,n),indexTree(r,i),morphChildren(e,r,n,i)}ConfigManager.getConfig().persistForm&&FormStateManager.shouldRestoreForm(e)&&o&&(Debug.debug("Restoring form states after update"),FormStateManager.restoreFormStates(e,"updateDOM - form state restoration - restoreFormStates"),setupFormSubmitHandlers(e,"updateDOM - form state restoration - setupFormSubmitHandlers")),n&&PluginManager.executeHook("afterDomUpdate",n,{element:e,newHTML:t,animate:r,formStates:o}),EventSystem.publish("afterDomUpdate",{element:e,newHTML:t,animate:r,formStates:o}),a()}));if(document.startViewTransition&&r?await document.startViewTransition((()=>updateContent())).finished:await updateContent(),ConfigManager.getConfig().persistForm&&FormStateManager.shouldRestoreForm(e)){Debug.debug("Restoring form states after update");const t=AttributeMatcher.findMatchingElements("persist","true"),r=Array.isArray(t)?t:[t];Debug.debug(`Found ${r.length} inputs to restore`),FormStateManager.restoreFormStates(e,"updateDOM - final form state restoration - restoreFormStates"),setupFormSubmitHandlers(e,"updateDOM - final form state restoration - setupFormSubmitHandlers")}a&&(Debug.debug("Disconnecting form observer"),a.disconnect())}catch(e){throw Debug.error("Error in updateDOM:",e),console.error("UpdateDOM error:",e),e}finally{e.removeAttribute("fp-restoring"),Performance.end("updateDOM")}}else Debug.debug("Already restoring, skipping")}function indexTree(e,t){const r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);let n;for(;n=r.nextNode();){const e=n.getAttribute("data-key");e&&t.set(e,n)}}function isCssSelector(e){return!(!e.startsWith("#")&&!e.startsWith("."))||/[[]>+~:()]/.test(e)||/^[a-z]+[a-z-]+$/i.test(e)}function extractLocalData(e,t=!0){if(!e)return null;try{if(isCssSelector(e)){const t=document.querySelector(e);if(t){const r=PluginManager.getPlugin("data-extractor");if(!r||"function"!=typeof r.globalMethods?.processHtml)return Debug.warn("DataExtractor plugin not available for element extraction"),null;try{const n=r.globalMethods?.processHtml?.(t.outerHTML);return Debug.debug(`Extracted data from element "${e}":`,n),n}catch(t){return Debug.error(`DataExtractor failed for "${e}": ${t.message}`),null}}}const r=window[e];if(void 0!==r){if(t&&("object"!=typeof r||null===r||Array.isArray(r))){let t={[e]:r};return Debug.info(`Wrapped primitive value "${e}":`,t),t}return Debug.info(`Extracted value "${e}":`,r),r}return Debug.warn(`Neither variable nor element found for "${e}"`),null}catch(t){return Debug.info(`Error extracting local data "${e}": ${t.message}`),null}}function instanceMethods(e){function _resolvePath(t){const r=_state.instances[e];if(!r)return void Debug.error("Instance not found: "+e);const n=t.split(/[\.\[\]'"]/);let i=r.data;for(let e=0;e<n.length;e++){const t=n[e];if(""!==t){if(null==i||!i.hasOwnProperty(t))return;i=i[t]}}return i}return{instanceName:e,animate:_state.defaults.animation,q:async function(){const t=_state.instances[e];if(t)try{let r;if("self"===t.templateId||null===t.templateId){const e=Array.from(t.elements)[0];if(!e)return void Debug.error("No template element found for self template",t.instanceName);r=e.innerHTML}else{if(!t.template)return void Debug.error("No template found for instance",t.instanceName);{const{valid:n,isHtml:i}=function _validateData(t){return"string"==typeof t&&t.trim().startsWith("<!DOCTYPE")?(Debug.debug("Data is HTML, skipping validation",e),{valid:!0,isHtml:!0}):"object"==typeof t&&null!==t||Array.isArray(t)||"number"==typeof t||"boolean"==typeof t?{valid:!0,isHtml:!1}:(Debug.error("Invalid data type: "+typeof t),{valid:!1,isHtml:!1})}(t.data);if(!n)return void Debug.error("Invalid data type for instance",t.instanceName);if(i)Debug.debug("Data is HTML, using as is",t.instanceName),r=t.data;else{Debug.debug("Before transformation - instance data:",{instanceName:t.instanceName,rawData:t.data,getData:t.getData()});const e=PluginManager.applyTransformations(t,t.getData(),"transformDataBeforeRender","json");Debug.debug("After transformation - transformed data:",{instanceName:t.instanceName,transformedData:e,isNull:null===e,isUndefined:void 0===e,type:typeof e}),r=t.template(e),Debug.debug("Rendered template with data:",{template:t.templateId,data:e,rendered:r})}}}const n=Array.from(t.elements).filter((e=>document.body.contains(e)));if(0===n.length)return void Debug.error("No active elements found for instance",t.instanceName);const i=n.map((e=>updateDOM(e,r,t.animate,t)));return await Promise.all(i)}catch(e){Debug.error("Error updating DOM for instance",t.instanceName,e)}else Debug.error("Instance not found: "+e)},setData:function(t){const r=_state.instances[e];if(!r)return Debug.error("Instance not found: "+e),this;if(("string"==typeof t||"number"==typeof t||Array.isArray(t))&&(Debug.warn("[setData] Received raw value or unnamed root object, automatically wrapping in 'data' property"),t={data:t}),"object"!=typeof t||null===t||Array.isArray(t))return Debug.error("Invalid newData type provided to setData: "+typeof t),this;const n=r.data;Debug.debug(`[setData] Replacing data for ${e}. Current keys: ${Object.keys(n).join(", ")}, New keys: ${Object.keys(t).join(", ")}`);let i=[];for(const e in n)Object.hasOwnProperty.call(n,e)&&!Object.hasOwnProperty.call(t,e)&&(i.push(e),delete n[e]);return i.length>0&&Debug.debug(`[setData] Deleted stale keys for ${e}: ${i.join(", ")}`),deepMerge(n,t),Debug.debug(`[setData] Data replacement complete for ${e}.`),this},remove:function(){const t=_state.instances[e];if(!t)throw new Error("Instance not found: "+e);EventSystem.publish("beforeRemove",{instanceName:e,elements:t.elements});try{return ConfigManager.getConfig().storage?.enabled&&localStorage.removeItem(`fp_${e}`),t.elements.forEach((function(e){try{e.innerHTML=""}catch(e){Debug.error("Error removing instance: "+e.message)}})),t.elements=[],delete _state.instances[e],delete _state.templateCache[t.templateId],EventSystem.publish("afterRemove",{instanceName:e,elements:[]}),Debug.info("Removed instance: "+e),!0}catch(e){throw e}},refresh:async function(t={remote:!0,recompile:!1,ignoreLocalData:!1}){const r=_state.instances[e];if(!r)return Debug.error("Instance not found: "+e),Promise.reject(new Error("Instance not found: "+e));const n=PluginManager.applyTransformations(r,r.data,"transformDataBeforeRender","json"),i=r.template(n);(t.recompile||!i&&r.data)&&(r.template=compileTemplate(r.templateId,!0)),Debug.debug("Refresh - Template check:",{templateId:r.templateId,templateElement:document.querySelector(r.templateId),compiledTemplate:r.template(n)});let o=!1;if(r.localVarName&&!t.ignoreLocalData){const e=extractLocalData(r.localVarName);e&&(deepMerge(r.data,e),o=!0,Debug.debug(`Refreshed data from local variable "${r.localVarName}"`))}const a=[];return r.elements.forEach((async function(n){try{if(t.remote&&!o){const t=["get","post","put","patch","delete"];if(t.some((e=>n.getAttribute(`hx-${e}`)))){const i=t.find((e=>n.getAttribute(`hx-${e}`))),o=n.getAttribute(`hx-${i}`),s=fetch(o,{method:i?.toUpperCase()}).then((e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()})).then((t=>(deepMerge(r.data,t),ConfigManager.getConfig().storage?.enabled&&saveToLocalStorage(e,r.data,"instance"),t)));a.push(s)}}else{const e=PluginManager.applyTransformations(r,r.data,"transformDataBeforeRender","json");Debug.debug("Instance.refresh - Transformed data:",e),a.push(updateDOM(n,r.template(e),r.animate,r))}}catch(e){n.innerHTML=`<div class="fp-error">Error refreshing template: ${e.message}</div>`,Debug.error(`Failed to refresh template: ${e.message}`),a.push(Promise.reject(e))}})),Promise.all(a)},getData:function(){return JSON.parse(JSON.stringify(_state.instances[e].data))},getElements:function(){return _state.instances[e].elements},get:function(e){return e?_resolvePath.call(this,e):this.getData?.()},refreshTemplate:function(e,t=!1){return Performance.start("refreshTemplate:"+e),!!compileTemplate(e,t)||(Debug.error("Failed to compile template: "+e),Performance.end("refreshTemplate:"+e),!1)}}}function createDeepProxy(e,t){if("object"!=typeof e||null===e)return e;const r={get(e,r){const n=e[r];return n&&"object"==typeof n?createDeepProxy(n,t):n},set:(e,r,n)=>(e[r]=n,Promise.resolve().then((()=>t(e))),!0),deleteProperty:(e,r)=>(delete e[r],Promise.resolve().then((()=>t(e))),!0)};return new Proxy(e,r)}const GroupManager={getOrCreateGroup(e,t={}){let r=_state.groups[e];if(r)return Object.keys(t).length>0&&(deepMerge(r.data,t),Debug.debug(`[GroupManager] Merged initialData into existing group: ${e}`,t)),r;let n={};if(ConfigManager.getConfig().storage?.enabled)try{const t=loadFromLocalStorage(e,"group");t?(Debug.info(`[GroupManager] Loaded group data from storage for: ${e}`),n=t):Debug.debug(`[GroupManager] No group data found in storage for: ${e}`)}catch(t){Debug.error(`[GroupManager] Error loading group ${e} from storage: ${t.message}`)}else Debug.debug(`[GroupManager] Storage is disabled, skipping loadFromLocalStorage for: ${e}`);Object.keys(t).length>0&&(n=deepMerge(n,t),Debug.debug(`[GroupManager] Merged initialData onto base for new group: ${e}`,t)),Debug.info(`[GroupManager] Creating new group: ${e} with base data`,n);const i={name:e,elements:[],addElement:e=>{i.elements.push(e)},removeElement:e=>{i.elements=i.elements.filter((t=>t!==e))},instances:new Set,L:!1,H:new Map,data:{},getData:()=>JSON.parse(JSON.stringify(_state.groups[e].data)),update:e=>{deepMerge(i.data,e)},refresh:()=>{i.update(i.data)},destroy:()=>{delete _state.groups[e]}};return i.data=createDeepProxy(n,(async()=>{if(!i.L)try{i.L=!0,Debug.info(`[Group Update] Updating all instances in group: ${e}`);const t=Array.from(i.instances).filter((e=>e.template&&"function"==typeof e.template&&!e.O)).map((async t=>{try{const r=PluginManager.applyTransformations(t,i.getData(),"transformDataBeforeRender","json"),n=t.template(r);if(i.H.get(t.instanceName)!==n)return PluginManager.executeHook("updateData",t,{newData:i.data,source:"group"}),EventSystem.publish("updateData",{instanceName:t.instanceName,groupName:e,newData:i.data,source:"group"}),Debug.debug(`[Group Update] Updating DOM for ${t.instanceName}`),t.q().then((()=>{i.H.set(t.instanceName,n)}))}catch(e){Debug.error(`Error updating ${t.instanceName}:`,e)}}));await Promise.all(t),ConfigManager.getConfig().storage?.enabled&&(Debug.debug(`[Group Update] Saving group data for ${e}`),saveToLocalStorage(e,i.data,"group"))}finally{i.L=!1}})),_state.groups[e]=i,Debug.info(`[GroupManager] Created and stored new group: ${e}`),i},getGroup:e=>_state.groups[e]||null,getAllGroups:()=>_state.groups,updateGroup(e,t){const r=this.getGroup(e);return r&&r.data&&"object"==typeof t?(deepMerge(r.data,t),r):null},removeGroup(e){this.getGroup(e)&&(delete _state.groups[e],Debug.info(`Removed group: ${e}`))},removeAllGroups(){_state.groups={},Debug.info("Removed all groups")},addInstanceToGroup(e,t){const r=this.getOrCreateGroup(t);if(r){if(e.groupName=t,r.instances.add(e),e.template&&"function"==typeof e.template){const t=PluginManager.applyTransformations(e,r.getData(),"transformDataBeforeRender","json");try{const n=e.template(t);r.H.set(e.instanceName,n)}catch(e){Debug.error(`Error rendering template for group member: ${e.message}`)}}else Debug.debug(`Skipping initial render for group member: template not ready for ${e.instanceName}`);Debug.debug(`Added instance ${e.instanceName} to group ${t}`)}},removeInstanceFromGroup(e){if(!e.groupName)return;const t=_state.groups[e.groupName];t&&(t.instances.delete(e),t.H.delete(e.instanceName),Debug.debug(`Removed instance ${e.instanceName} from group ${e.groupName}`),0===t.instances.size&&(delete _state.groups[e.groupName],Debug.info(`Removed empty group: ${e.groupName}`))),delete e.groupName}},InstanceManager={getOrCreateInstance(e,t={}){if(AttributeMatcher.v(e,"indexed"))return Debug.debug(`Element already indexed: ${e.id||AttributeMatcher.m(e,"instance")}`),_state.instances[AttributeMatcher.m(e,"instance")||e.id];const r=AttributeMatcher.m(e,"instance")||e.id;if(!r)return Debug.error("No instance name found for element"),null;const n=AttributeMatcher.m(e,"group");let i=_state.instances[r];if(i)i.elements.includes(e)||i.elements.push(e),e.setAttribute("fp-indexed","true"),Debug.debug(`Added element to existing instance: ${r}`),n&&!i.groupName&&(i.groupName=n,Debug.info(`Added existing instance ${r} to group ${n}`));else{if(!AttributeMatcher.v(e,"template")){const e=AttributeMatcher.findMatchingElements("template")?.find((e=>AttributeMatcher.m(e,"instance")===r));return e?(Debug.debug(`Found parent template element for instance ${r}`),this.getOrCreateInstance(e,t)):(Debug.error(`No template element found for instance ${r}`),null)}const o={instanceName:r,elements:[e],template:null,templateId:AttributeMatcher.m(e,"template")||"",data:t,cleanup:()=>{i.groupName&&GroupManager.removeInstanceFromGroup(i),i.elements=[]}},a=instanceMethods(r);i=Object.assign(o,a);const s=PluginManager.instanceMethods;for(const[e]of s.entries())i[e]=(...t)=>PluginManager.executeInstanceMethod(e,i,...t);_state.instances[r]=i,PluginManager.executeHook("newInstance",i),Debug.info(`Created new instance: ${r}`),AttributeMatcher.findMatchingElements("instance",r).forEach((t=>{if(t!==e){const e=AttributeMatcher.findInheritedAttribute(t,"target");if(e){let r=[];switch(!0){case"this"===e:r=[t];break;case e.startsWith("closest "):const n=e.substring(8),i=t.closest(n);i&&(r=[i]);break;case e.startsWith("find "):const o=e.substring(5),a=t.querySelector(o);a&&(r=[a]);break;case"next"===e:const s=t.nextElementSibling;s&&(r=[s]);break;case e.startsWith("next "):const u=e.substring(5);let l=t.nextElementSibling;for(;l;){if(l.matches(u)){r=[l];break}l=l.nextElementSibling}break;case"previous"===e:const c=t.previousElementSibling;c&&(r=[c]);break;case e.startsWith("previous "):const f=e.substring(9);let h=t.previousElementSibling;for(;h;){if(h.matches(f)){r=[h];break}h=h.previousElementSibling}break;default:r=Array.from(document.querySelectorAll(e))}r.forEach((e=>{i.elements.includes(e)||i.elements.push(e),e.setAttribute("fp-indexed","true")}))}else i.elements.includes(t)||i.elements.push(t);t.setAttribute("fp-indexed","true")}})),e.setAttribute("fp-indexed","true"),n&&(i.groupName=n,Debug.info(`Instance ${r} will be added to group ${n}`))}return i},updateInstanceData(e,t){e&&e.data?deepMerge(e.data,t):Debug.error("Cannot update data: Instance or instance.data is invalid.")}};function render({template:e,data:t,target:r,returnHtml:n=!1,instanceName:i,animate:o=_state.defaults.animation,recompile:a=!1,skipLocalStorageLoad:s=!1,skipRender:u=!1,isStoredDataRender:l=!1}){let c;if(Performance.start("render:"+(i||"anonymous")),_state.i||(_state.i={}),i?c=i:r instanceof Element&&AttributeMatcher.v(r,"instance")?c=AttributeMatcher.m(r,"instance"):r instanceof Element&&r.id?c=r.id:"string"==typeof r&&r.startsWith("#")&&(c=r.substring(1)),c&&_state.i[c]&&!l){const e=Date.now()-_state.i[c];if(e<100)return Debug.warn(`[Template] Skipping redundant initialization for ${c}, last init was ${e}ms ago`),_state.instances[c]||null}if(c&&(_state.i[c]=Date.now()),EventSystem.publish("beforeRender",{instanceName:i,template:e,data:t,target:r,returnHtml:n,recompile:a}),!e||"self"===e){const t="string"==typeof r?document.querySelector(r):r;t&&(e="#"+t.id)}let f=[];if(r instanceof Element){const e=AttributeMatcher.m(r,"target");e&&(f="this"===e?[r]:Array.from(document.querySelectorAll(e)))}if(0===f.length&&(r instanceof NodeList?f=Array.from(r):"string"==typeof r?f=Array.from(document.querySelectorAll(r)):r instanceof Element&&(f=[r])),0===f.length)return void Debug.error("No target elements found");i||(i=AttributeMatcher.v(f[0],"instance")?AttributeMatcher.m(f[0],"instance")||void 0:f[0].id?f[0].id:_state.length.toString());var h=compileTemplate(e,a);if(_state.length++,!h)return void Debug.error("Template not found: "+e);if(0===f.length)return void Debug.error("Target not found: "+r);let p=t||{},m=null,d=null;const g=AttributeMatcher.m(f[0],"local");let b=null;if(g){if(b=extractLocalData(g),!b)try{const e=document.querySelector(g);if(e&&AttributeMatcher.findMatchingElements("data",null,!1,e)){const t=PluginManager.getPlugin("data-extractor");t&&(b=t.instanceMethods?.extractData?.(e))}}catch(e){Debug.warn(`[Template] Invalid selector for fp-local: ${g}`)}if(b&&(p={...p,...b}),AttributeMatcher.v(f[0],"local-observe")){const e=AttributeMatcher.findMatchingElements("data");e?.forEach((e=>{PluginManager.getPlugin("data-extractor")?.instanceMethods?.observeDataElement?.(e,g,i?_state.instances[i]:void 0)}))}}if(i&&_state.instances[i]&&_state.instances[i].data)d=_state.instances[i].data;else{if(!s&&ConfigManager.getConfig().storage?.enabled&&(m=loadFromLocalStorage(i||"","instance"),m)){if(!0===m.isHtml||"string"==typeof m&&"function"==typeof m.trim&&(m.trim().startsWith("<!DOCTYPE html")||m.trim().startsWith("<html"))){const e=AttributeMatcher.m(f[0],"swap","innerHTML"),t={swapStyle:e||"innerHTML",swapDelay:0,settleDelay:0,transition:e?.includes("transition:true")||!1};return n?m:(f.forEach((e=>{htmx.swap(e,m,t)})),i?_state.instances[i]:void 0)}p={...m?.data||m,...p},Debug.debug(`[Template] Merged persisted data for ${i}:`,p)}const t=f.find((e=>AttributeMatcher.v(e,"template")));if(!t)return Debug.error("No template element found in target elements"),null;const r=InstanceManager.getOrCreateInstance(t,p);if(!r)return Debug.error("Failed to get or create instance: "+i),null;g&&(r.localVarName=g),r.N||(r.N=null),r.I||(r.I=null);const o=AttributeMatcher.m(t,"group");if(o){let e=p;if(!s&&ConfigManager.getConfig().storage?.enabled){const t=loadFromLocalStorage(o,"group");t&&(e=deepMerge(t,p),Debug.debug(`Loaded persisted data for group ${o}`,e))}const t=GroupManager.getOrCreateGroup(o,e);d=t.data,GroupManager.addInstanceToGroup(r,o),Debug.info(`Instance ${i} is using group ${o} data`)}else{const e=0;d=createDeepProxy(p,(()=>{if(r){if(r.L)return;r.N&&clearTimeout(r.N),r.N=setTimeout((()=>{try{r.L=!0;const e=PluginManager.applyTransformations(r,r.getData(),"transformDataBeforeRender","json"),t=r.template(e);if(r.F!==t){if(Debug.info(`[Debounced Update] Output changed for ${i}. Firing updateData hook.`),PluginManager.executeHook("updateData",r,{newData:d,source:"proxy"}),EventSystem.publish("updateData",{instanceName:i,newData:d,source:"proxy"}),Debug.debug(`[Debounced Update] Triggering _updateDOM for ${i}`),r.q(),r.F=t,ConfigManager.getConfig().storage?.enabled){const e=r.instanceName.replace("#","");Debug.debug(`[Debounced Update] Saving data for ${e}`),saveToLocalStorage(e,d,"instance")}}else Debug.debug(`[Debounced Update] No output change for ${i}. Skipping update.`)}finally{r.L=!1,r.N=null}}),e)}}))}if(r.template=h,r.templateId=AttributeMatcher.m(t,"template")||e,r.data=d,Debug.debug(`[Initial Render] ${u?"Skipping":"Triggering"} _updateDOM for ${i}`),u||r.q(),ConfigManager.getConfig().storage?.enabled&&!m&&!r.groupName){const e=i?.replace("#","")||"";Debug.debug(`[Initial Save] Saving initial data for ${e}`),saveToLocalStorage(e,p,"instance")}}const v=i?_state.instances[i]:void 0;if(v&&Debug.info("Final instance data: ",v.data),d){const t=f.find((e=>AttributeMatcher.v(e,"template")));if(!t)return Debug.error("No template element found in target elements"),null;const r=InstanceManager.getOrCreateInstance(t,p);if(!r)return Debug.error("Failed to get or create instance: "+i),null;if(r.template=h,r.templateId=AttributeMatcher.m(t,"template")||e,r.data=d,u)Debug.debug(`[Render Template] Skipping render for ${i} as requested`);else{Debug.debug(`[Render Template] Executing render for ${i}`);try{if(n){const e=PluginManager.applyTransformations(r,r.getData(),"transformDataBeforeRender","json");return h(e)}Array.from(r.elements).forEach((e=>{const t=PluginManager.applyTransformations(r,r.getData(),"transformDataBeforeRender","json");updateDOM(e,h(t),o,r)}))}catch(e){throw e instanceof TemplateError||Debug.error(`Failed to render template: ${e.message}`),e}}}else u||Debug.debug(`[Template] Skipping render for ${i} because no data is available yet.`);return v||null}function compare(e,t,r){function isNullOrUndefined(e){return null==e}if(isNaN(e)||(e=Number(e)),isNaN(r)||(r=Number(r)),isNullOrUndefined(e)||isNullOrUndefined(r))switch(t){case"==":return e==r;case"!=":return e!=r;case"&&":return Boolean(e)&&Boolean(r);case"||":return Boolean(e)||Boolean(r);default:return!1}if("string"==typeof e&&"string"==typeof r)switch(t){case"==":return 0===e.localeCompare(r);case"!=":return 0!==e.localeCompare(r);case"<":return e.localeCompare(r)<0;case">":return e.localeCompare(r)>0;case"<=":return e.localeCompare(r)<=0;case">=":return e.localeCompare(r)>=0;default:throw new TemplateError("Unsupported operator for strings: "+t)}switch(t){case"==":return e==r;case"!=":return e!=r;case"<":return e<r;case">":return e>r;case"<=":return e<=r;case">=":return e>=r;case"&&":return Boolean(e)&&Boolean(r);case"||":return Boolean(e)||Boolean(r);case"regex":return new RegExp(r).test(e);default:throw new TemplateError("Unsupported operator: "+t)}}function ifHelper(){const e=window.Handlebars;e.unregisterHelper("if"),e.registerHelper("if",(function(e,t){function resolveValue(e,t,r){if(e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'"))return e.slice(1,-1);if(!isNaN(Number(e)))return parseFloat(e);if("this"===e)return r;if(e.startsWith("this.")){const t=e.split(".").slice(1);let n=r;for(const e of t){if(!n||"object"!=typeof n)return;if(!Object.prototype.hasOwnProperty.call(n,e))return;n=n[e]}return n}const n=e.split(".");let i=t;for(const e of n){if(i&&"object"==typeof i){if(Object.prototype.hasOwnProperty.call(i,e)){i=i[e];continue}return}return}return i}try{if(!e.match(/\s*(==|!=|<=|>=|<|>|\|\||&&)\s*/))return void 0!==resolveValue(e,t.data.root,this)?t.fn(this):t.inverse(this);const r=e.trim();let[n,i,o]=r.split(/\s*(==|!=|<=|>=|<|>|\|\||&&)\s*/);if(!n||i&&!o||!n&&i)throw new TemplateError(`Invalid expression format: ${r}`);const a=resolveValue(n,t.data.root,this),s=!o||resolveValue(o,t.data.root,this);return i=i||"==",Debug.info("Evaluating expression:",{raw:r,leftValue:a,operator:i,rightValue:s}),"=="!==i||o?compare(a,i,s)?t.fn(this):t.inverse(this):void 0!==a?t.fn(this):t.inverse(this)}catch(e){throw e instanceof TemplateError||Debug.error("Error evaluating if condition:",e.stack),e}}))}function sumHelper(){window.Handlebars.registerHelper("sum",(function(...e){for(var t=0,r=0;r<e.length-1;r++){var n=e[r];Array.isArray(n)?n.forEach((function(e){t+=e})):t+=n}return t}))}function*Lexer(e){for(var t,r=new RegExp(Lexer.lang,"g");null!==(t=r.exec(e));){var[n]=t;for(var i in Lexer.categories)if(new RegExp(Lexer.categories[i]).test(n)){yield{token:n,category:i};break}}}Lexer.categories={op:"[+*/^]|-(?!\\d)",num:"-?\\d+(?:\\.\\d+)?%?",group:"[\\[()\\]]",sep:",",ident:"\\b(ans|pi|e)\\b",func:"\\b(sqrt|abs|log|ln|sin|cos|tan|min|max)\\b"},Lexer.lang=[Lexer.categories.op,Lexer.categories.num,Lexer.categories.group,Lexer.categories.sep,Lexer.categories.ident,Lexer.categories.func].join("|"),Lexer.cat={INT:"num",IDENT:"ident",PCNT:"num",FUNC:"func",SEP:"sep"};class Calc{constructor(){Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"w",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"l",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.stack=[],this.w=null,this.l=null}B(){const e=this.l.next();return e.done?null:e.value}exec(e){try{if(this.l=Lexer(e),this.w=this.B(),!this.e())throw new SyntaxError(this.w?this.w.token:"Unexpected end of expression");if(null!==this.w)throw new SyntaxError(`Unexpected token: ${this.w.token}`);return Calc.ans=this.stack.pop()}catch(e){throw Debug.error("Error in expression evaluation:",e),e}}j(e){return this.w&&e===this.w.token}z(){if(this.U(this.V,"abs","|","|"))return!0;if(this.w&&["INT","IDENT","PCNT"].some((e=>Lexer.cat[e]===this.w.category)))return this.stack.push(Calc.W(this.w)),this.w=this.B(),!0;if(this.w&&this.w.category===Lexer.cat.FUNC){var e=this.w.token;return this.w=this.B(),"min"===e||"max"===e?this.G(this.V,e):this.U(this.V,e)}return!!this.U(this.V,"abs","|","|")}G(e,t,r="(",n=")"){if(this.w&&this.w.token===r){this.w=this.B();let r=[];for(;null!==this.w&&this.e()&&(r.push(this.stack.pop()),this.w&&"sep"===this.w.category);)this.w=this.B();if(this.w&&this.w.token===n)return this.w=this.B(),e instanceof Function&&e.call(this,t,r),!0}return!1}J(e,t){return e.call(this)&&t.call(this)}X(e,t,r,n){if(this.w&&e.some((e=>e===this.w.token))){var i=this.w.token,o=this.stack.pop();if(this.w=this.B(),t.call(this)){var a=this.stack.pop();return this.stack.push(Calc.K(i)(o,a)),r.call(this)}}else if(!this.w||n.some((e=>e===this.w.token)))return!0;return!1}e(){if(!this.t())return!1;for(;this.w&&("+"===this.w.token||"-"===this.w.token);){const e=this.w.token;if(this.w=this.B(),!this.t())return!1;const t=this.stack.pop(),r=this.stack.pop();this.stack.push(Calc.K(e)(r,t))}return!0}t(){let e=this.f();for(;this.w&&("*"===this.w.token||"/"===this.w.token);){const e=this.w.token;if(this.w=this.B(),!this.f())return!1;const t=this.stack.pop(),r=this.stack.pop();this.stack.push(Calc.K(e)(r,t))}return e}f(){if(this.w&&"-"===this.w.token){if(this.w=this.B(),!this.z())return!1;const e=this.stack.pop();return this.stack.push(-e),!0}return this.z()}ep(){return this.X(["+","-"],this.p,this.ep,[")","|",","])}p(){return this.J(this.x,this.pp)}pp(){return this.X(["*","/"],this.x,this.pp,["+","-",")","|",","])}x(){return this.J(this.z,this.xp)}xp(){return this.X(["^"],this.z,this.xp,["*","/","+","-",")","|",","])}U(e,t,r="(",n=")"){return!(!this.w||this.w.token!==r||(this.w=this.B(),!this.e()||!this.w||this.w.token!==n)||(this.w=this.B(),e instanceof Function&&e.call(this,t),0))}V(e,t){if(t)this.stack.push(Calc.Y(e).apply(null,t));else{const t=this.stack.pop();if(void 0===t)throw new Error(`Function ${e} requires an argument`);this.stack.push(Calc.Y(e)(t))}}static Y(e){switch(e){case"sqrt":return Math.sqrt;case"log":return Math.log10;case"ln":return Math.log;case"abs":return Math.abs;case"min":return Math.min;case"max":return Math.max;case"sin":return Math.sin;case"cos":return Math.cos;case"tan":return Math.tan;default:throw new Error(`Unknown function: ${e}`)}}static W(e){var t;return e.category===Lexer.cat.INT||e.category===Lexer.cat.PCNT?(t=parseFloat(e.token),e.token.endsWith("%")&&(t/=100)):e.category===Lexer.cat.IDENT&&("pi"===e.token?t=Math.PI:"e"===e.token?t=Math.E:"ans"===e.token&&(t=this.ans)),t}static K(e){switch(e){case"+":return(e,t)=>e+t;case"-":return(e,t)=>e-t;case"*":return(e,t)=>e*t;case"/":return(e,t)=>e/t;case"^":return(e,t)=>Math.pow(e,t);default:throw new Error(`Unknown operator: ${e}`)}}}function mathHelper(){window.Handlebars.registerHelper("math",(function(e,t){const r=["min","max","sqrt","abs","log","ln","sin","cos","tan"],n=e.replace(/@{([^}]+)}/g,((e,r)=>{try{let e;return e=r.includes(".")?r.split(".").reduce(((e,t)=>e[t]),t.data.root):t.data.root[r]||t.hash[r],e}catch(e){return console.warn(`Could not resolve ${r}`),NaN}})).replace(/[a-zA-Z_][a-zA-Z0-9_]*(\.[a-zA-Z0-9_]+)*/g,(e=>{if(r.includes(e)&&!e.includes("."))return e;try{let r;return r=e.includes(".")?e.split(".").reduce(((e,t)=>e[t]),t.data.root):t.data.root[e]||t.hash[e],r}catch(t){return console.warn(`Could not resolve ${e}`),NaN}}));Debug.debug("Evaluating expression:",n);try{return(new Calc).exec(n)}catch(e){if(!(e instanceof TemplateError))throw new TemplateError(`Error evaluating expression: ${e.message}`,e.stack);throw e}}))}function sortFunction(e,t){return function(r,n){let i=e?r[e]:r,o=e?n[e]:n;return null==i?t?-1:1:null==o?t?1:-1:"string"==typeof i&&"string"==typeof o?t?o.localeCompare(i):i.localeCompare(o):i<o?t?1:-1:i>o?t?-1:1:0}}function eachHelper(){const e=window.Handlebars;e.unregisterHelper("each"),e.registerHelper("each",(function(t,r){var n,i,o="",a=r.hash.limit||void 0,s=r.hash.startAt||0,u=r.hash.sortBy||"",l=r.hash.descending||!1,c=r.hash.sortBeforeLimit||!0,f=r.inverse,h=r.fn;if(t instanceof Map&&(t=Array.from(t.values())),c="boolean"!=typeof c||c,r.data&&r.ids&&(i=(r.data.contextPath||"")+r.ids[0]+"."),e.Utils.isFunction(t)&&(t=t.call(this)),r.data&&(n=e.createFrame(r.data)),!Array.isArray(t)&&"object"!=typeof t)return f(this);var p=Array.isArray(t)?t.slice():Object.entries(t);void 0===a&&(a=p.length),c?(p.sort(sortFunction(u,l)),p=p.slice(s,a+s)):(p=p.slice(s,a+s)).sort(sortFunction(u,l));for(var m=0;m<p.length;m++){var d=Array.isArray(t)?p[m]:p[m][1];n.key=Array.isArray(t)?m:p[m][0],n.index=m,n.first=0===m,n.last=m===p.length-1,i&&(n.contextPath=i+n.key),o+=h(d,{data:n,blockParams:e.Utils.blockParams([d,n.key],[i+n.key,null])})}return 0===m&&(o=f(this)),o}))}Calc.ans=0;const ALLOWED_FUNCTIONS=new Map;function executeHelper(){window.Handlebars.registerHelper("execute",(function(e,...t){if(!ConfigManager.getConfig().allowExecute)return Debug.error("execute is disabled. Cannot execute functions."),"";t.pop();const r=String(e).trim(),n=ALLOWED_FUNCTIONS.get(r);if(n)try{return n.apply(this,t)}catch(e){return Debug.error("Error executing registered function "+r+": "+e.message),""}const i=this[r];if("function"==typeof i)try{return i.apply(this,t)}catch(e){return Debug.error("Error executing context function "+r+": "+e.message),""}return Debug.error("Function not found or not allowed: "+r+". Please register the function using registerExecutableFunction() before using it in a template."),""}))}function setHelper(){window.Handlebars.registerHelper("set",(function(e,t,r){return e&&t?/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(e)?void(r.data.root[e]=t):(Debug.error(`setHelper: varName ${e} is not a valid variable name`),""):(Debug.error("setHelper: varName and varValue are required"),"")}))}function bunnyHelper(){const e=window.Handlebars;void 0!==e?e.helpers.bunny||(window._fp_bunnyStates={bunny:"\n    &nbsp;&nbsp;&nbsp;&nbsp;/)  /)<br>\n    ପ(˶•-•˶)ଓ ♡<br>\n    &nbsp;&nbsp;&nbsp;/づ  づ\n  ",bunnyFlipped:"\n    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(\\  (\\<br>\n    &nbsp;&nbsp;ପ(˶•-•˶)ଓ<br>\n    &nbsp;&nbsp;♡じ  じ\\\n  "},window._fp_bunnyAnimation=function(){window._fp_bunnyAnimationIntervalId&&clearInterval(window._fp_bunnyAnimationIntervalId),window._fp_bunnyAnimationIntervalId=setInterval((function(){document.querySelectorAll(".fp-bunny").forEach((function(e){"normal"===e.getAttribute("data-bunny-state")?(e.innerHTML=window._fp_bunnyStates.bunnyFlipped,e.setAttribute("data-bunny-state","flipped")):(e.innerHTML=window._fp_bunnyStates.bunny,e.setAttribute("data-bunny-state","normal"))}))}),1e3)},e.registerHelper("bunny",(function(){const t=`<span class="fp-bunny" data-bunny-state="normal">${window._fp_bunnyStates.bunny}</span>`;return setTimeout(window._fp_bunnyAnimation,0),new e.SafeString(t)})),document.querySelectorAll(".fp-bunny").length>0&&window._fp_bunnyAnimation()):console.error("Handlebars is not loaded yet!")}function defaultHelper(){window.Handlebars.registerHelper("default",(function(e,t){return e||t}))}function registerHelpers(){ifHelper(),sumHelper(),mathHelper(),eachHelper(),executeHelper(),setHelper(),bunnyHelper(),defaultHelper()}const RequestHandler={processingElements:new Map,currentRequestId:0,generateRequestId(){return`fp-${Date.now()}-${this.currentRequestId++}`},handleRequest(e,t,r){if(!e||!AttributeMatcher.v(e,"template"))return;const n=this.processingElements.get(e);switch(t=t||this.generateRequestId(),r){case"start":n&&n.requestId===t||(this.processingElements.set(e,{requestId:t,timestamp:Date.now(),processed:!1}),Debug.debug("Added element to processing set",e,t));break;case"process":return!(!n||n.requestId!==t||(n.processed=!0,this.processingElements.set(e,n),Debug.debug(`Marked request ${t} as processed for ${e.id||"unknown"}`),0));case"cleanup":n&&n.requestId===t?(this.processingElements.delete(e),Debug.debug("Cleaned up after request",e,t)):Debug.debug("Skipping cleanup - request mismatch",{current:n?.requestId,received:t})}},cleanupStale(){const e=Date.now();for(const[t,r]of this.processingElements.entries())e-r.timestamp>1e4&&(this.processingElements.delete(t),Debug.debug("Cleaned up stale processing entry",t,r.requestId))},setupEventListeners(){document.body.addEventListener("htmx:beforeRequest",(e=>{const t=e.detail.elt,r=e.detail.requestId||this.generateRequestId();e.detail.requestId=r,this.handleRequest(t,r,"start");let n=null,i=null;for(const[e,r]of Object.entries(_state.instances))if(Array.from(r.elements).some((e=>e.contains(t)))){n=r,i=e;break}n&&EventSystem.publish("requestStart",{instanceName:i,...e.detail})})),document.body.addEventListener("htmx:beforeSwap",(e=>{const t=e.detail.requestId,r=this.processingElements.get(e.detail.elt);r&&r.requestId!==t&&(e.preventDefault(),Debug.debug("Prevented swap - request ID mismatch"))})),document.body.addEventListener("htmx:responseError",(e=>{e.detail.failed&&this.handleRequest(e.detail.elt,e.detail.requestId,"cleanup")})),setInterval((()=>this.cleanupStale()),1e4),window.addEventListener("unload",(()=>{this.processingElements.clear()}))}};function parseXmlToJson(e){return function xmlToJson(e){var t={};if(e.attributes)for(var r=0;r<e.attributes.length;r++){var n=e.attributes.item(r);n&&(t["_"+n.nodeName]=n.nodeValue)}var i=e.childNodes;if(1===i.length&&3===i[0].nodeType)return i?.[0]?.nodeValue?.trim();for(var o=0;o<i.length;o++){var a=i[o];if(1===a.nodeType){var s=xmlToJson(a);t[a.nodeName]?(Array.isArray(t[a.nodeName])||(t[a.nodeName]=[t[a.nodeName]]),t[a.nodeName].push(s)):t[a.nodeName]=s}}return Object.keys(t).length>0?t:{}}((new DOMParser).parseFromString(e,"text/xml").documentElement)}function defineHtmxExtension(){htmx.defineExtension("flowplater",{transformResponse:async function(e,t,r){const n=t.getResponseHeader("Content-Type")||"",i=n.startsWith("text/xml"),o=n.startsWith("text/html");let a=e,s=!1;if(i)try{var u=(new DOMParser).parseFromString(e,"text/xml");a=JSON.stringify(parseXmlToJson(u.toString())),s=!0}catch(e){Debug.error("Failed to parse XML response:",e)}else o||(s=!0);const l=InstanceManager.getOrCreateInstance(r);l?(a=PluginManager.applyTransformations(l,a,"transformResponse",o?"html":"json"),s="object"==typeof a||"string"==typeof a&&(()=>{try{return JSON.parse(a),!0}catch{return!1}})(),Debug.debug(`[transformResponse] isJson: ${s}`)):Debug.debug(`[transformResponse] No instance found for elt ${r.id}. Skipping transformations.`),Debug.debug(`[transformResponse] Processed text: ${a}`);const c=t.requestId,f=RequestHandler.processingElements.get(r);if(!f||f.requestId!==c)return a;if(s){if(Debug.debug("[transformResponse] Processed text is JSON"),l){Debug.debug(`[transformResponse] Setting data for ${l.instanceName}`);try{RequestHandler.handleRequest(r,c,"process"),l.O=!0;const e="string"==typeof a?JSON.parse(a):a;return l.setData(e),l.O=!1,""}catch(e){return Debug.error(`[transformResponse] Error: ${e.message}`),l.O=!1,""}}return""}return a},handleSwap:function(e,t,r,n){Debug.debug(`[handleSwap] Swap style: ${e}`);const i=""===r.textContent?.trim(),o=n.xhr?.getResponseHeader("Content-Type")||"";if(!o.startsWith("text/html")&&!o.startsWith("text/xml"))return Debug.debug(`[handleSwap] Detected JSON response for target ${t.id||"[no id]"}. Preventing htmx swap.`),!0;const a=null!==PluginManager.getPlugin("data-extractor"),s=r&&AttributeMatcher.findMatchingElements("data",null,!1,r,!0).length>0;return a&&s?(Debug.debug("[handleSwap] Detected data-extractor plugin and fp-data attribute. Processing through data extractor."),!0):a?(Debug.info("[handleSwap] Detected data-extractor plugin but no fp-data attribute. Skipping data extraction."),!1):s?(Debug.warn("[handleSwap] Detected fp-data attribute but no data-extractor plugin. Skipping data extraction."),!1):i?(Debug.debug(`[handleSwap] Detected empty string signal for target ${t.id||"[no id]"}. Preventing htmx default swap.`),!0):(Debug.debug(`[handleSwap] Fragment is not empty signal for target ${t.id||"[no id]"}. Letting htmx swap.`),!1)},onEvent:function(e,t){const r=t.detail.elt;if(!r)return void Debug.warn(`[onEvent] Event ${e} has no triggering element (evt.detail.elt). Skipping.`);const n=t.detail.requestId||RequestHandler.generateRequestId();switch(t.detail.requestId||(t.detail.requestId=n),e){case"htmx:confirm":if(AttributeMatcher.v(r,"template")){const e=InstanceManager.getOrCreateInstance(r);t=PluginManager.applyTransformations(e,t,"confirm","json")}break;case"htmx:configRequest":const e=InstanceManager.getOrCreateInstance(r);(t=PluginManager.applyTransformations(e,t,"transformRequest","json")).detail.headers["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8";break;case"htmx:beforeRequest":if(t.detail.xhr.requestId||(t.detail.xhr.requestId=n),RequestHandler.handleRequest(r,n,"start"),AttributeMatcher.v(r,"template")){const e=InstanceManager.getOrCreateInstance(r);PluginManager.executeHook("beforeRequest",e||null,t)}break;case"htmx:beforeSwap":if(executeHtmxHook("beforeSwap",r,t),AttributeMatcher.v(r,"template")){const e=InstanceManager.getOrCreateInstance(r);e&&EventSystem.publish("beforeSwap",{instanceName:e.instanceName,...t.detail})}break;case"htmx:afterSwap":if(executeHtmxHook("afterSwap",r,t),AttributeMatcher.v(r,"template")){const e=InstanceManager.getOrCreateInstance(r);e&&EventSystem.publish("afterSwap",{instanceName:e.instanceName,...t.detail})}getAllRelevantForms(r).forEach(cleanupFormChangeListeners);break;case"htmx:afterRequest":if(AttributeMatcher.v(r,"template")){const e=InstanceManager.getOrCreateInstance(r);e&&(PluginManager.executeHook("afterRequest",e,t),EventSystem.publish("requestEnd",{instanceName:e.instanceName,...t.detail}))}RequestHandler.handleRequest(r,n,"cleanup"),restoreFormIfNecessary(r,!0,t);break;case"htmx:afterSettle":executeHtmxHook("afterSettle",r,t),Debug.debug(`Setting up form handlers after DOM settle for target: ${r.id||"unknown"}, has fp-template: ${AttributeMatcher.v(r,"template")}, parent form: ${r.closest("form")?.id||"none"}`),setupFormSubmitHandlers(r)}}})}function executeHtmxHook(e,t,r){if(AttributeMatcher.v(t,"instance")||t.hasAttribute("id")){const n=InstanceManager.getOrCreateInstance(t);n&&PluginManager.executeHook(e,n,r?.detail)}}function restoreFormIfNecessary(e,t=!0,r){FormStateManager.isRestoringFormStates?Debug.debug("Already restoring form states, skipping"):t&&r?.detail?.failed||FormStateManager.restoreFormStates(e)}function preloadUrl(e){if(!e)return void Debug.error("No URL provided for preloading");const t=document.createElement("link");t.rel="preload",t.href=e,t.as="fetch",t.crossOrigin="anonymous";const cleanup=()=>{t.parentNode&&t.remove()};t.onerror=t=>{Debug.error(`Failed to preload URL: ${e}`,t),cleanup()};const r=setTimeout(cleanup,3e3);return document.head.appendChild(t),{cleanup:cleanup,timeoutId:r}}function addPreloadListener(e){const t=AttributeMatcher.m(e,"preload")||"mouseover";if("mouseover"===t){let t,r,n=!0;const handleMouseOver=()=>{n=!0,t=setTimeout((()=>{if(n){const t=e.getAttribute("href")||AttributeMatcher.m(e,"get");t&&(r=preloadUrl(t))}}),100)},handleMouseOut=()=>{n=!1,t&&clearTimeout(t),r&&(clearTimeout(r.timeoutId),r.cleanup())};e.addEventListener("mouseover",handleMouseOver),e.addEventListener("mouseout",handleMouseOut),e.Z=()=>{e.removeEventListener("mouseover",handleMouseOver),e.removeEventListener("mouseout",handleMouseOut),handleMouseOut()}}else{const handler=()=>{const t=e.getAttribute("href")||AttributeMatcher.m(e,"get");t&&preloadUrl(t)};e.addEventListener(t,handler),e.Z=()=>{e.removeEventListener(t,handler)}}}function processPreload(e){try{return e.hasAttribute("data-fp-preload-processed")||AttributeMatcher.v(e,"preload")&&(addPreloadListener(e),e.setAttribute("data-fp-preload-processed","true")),e}catch(t){return Debug.error(`Error in processPreload: ${t.message}`),e}}const htmxAttributes=["boost","get","post","on","push-url","select","select-oob","swap","swap-oob","target","trigger","vals","confirm","delete","disable","disabled-elt","disinherit","encoding","ext","headers","history","history-elt","include","indicator","params","patch","preserve","prompt","put","replace-url","request","sync","validate","vars"];function translateCustomHTMXAttributes(e){try{Debug.debug("translateCustomHTMXAttributes",e);const t="fp-",r="hx-";return htmxAttributes.forEach((n=>{const i=t+n;if(e.hasAttribute(i)||e.hasAttribute("data-"+i)){const t=e.getAttribute(i);t&&e.setAttribute(r+n,t),e.removeAttribute(i)}})),e}catch(t){return Debug.error(`Error in translateCustomHTMXAttributes: ${t.message}`),e}}function processUrlAffixes(e){try{const t=["get","post","put","patch","delete"];function processElement(e){t.forEach((function(t){var r="hx-"+t;if(e.hasAttribute(r)){var n=e.getAttribute(r);Debug.info("Original URL: "+n);var i=AttributeMatcher.findAttribute(e,"prepend"),o=AttributeMatcher.findAttribute(e,"append"),a=n;i&&(a=i+a),o&&(a+=o),a&&e.setAttribute(r,a),Debug.info("Modified URL: "+a),a!==n?Debug.info("Modification successful for",t,"on element",e):Debug.error("Modification failed for",t,"on element",e)}}))}return(AttributeMatcher.v(e,"prepend")||AttributeMatcher.v(e,"append"))&&t.some((t=>e.hasAttribute("hx-"+t)))&&processElement(e),e}catch(r){return Debug.error(`Error in processUrlAffixes: ${r.message}`),e}}function setupAnimation(e){try{if("true"===(AttributeMatcher.m(e,"animation")||_state.defaults.animation)){var t=e.getAttribute("hx-swap");e.setAttribute("hx-swap",t?t+" transition:true":"innerHTML transition:true")}return e}catch(t){return Debug.error(`Error in setupAnimation: ${t.message}`),e}}function addHtmxExtensionAttribute(e){try{var t=e.getAttribute("hx-ext")||"";return t.includes("flowplater")||(e.setAttribute("hx-ext",t?t+", flowplater":"flowplater"),Debug.info("Added hx-ext attribute to "+e.id)),e}catch(t){return Debug.info(`Error in addHtmxExtensionAttribute: ${t.message}`),e}}var htmx$2=function(){const htmx={onLoad:null,process:null,on:null,off:null,trigger:null,ajax:null,find:null,findAll:null,closest:null,values:function(e,t){return getInputValues(e,t||"post").values},remove:null,addClass:null,removeClass:null,toggleClass:null,takeClass:null,swap:null,defineExtension:null,removeExtension:null,logAll:null,logNone:null,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,allowScriptTags:!0,inlineScriptNonce:"",inlineStyleNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",wsBinaryType:"blob",disableSelector:"[hx-disable], [data-hx-disable]",scrollBehavior:"instant",defaultFocusScroll:!1,getCacheBusterParam:!1,globalViewTransitions:!1,methodsThatUseUrlParams:["get","delete"],selfRequestsOnly:!0,ignoreTitle:!1,scrollIntoViewOnBoost:!0,triggerSpecsCache:null,disableInheritance:!1,responseHandling:[{code:"204",swap:!1},{code:"[23]..",swap:!0},{code:"[45]..",swap:!1,error:!0}],allowNestedOobSwaps:!0},parseInterval:null,ee:null,version:"2.0.4"};htmx.onLoad=onLoadHelper,htmx.process=processNode,htmx.on=addEventListenerImpl,htmx.off=removeEventListenerImpl,htmx.trigger=triggerEvent,htmx.ajax=ajaxHelper,htmx.find=find,htmx.findAll=findAll,htmx.closest=closest,htmx.remove=removeElement,htmx.addClass=addClassToElement,htmx.removeClass=removeClassFromElement,htmx.toggleClass=toggleClassOnElement,htmx.takeClass=takeClassForElement,htmx.swap=swap,htmx.defineExtension=defineExtension,htmx.removeExtension=removeExtension,htmx.logAll=logAll,htmx.logNone=logNone,htmx.parseInterval=parseInterval,htmx.ee=internalEval;const internalAPI={addTriggerHandler:addTriggerHandler,bodyContains:bodyContains,canAccessLocalStorage:canAccessLocalStorage,findThisElement:findThisElement,filterValues:filterValues,swap:swap,hasAttribute:hasAttribute,getAttributeValue:getAttributeValue,getClosestAttributeValue:getClosestAttributeValue,getClosestMatch:getClosestMatch,getExpressionVars:getExpressionVars,getHeaders:getHeaders,getInputValues:getInputValues,getInternalData:getInternalData,getSwapSpecification:getSwapSpecification,getTriggerSpecs:getTriggerSpecs,getTarget:getTarget,makeFragment:makeFragment,mergeObjects:mergeObjects,makeSettleInfo:makeSettleInfo,oobSwap:oobSwap,querySelectorExt:querySelectorExt,settleImmediately:settleImmediately,shouldCancel:shouldCancel,triggerEvent:triggerEvent,triggerErrorEvent:triggerErrorEvent,withExtensions:withExtensions},VERBS=["get","post","put","delete","patch"],VERB_SELECTOR=VERBS.map((function(e){return"[hx-"+e+"], [data-hx-"+e+"]"})).join(", ");function parseInterval(e){if(null==e)return;let t=NaN;return t="ms"==e.slice(-2)?parseFloat(e.slice(0,-2)):"s"==e.slice(-1)?1e3*parseFloat(e.slice(0,-1)):"m"==e.slice(-1)?1e3*parseFloat(e.slice(0,-1))*60:parseFloat(e),isNaN(t)?void 0:t}function getRawAttribute(e,t){return e instanceof Element&&e.getAttribute(t)}function hasAttribute(e,t){return!!e.hasAttribute&&(e.hasAttribute(t)||e.hasAttribute("data-"+t))}function getAttributeValue(e,t){return getRawAttribute(e,t)||getRawAttribute(e,"data-"+t)}function parentElt(e){const t=e.parentElement;return!t&&e.parentNode instanceof ShadowRoot?e.parentNode:t}function getDocument(){return document}function getRootNode(e,t){return e.getRootNode?e.getRootNode({composed:t}):getDocument()}function getClosestMatch(e,t){for(;e&&!t(e);)e=parentElt(e);return e||null}function getAttributeValueWithDisinheritance(e,t,r){const n=getAttributeValue(t,r),i=getAttributeValue(t,"hx-disinherit");var o=getAttributeValue(t,"hx-inherit");if(e!==t){if(htmx.config.disableInheritance)return o&&("*"===o||o.split(" ").indexOf(r)>=0)?n:null;if(i&&("*"===i||i.split(" ").indexOf(r)>=0))return"unset"}return n}function getClosestAttributeValue(e,t){let r=null;if(getClosestMatch(e,(function(n){return!!(r=getAttributeValueWithDisinheritance(e,asElement(n),t))})),"unset"!==r)return r}function matches(e,t){const r=e instanceof Element&&(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector);return!!r&&r.call(e,t)}function getStartTag(e){const t=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i.exec(e);return t?t[1].toLowerCase():""}function parseHTML(e){return(new DOMParser).parseFromString(e,"text/html")}function takeChildrenFor(e,t){for(;t.childNodes.length>0;)e.append(t.childNodes[0])}function duplicateScript(e){const t=getDocument().createElement("script");return forEach(e.attributes,(function(e){t.setAttribute(e.name,e.value)})),t.textContent=e.textContent,t.async=!1,htmx.config.inlineScriptNonce&&(t.nonce=htmx.config.inlineScriptNonce),t}function isJavaScriptScriptNode(e){return e.matches("script")&&("text/javascript"===e.type||"module"===e.type||""===e.type)}function normalizeScriptTags(e){Array.from(e.querySelectorAll("script")).forEach((e=>{if(isJavaScriptScriptNode(e)){const t=duplicateScript(e),r=e.parentNode;try{r.insertBefore(t,e)}catch(e){logError(e)}finally{e.remove()}}}))}function makeFragment(e){const t=(e=e.toString()).replace(/<head(\s[^>]*)?>[\s\S]*?<\/head>/i,""),r=getStartTag(t);let n;if("html"===r){n=new DocumentFragment;const t=parseHTML(e);takeChildrenFor(n,t.body),n.title=t.title}else if("body"===r){n=new DocumentFragment;const e=parseHTML(t);takeChildrenFor(n,e.body),n.title=e.title}else{const e=parseHTML('<body><template class="internal-htmx-wrapper">'+t+"</template></body>");n=e.querySelector("template").content,n.title=e.title;var i=n.querySelector("title");i&&i.parentNode===n&&(i.remove(),n.title=i.innerText)}return n&&(htmx.config.allowScriptTags?normalizeScriptTags(n):n.querySelectorAll("script").forEach((e=>e.remove()))),n}function maybeCall(e){e&&e()}function isType(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function isFunction(e){return"function"==typeof e}function isRawObject(e){return isType(e,"Object")}function getInternalData(e){const t="htmx-internal-data";let r=e[t];return r||(r=e[t]={}),r}function toArray(e){const t=[];if(e)for(let r=0;r<e.length;r++)t.push(e[r]);return t}function forEach(e,t){if(e)for(let r=0;r<e.length;r++)t(e[r])}function isScrolledIntoView(e){const t=e.getBoundingClientRect();return t.top<window.innerHeight&&t.bottom>=0}function bodyContains(e){return e.getRootNode({composed:!0})===document}function splitOnWhitespace(e){return e.trim().split(/\s+/)}function mergeObjects(e,t){for(const r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function parseJSON(e){try{return JSON.parse(e)}catch(e){return logError(e),null}}function canAccessLocalStorage(){const e="htmx:localStorageTest";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}function normalizePath(e){try{const t=new URL(e);return t&&(e=t.pathname+t.search),/^\/$/.test(e)||(e=e.replace(/\/+$/,"")),e}catch(t){return e}}function internalEval(str){return maybeEval(getDocument().body,(function(){return eval(str)}))}function onLoadHelper(e){return htmx.on("htmx:load",(function(t){e(t.detail.elt)}))}function logAll(){htmx.logger=function(e,t,r){console&&console.log(t,e,r)}}function logNone(){htmx.logger=null}function find(e,t){return"string"!=typeof e?e.querySelector(t):find(getDocument(),e)}function findAll(e,t){return"string"!=typeof e?e.querySelectorAll(t):findAll(getDocument(),e)}function getWindow(){return window}function removeElement(e,t){e=resolveTarget(e),t?getWindow().setTimeout((function(){removeElement(e),e=null}),t):parentElt(e).removeChild(e)}function asElement(e){return e instanceof Element?e:null}function asHtmlElement(e){return e instanceof HTMLElement?e:null}function asString(e){return"string"==typeof e?e:null}function asParentNode(e){return e instanceof Element||e instanceof Document||e instanceof DocumentFragment?e:null}function addClassToElement(e,t,r){(e=asElement(resolveTarget(e)))&&(r?getWindow().setTimeout((function(){addClassToElement(e,t),e=null}),r):e.classList&&e.classList.add(t))}function removeClassFromElement(e,t,r){let n=asElement(resolveTarget(e));n&&(r?getWindow().setTimeout((function(){removeClassFromElement(n,t),n=null}),r):n.classList&&(n.classList.remove(t),0===n.classList.length&&n.removeAttribute("class")))}function toggleClassOnElement(e,t){(e=resolveTarget(e)).classList.toggle(t)}function takeClassForElement(e,t){forEach((e=resolveTarget(e)).parentElement.children,(function(e){removeClassFromElement(e,t)})),addClassToElement(asElement(e),t)}function closest(e,t){if((e=asElement(resolveTarget(e)))&&e.closest)return e.closest(t);do{if(null==e||matches(e,t))return e}while(e=e&&asElement(parentElt(e)));return null}function startsWith(e,t){return e.substring(0,t.length)===t}function endsWith(e,t){return e.substring(e.length-t.length)===t}function normalizeSelector(e){const t=e.trim();return startsWith(t,"<")&&endsWith(t,"/>")?t.substring(1,t.length-2):t}function querySelectorAllExt(e,t,r){if(0===t.indexOf("global "))return querySelectorAllExt(e,t.slice(7),!0);e=resolveTarget(e);const n=[];{let e=0,r=0;for(let i=0;i<t.length;i++){const o=t[i];","!==o||0!==e?"<"===o?e++:"/"===o&&i<t.length-1&&">"===t[i+1]&&e--:(n.push(t.substring(r,i)),r=i+1)}r<t.length&&n.push(t.substring(r))}const i=[],o=[];for(;n.length>0;){const t=normalizeSelector(n.shift());let a;0===t.indexOf("closest ")?a=closest(asElement(e),normalizeSelector(t.substr(8))):0===t.indexOf("find ")?a=find(asParentNode(e),normalizeSelector(t.substr(5))):"next"===t||"nextElementSibling"===t?a=asElement(e).nextElementSibling:0===t.indexOf("next ")?a=scanForwardQuery(e,normalizeSelector(t.substr(5)),!!r):"previous"===t||"previousElementSibling"===t?a=asElement(e).previousElementSibling:0===t.indexOf("previous ")?a=scanBackwardsQuery(e,normalizeSelector(t.substr(9)),!!r):"document"===t?a=document:"window"===t?a=window:"body"===t?a=document.body:"root"===t?a=getRootNode(e,!!r):"host"===t?a=e.getRootNode().host:o.push(t),a&&i.push(a)}if(o.length>0){const t=o.join(","),n=asParentNode(getRootNode(e,!!r));i.push(...toArray(n.querySelectorAll(t)))}return i}var scanForwardQuery=function(e,t,r){const n=asParentNode(getRootNode(e,r)).querySelectorAll(t);for(let t=0;t<n.length;t++){const r=n[t];if(r.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_PRECEDING)return r}},scanBackwardsQuery=function(e,t,r){const n=asParentNode(getRootNode(e,r)).querySelectorAll(t);for(let t=n.length-1;t>=0;t--){const r=n[t];if(r.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_FOLLOWING)return r}};function querySelectorExt(e,t){return"string"!=typeof e?querySelectorAllExt(e,t)[0]:querySelectorAllExt(getDocument().body,e)[0]}function resolveTarget(e,t){return"string"==typeof e?find(asParentNode(t)||document,e):e}function processEventArgs(e,t,r,n){return isFunction(t)?{target:getDocument().body,event:asString(e),listener:t,options:r}:{target:resolveTarget(e),event:asString(t),listener:r,options:n}}function addEventListenerImpl(e,t,r,n){return ready((function(){const i=processEventArgs(e,t,r,n);i.target.addEventListener(i.event,i.listener,i.options)})),isFunction(t)?t:r}function removeEventListenerImpl(e,t,r){return ready((function(){const n=processEventArgs(e,t,r);n.target.removeEventListener(n.event,n.listener)})),isFunction(t)?t:r}const DUMMY_ELT=getDocument().createElement("output");function findAttributeTargets(e,t){const r=getClosestAttributeValue(e,t);if(r){if("this"===r)return[findThisElement(e,t)];{const n=querySelectorAllExt(e,r);return 0===n.length?(logError('The selector "'+r+'" on '+t+" returned no matches!"),[DUMMY_ELT]):n}}}function findThisElement(e,t){return asElement(getClosestMatch(e,(function(e){return null!=getAttributeValue(asElement(e),t)})))}function getTarget(e){const t=getClosestAttributeValue(e,"hx-target");return t?"this"===t?findThisElement(e,"hx-target"):querySelectorExt(e,t):getInternalData(e).boosted?getDocument().body:e}function shouldSettleAttribute(e){const t=htmx.config.attributesToSettle;for(let r=0;r<t.length;r++)if(e===t[r])return!0;return!1}function cloneAttributes(e,t){forEach(e.attributes,(function(r){!t.hasAttribute(r.name)&&shouldSettleAttribute(r.name)&&e.removeAttribute(r.name)})),forEach(t.attributes,(function(t){shouldSettleAttribute(t.name)&&e.setAttribute(t.name,t.value)}))}function isInlineSwap(e,t){const r=getExtensions(t);for(let t=0;t<r.length;t++){const n=r[t];try{if(n.isInlineSwap(e))return!0}catch(e){logError(e)}}return"outerHTML"===e}function oobSwap(e,t,r,n){n=n||getDocument();let i="#"+getRawAttribute(t,"id"),o="outerHTML";"true"===e||(e.indexOf(":")>0?(o=e.substring(0,e.indexOf(":")),i=e.substring(e.indexOf(":")+1)):o=e),t.removeAttribute("hx-swap-oob"),t.removeAttribute("data-hx-swap-oob");const a=querySelectorAllExt(n,i,!1);return a?(forEach(a,(function(e){let n;const i=t.cloneNode(!0);n=getDocument().createDocumentFragment(),n.appendChild(i),isInlineSwap(o,e)||(n=asParentNode(i));const a={shouldSwap:!0,target:e,fragment:n};triggerEvent(e,"htmx:oobBeforeSwap",a)&&(e=a.target,a.shouldSwap&&(handlePreservedElements(n),swapWithStyle(o,e,e,n,r),restorePreservedElements()),forEach(r.elts,(function(e){triggerEvent(e,"htmx:oobAfterSwap",a)})))})),t.parentNode.removeChild(t)):(t.parentNode.removeChild(t),triggerErrorEvent(getDocument().body,"htmx:oobErrorNoTarget",{content:t})),e}function restorePreservedElements(){const e=find("#--htmx-preserve-pantry--");if(e){for(const t of[...e.children]){const e=find("#"+t.id);e.parentNode.moveBefore(t,e),e.remove()}e.remove()}}function handlePreservedElements(e){forEach(findAll(e,"[hx-preserve], [data-hx-preserve]"),(function(e){const t=getAttributeValue(e,"id"),r=getDocument().getElementById(t);if(null!=r)if(e.moveBefore){let e=find("#--htmx-preserve-pantry--");null==e&&(getDocument().body.insertAdjacentHTML("afterend","<div id='--htmx-preserve-pantry--'></div>"),e=find("#--htmx-preserve-pantry--")),e.moveBefore(r,null)}else e.parentNode.replaceChild(r,e)}))}function handleAttributes(e,t,r){forEach(t.querySelectorAll("[id]"),(function(t){const n=getRawAttribute(t,"id");if(n&&n.length>0){const i=n.replace("'","\\'"),o=t.tagName.replace(":","\\:"),a=asParentNode(e),s=a&&a.querySelector(o+"[id='"+i+"']");if(s&&s!==a){const e=t.cloneNode();cloneAttributes(t,s),r.tasks.push((function(){cloneAttributes(t,e)}))}}}))}function makeAjaxLoadTask(e){return function(){removeClassFromElement(e,htmx.config.addedClass),processNode(asElement(e)),processFocus(asParentNode(e)),triggerEvent(e,"htmx:load")}}function processFocus(e){const t="[autofocus]",r=asHtmlElement(matches(e,t)?e:e.querySelector(t));null!=r&&r.focus()}function insertNodesBefore(e,t,r,n){for(handleAttributes(e,r,n);r.childNodes.length>0;){const i=r.firstChild;addClassToElement(asElement(i),htmx.config.addedClass),e.insertBefore(i,t),i.nodeType!==Node.TEXT_NODE&&i.nodeType!==Node.COMMENT_NODE&&n.tasks.push(makeAjaxLoadTask(i))}}function stringHash(e,t){let r=0;for(;r<e.length;)t=(t<<5)-t+e.charCodeAt(r++)|0;return t}function attributeHash(e){let t=0;if(e.attributes)for(let r=0;r<e.attributes.length;r++){const n=e.attributes[r];n.value&&(t=stringHash(n.name,t),t=stringHash(n.value,t))}return t}function deInitOnHandlers(e){const t=getInternalData(e);if(t.onHandlers){for(let r=0;r<t.onHandlers.length;r++){const n=t.onHandlers[r];removeEventListenerImpl(e,n.event,n.listener)}delete t.onHandlers}}function deInitNode(e){const t=getInternalData(e);t.timeout&&clearTimeout(t.timeout),t.listenerInfos&&forEach(t.listenerInfos,(function(e){e.on&&removeEventListenerImpl(e.on,e.trigger,e.listener)})),deInitOnHandlers(e),forEach(Object.keys(t),(function(e){"firstInitCompleted"!==e&&delete t[e]}))}function cleanUpElement(e){triggerEvent(e,"htmx:beforeCleanupElement"),deInitNode(e),e.children&&forEach(e.children,(function(e){cleanUpElement(e)}))}function swapOuterHTML(e,t,r){if(e instanceof Element&&"BODY"===e.tagName)return swapInnerHTML(e,t,r);let n;const i=e.previousSibling,o=parentElt(e);if(o){for(insertNodesBefore(o,e,t,r),n=null==i?o.firstChild:i.nextSibling,r.elts=r.elts.filter((function(t){return t!==e}));n&&n!==e;)n instanceof Element&&r.elts.push(n),n=n.nextSibling;cleanUpElement(e),e instanceof Element?e.remove():e.parentNode.removeChild(e)}}function swapAfterBegin(e,t,r){return insertNodesBefore(e,e.firstChild,t,r)}function swapBeforeBegin(e,t,r){return insertNodesBefore(parentElt(e),e,t,r)}function swapBeforeEnd(e,t,r){return insertNodesBefore(e,null,t,r)}function swapAfterEnd(e,t,r){return insertNodesBefore(parentElt(e),e.nextSibling,t,r)}function swapDelete(e){cleanUpElement(e);const t=parentElt(e);if(t)return t.removeChild(e)}function swapInnerHTML(e,t,r){const n=e.firstChild;if(insertNodesBefore(e,n,t,r),n){for(;n.nextSibling;)cleanUpElement(n.nextSibling),e.removeChild(n.nextSibling);cleanUpElement(n),e.removeChild(n)}}function swapWithStyle(e,t,r,n,i){switch(e){case"none":return;case"outerHTML":return void swapOuterHTML(r,n,i);case"afterbegin":return void swapAfterBegin(r,n,i);case"beforebegin":return void swapBeforeBegin(r,n,i);case"beforeend":return void swapBeforeEnd(r,n,i);case"afterend":return void swapAfterEnd(r,n,i);case"delete":return void swapDelete(r);default:var o=getExtensions(t);for(let t=0;t<o.length;t++){const a=o[t];try{const t=a.handleSwap(e,r,n,i);if(t){if(Array.isArray(t))for(let e=0;e<t.length;e++){const r=t[e];r.nodeType!==Node.TEXT_NODE&&r.nodeType!==Node.COMMENT_NODE&&i.tasks.push(makeAjaxLoadTask(r))}return}}catch(e){logError(e)}}"innerHTML"===e?swapInnerHTML(r,n,i):swapWithStyle(htmx.config.defaultSwapStyle,t,r,n,i)}}function findAndSwapOobElements(e,t,r){var n=findAll(e,"[hx-swap-oob], [data-hx-swap-oob]");return forEach(n,(function(e){if(htmx.config.allowNestedOobSwaps||null===e.parentElement){const n=getAttributeValue(e,"hx-swap-oob");null!=n&&oobSwap(n,e,t,r)}else e.removeAttribute("hx-swap-oob"),e.removeAttribute("data-hx-swap-oob")})),n.length>0}function swap(e,t,r,n){n||(n={}),e=resolveTarget(e);const i=n.contextElement?getRootNode(n.contextElement,!1):getDocument(),o=document.activeElement;let a={};try{a={elt:o,start:o?o.selectionStart:null,end:o?o.selectionEnd:null}}catch(e){}const s=makeSettleInfo(e);if("textContent"===r.swapStyle)e.textContent=t;else{let o=makeFragment(t);if(s.title=o.title,n.selectOOB){const e=n.selectOOB.split(",");for(let t=0;t<e.length;t++){const r=e[t].split(":",2);let n=r[0].trim();0===n.indexOf("#")&&(n=n.substring(1));const a=r[1]||"true",u=o.querySelector("#"+n);u&&oobSwap(a,u,s,i)}}if(findAndSwapOobElements(o,s,i),forEach(findAll(o,"template"),(function(e){e.content&&findAndSwapOobElements(e.content,s,i)&&e.remove()})),n.select){const e=getDocument().createDocumentFragment();forEach(o.querySelectorAll(n.select),(function(t){e.appendChild(t)})),o=e}handlePreservedElements(o),swapWithStyle(r.swapStyle,n.contextElement,e,o,s),restorePreservedElements()}if(a.elt&&!bodyContains(a.elt)&&getRawAttribute(a.elt,"id")){const e=document.getElementById(getRawAttribute(a.elt,"id")),t={preventScroll:void 0!==r.focusScroll?!r.focusScroll:!htmx.config.defaultFocusScroll};if(e){if(a.start&&e.setSelectionRange)try{e.setSelectionRange(a.start,a.end)}catch(e){}e.focus(t)}}e.classList.remove(htmx.config.swappingClass),forEach(s.elts,(function(e){e.classList&&e.classList.add(htmx.config.settlingClass),triggerEvent(e,"htmx:afterSwap",n.eventInfo)})),n.afterSwapCallback&&n.afterSwapCallback(),r.ignoreTitle||handleTitle(s.title);const doSettle=function(){if(forEach(s.tasks,(function(e){e.call()})),forEach(s.elts,(function(e){e.classList&&e.classList.remove(htmx.config.settlingClass),triggerEvent(e,"htmx:afterSettle",n.eventInfo)})),n.anchor){const e=asElement(resolveTarget("#"+n.anchor));e&&e.scrollIntoView({block:"start",behavior:"auto"})}updateScrollState(s.elts,r),n.afterSettleCallback&&n.afterSettleCallback()};r.settleDelay>0?getWindow().setTimeout(doSettle,r.settleDelay):doSettle()}function handleTriggerHeader(e,t,r){const n=e.getResponseHeader(t);if(0===n.indexOf("{")){const e=parseJSON(n);for(const t in e)if(e.hasOwnProperty(t)){let n=e[t];isRawObject(n)?r=void 0!==n.target?n.target:r:n={value:n},triggerEvent(r,t,n)}}else{const e=n.split(",");for(let t=0;t<e.length;t++)triggerEvent(r,e[t].trim(),[])}}const WHITESPACE_OR_COMMA=/[\s,]/,SYMBOL_START=/[_$a-zA-Z]/,SYMBOL_CONT=/[_$a-zA-Z0-9]/,STRINGISH_START=['"',"'","/"],NOT_WHITESPACE=/[^\s]/,COMBINED_SELECTOR_START=/[{(]/,COMBINED_SELECTOR_END=/[})]/;function tokenizeString(e){const t=[];let r=0;for(;r<e.length;){if(SYMBOL_START.exec(e.charAt(r))){for(var n=r;SYMBOL_CONT.exec(e.charAt(r+1));)r++;t.push(e.substring(n,r+1))}else if(-1!==STRINGISH_START.indexOf(e.charAt(r))){const i=e.charAt(r);for(n=r,r++;r<e.length&&e.charAt(r)!==i;)"\\"===e.charAt(r)&&r++,r++;t.push(e.substring(n,r+1))}else{const n=e.charAt(r);t.push(n)}r++}return t}function isPossibleRelativeReference(e,t,r){return SYMBOL_START.exec(e.charAt(0))&&"true"!==e&&"false"!==e&&"this"!==e&&e!==r&&"."!==t}function maybeGenerateConditional(e,t,r){if("["===t[0]){t.shift();let n=1,i=" return (function("+r+"){ return (",o=null;for(;t.length>0;){const a=t[0];if("]"===a){if(n--,0===n){null===o&&(i+="true"),t.shift(),i+=")})";try{const t=maybeEval(e,(function(){return Function(i)()}),(function(){return!0}));return t.source=i,t}catch(e){return triggerErrorEvent(getDocument().body,"htmx:syntax:error",{error:e,source:i}),null}}}else"["===a&&n++;isPossibleRelativeReference(a,o,r)?i+="(("+r+"."+a+") ? ("+r+"."+a+") : (window."+a+"))":i+=a,o=t.shift()}}}function consumeUntil(e,t){let r="";for(;e.length>0&&!t.test(e[0]);)r+=e.shift();return r}function consumeCSSSelector(e){let t;return e.length>0&&COMBINED_SELECTOR_START.test(e[0])?(e.shift(),t=consumeUntil(e,COMBINED_SELECTOR_END).trim(),e.shift()):t=consumeUntil(e,WHITESPACE_OR_COMMA),t}const INPUT_SELECTOR="input, textarea, select";function parseAndCacheTrigger(e,t,r){const n=[],i=tokenizeString(t);do{consumeUntil(i,NOT_WHITESPACE);const t=i.length,r=consumeUntil(i,/[,\[\s]/);if(""!==r)if("every"===r){const t={trigger:"every"};consumeUntil(i,NOT_WHITESPACE),t.pollInterval=parseInterval(consumeUntil(i,/[,\[\s]/)),consumeUntil(i,NOT_WHITESPACE),(o=maybeGenerateConditional(e,i,"event"))&&(t.eventFilter=o),n.push(t)}else{const t={trigger:r};var o;for((o=maybeGenerateConditional(e,i,"event"))&&(t.eventFilter=o),consumeUntil(i,NOT_WHITESPACE);i.length>0&&","!==i[0];){const r=i.shift();if("changed"===r)t.changed=!0;else if("once"===r)t.once=!0;else if("consume"===r)t.consume=!0;else if("delay"===r&&":"===i[0])i.shift(),t.delay=parseInterval(consumeUntil(i,WHITESPACE_OR_COMMA));else if("from"===r&&":"===i[0]){if(i.shift(),COMBINED_SELECTOR_START.test(i[0]))var a=consumeCSSSelector(i);else if("closest"===(a=consumeUntil(i,WHITESPACE_OR_COMMA))||"find"===a||"next"===a||"previous"===a){i.shift();const e=consumeCSSSelector(i);e.length>0&&(a+=" "+e)}t.from=a}else"target"===r&&":"===i[0]?(i.shift(),t.target=consumeCSSSelector(i)):"throttle"===r&&":"===i[0]?(i.shift(),t.throttle=parseInterval(consumeUntil(i,WHITESPACE_OR_COMMA))):"queue"===r&&":"===i[0]?(i.shift(),t.queue=consumeUntil(i,WHITESPACE_OR_COMMA)):"root"===r&&":"===i[0]?(i.shift(),t[r]=consumeCSSSelector(i)):"threshold"===r&&":"===i[0]?(i.shift(),t[r]=consumeUntil(i,WHITESPACE_OR_COMMA)):triggerErrorEvent(e,"htmx:syntax:error",{token:i.shift()});consumeUntil(i,NOT_WHITESPACE)}n.push(t)}i.length===t&&triggerErrorEvent(e,"htmx:syntax:error",{token:i.shift()}),consumeUntil(i,NOT_WHITESPACE)}while(","===i[0]&&i.shift());return r&&(r[t]=n),n}function getTriggerSpecs(e){const t=getAttributeValue(e,"hx-trigger");let r=[];if(t){const n=htmx.config.triggerSpecsCache;r=n&&n[t]||parseAndCacheTrigger(e,t,n)}return r.length>0?r:matches(e,"form")?[{trigger:"submit"}]:matches(e,'input[type="button"], input[type="submit"]')?[{trigger:"click"}]:matches(e,INPUT_SELECTOR)?[{trigger:"change"}]:[{trigger:"click"}]}function cancelPolling(e){getInternalData(e).cancelled=!0}function processPolling(e,t,r){const n=getInternalData(e);n.timeout=getWindow().setTimeout((function(){bodyContains(e)&&!0!==n.cancelled&&(maybeFilterEvent(r,e,makeEvent("hx:poll:trigger",{triggerSpec:r,target:e}))||t(e),processPolling(e,t,r))}),r.pollInterval)}function isLocalLink(e){return location.hostname===e.hostname&&getRawAttribute(e,"href")&&0!==getRawAttribute(e,"href").indexOf("#")}function eltIsDisabled(e){return closest(e,htmx.config.disableSelector)}function boostElement(e,t,r){if(e instanceof HTMLAnchorElement&&isLocalLink(e)&&(""===e.target||"_self"===e.target)||"FORM"===e.tagName&&"dialog"!==String(getRawAttribute(e,"method")).toLowerCase()){let n,i;if(t.boosted=!0,"A"===e.tagName)n="get",i=getRawAttribute(e,"href");else{const t=getRawAttribute(e,"method");n=t?t.toLowerCase():"get",i=getRawAttribute(e,"action"),null!=i&&""!==i||(i=getDocument().location.href),"get"===n&&i.includes("?")&&(i=i.replace(/\?[^#]+/,""))}r.forEach((function(r){addEventListener(e,(function(e,t){const r=asElement(e);eltIsDisabled(r)?cleanUpElement(r):issueAjaxRequest(n,i,r,t)}),t,r,!0)}))}}function shouldCancel(e,t){const r=asElement(t);if(!r)return!1;if("submit"===e.type||"click"===e.type){if("FORM"===r.tagName)return!0;if(matches(r,'input[type="submit"], button')&&(matches(r,"[form]")||null!==closest(r,"form")))return!0;if(r instanceof HTMLAnchorElement&&r.href&&("#"===r.getAttribute("href")||0!==r.getAttribute("href").indexOf("#")))return!0}return!1}function ignoreBoostedAnchorCtrlClick(e,t){return getInternalData(e).boosted&&e instanceof HTMLAnchorElement&&"click"===t.type&&(t.ctrlKey||t.metaKey)}function maybeFilterEvent(e,t,r){const n=e.eventFilter;if(n)try{return!0!==n.call(t,r)}catch(e){const t=n.source;return triggerErrorEvent(getDocument().body,"htmx:eventFilter:error",{error:e,source:t}),!0}return!1}function addEventListener(e,t,r,n,i){const o=getInternalData(e);let a;a=n.from?querySelectorAllExt(e,n.from):[e],n.changed&&("lastValue"in o||(o.lastValue=new WeakMap),a.forEach((function(e){o.lastValue.has(n)||o.lastValue.set(n,new WeakMap),o.lastValue.get(n).set(e,e.value)}))),forEach(a,(function(a){const eventListener=function(r){if(!bodyContains(e))return void a.removeEventListener(n.trigger,eventListener);if(ignoreBoostedAnchorCtrlClick(e,r))return;if((i||shouldCancel(r,e))&&r.preventDefault(),maybeFilterEvent(n,e,r))return;const s=getInternalData(r);if(s.triggerSpec=n,null==s.handledFor&&(s.handledFor=[]),s.handledFor.indexOf(e)<0){if(s.handledFor.push(e),n.consume&&r.stopPropagation(),n.target&&r.target&&!matches(asElement(r.target),n.target))return;if(n.once){if(o.triggeredOnce)return;o.triggeredOnce=!0}if(n.changed){const e=event.target,t=e.value,r=o.lastValue.get(n);if(r.has(e)&&r.get(e)===t)return;r.set(e,t)}if(o.delayed&&clearTimeout(o.delayed),o.throttle)return;n.throttle>0?o.throttle||(triggerEvent(e,"htmx:trigger"),t(e,r),o.throttle=getWindow().setTimeout((function(){o.throttle=null}),n.throttle)):n.delay>0?o.delayed=getWindow().setTimeout((function(){triggerEvent(e,"htmx:trigger"),t(e,r)}),n.delay):(triggerEvent(e,"htmx:trigger"),t(e,r))}};null==r.listenerInfos&&(r.listenerInfos=[]),r.listenerInfos.push({trigger:n.trigger,listener:eventListener,on:a}),a.addEventListener(n.trigger,eventListener)}))}let windowIsScrolling=!1,scrollHandler=null;function initScrollHandler(){scrollHandler||(scrollHandler=function(){windowIsScrolling=!0},window.addEventListener("scroll",scrollHandler),window.addEventListener("resize",scrollHandler),setInterval((function(){windowIsScrolling&&(windowIsScrolling=!1,forEach(getDocument().querySelectorAll("[hx-trigger*='revealed'],[data-hx-trigger*='revealed']"),(function(e){maybeReveal(e)})))}),200))}function maybeReveal(e){!hasAttribute(e,"data-hx-revealed")&&isScrolledIntoView(e)&&(e.setAttribute("data-hx-revealed","true"),getInternalData(e).initHash?triggerEvent(e,"revealed"):e.addEventListener("htmx:afterProcessNode",(function(){triggerEvent(e,"revealed")}),{once:!0}))}function loadImmediately(e,t,r,n){const load=function(){r.loaded||(r.loaded=!0,triggerEvent(e,"htmx:trigger"),t(e))};n>0?getWindow().setTimeout(load,n):load()}function processVerbs(e,t,r){let n=!1;return forEach(VERBS,(function(i){if(hasAttribute(e,"hx-"+i)){const o=getAttributeValue(e,"hx-"+i);n=!0,t.path=o,t.verb=i,r.forEach((function(r){addTriggerHandler(e,r,t,(function(e,t){const r=asElement(e);closest(r,htmx.config.disableSelector)?cleanUpElement(r):issueAjaxRequest(i,o,r,t)}))}))}})),n}function addTriggerHandler(e,t,r,n){if("revealed"===t.trigger)initScrollHandler(),addEventListener(e,n,r,t),maybeReveal(asElement(e));else if("intersect"===t.trigger){const i={};t.root&&(i.root=querySelectorExt(e,t.root)),t.threshold&&(i.threshold=parseFloat(t.threshold)),new IntersectionObserver((function(t){for(let r=0;r<t.length;r++)if(t[r].isIntersecting){triggerEvent(e,"intersect");break}}),i).observe(asElement(e)),addEventListener(asElement(e),n,r,t)}else r.firstInitCompleted||"load"!==t.trigger?t.pollInterval>0?(r.polling=!0,processPolling(asElement(e),n,t)):addEventListener(e,n,r,t):maybeFilterEvent(t,e,makeEvent("load",{elt:e}))||loadImmediately(asElement(e),n,r,t.delay)}function shouldProcessHxOn(e){const t=asElement(e);if(!t)return!1;const r=t.attributes;for(let e=0;e<r.length;e++){const t=r[e].name;if(startsWith(t,"hx-on:")||startsWith(t,"data-hx-on:")||startsWith(t,"hx-on-")||startsWith(t,"data-hx-on-"))return!0}return!1}const HX_ON_QUERY=(new XPathEvaluator).createExpression('.//*[@*[ starts-with(name(), "hx-on:") or starts-with(name(), "data-hx-on:") or starts-with(name(), "hx-on-") or starts-with(name(), "data-hx-on-") ]]');function processHXOnRoot(e,t){shouldProcessHxOn(e)&&t.push(asElement(e));const r=HX_ON_QUERY.evaluate(e);let n=null;for(;n=r.iterateNext();)t.push(asElement(n))}function findHxOnWildcardElements(e){const t=[];if(e instanceof DocumentFragment)for(const r of e.childNodes)processHXOnRoot(r,t);else processHXOnRoot(e,t);return t}function findElementsToProcess(e){if(e.querySelectorAll){const r=", [hx-boost] a, [data-hx-boost] a, a[hx-boost], a[data-hx-boost]",n=[];for(const e in extensions){const r=extensions[e];if(r.getSelectors){var t=r.getSelectors();t&&n.push(t)}}return e.querySelectorAll(VERB_SELECTOR+r+", form, [type='submit'], [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger]"+n.flat().map((e=>", "+e)).join(""))}return[]}function maybeSetLastButtonClicked(e){const t=closest(asElement(e.target),"button, input[type='submit']"),r=getRelatedFormData(e);r&&(r.lastButtonClicked=t)}function maybeUnsetLastButtonClicked(e){const t=getRelatedFormData(e);t&&(t.lastButtonClicked=null)}function getRelatedFormData(e){const t=closest(asElement(e.target),"button, input[type='submit']");if(!t)return;const r=resolveTarget("#"+getRawAttribute(t,"form"),t.getRootNode())||closest(t,"form");return r?getInternalData(r):void 0}function initButtonTracking(e){e.addEventListener("click",maybeSetLastButtonClicked),e.addEventListener("focusin",maybeSetLastButtonClicked),e.addEventListener("focusout",maybeUnsetLastButtonClicked)}function addHxOnEventHandler(e,t,r){const n=getInternalData(e);let i;Array.isArray(n.onHandlers)||(n.onHandlers=[]);const listener=function(t){maybeEval(e,(function(){eltIsDisabled(e)||(i||(i=new Function("event",r)),i.call(e,t))}))};e.addEventListener(t,listener),n.onHandlers.push({event:t,listener:listener})}function processHxOnWildcard(e){deInitOnHandlers(e);for(let t=0;t<e.attributes.length;t++){const r=e.attributes[t].name,n=e.attributes[t].value;if(startsWith(r,"hx-on")||startsWith(r,"data-hx-on")){const t=r.indexOf("-on")+3,i=r.slice(t,t+1);if("-"===i||":"===i){let i=r.slice(t+1);startsWith(i,":")?i="htmx"+i:startsWith(i,"-")?i="htmx:"+i.slice(1):startsWith(i,"htmx-")&&(i="htmx:"+i.slice(5)),addHxOnEventHandler(e,i,n)}}}}function initNode(e){if(closest(e,htmx.config.disableSelector))return void cleanUpElement(e);const t=getInternalData(e),r=attributeHash(e);if(t.initHash!==r){deInitNode(e),t.initHash=r,triggerEvent(e,"htmx:beforeProcessNode");const n=getTriggerSpecs(e);processVerbs(e,t,n)||("true"===getClosestAttributeValue(e,"hx-boost")?boostElement(e,t,n):hasAttribute(e,"hx-trigger")&&n.forEach((function(r){addTriggerHandler(e,r,t,(function(){}))}))),("FORM"===e.tagName||"submit"===getRawAttribute(e,"type")&&hasAttribute(e,"form"))&&initButtonTracking(e),t.firstInitCompleted=!0,triggerEvent(e,"htmx:afterProcessNode")}}function processNode(e){closest(e=resolveTarget(e),htmx.config.disableSelector)?cleanUpElement(e):(initNode(e),forEach(findElementsToProcess(e),(function(e){initNode(e)})),forEach(findHxOnWildcardElements(e),processHxOnWildcard))}function kebabEventName(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function makeEvent(e,t){let r;return window.CustomEvent&&"function"==typeof window.CustomEvent?r=new CustomEvent(e,{bubbles:!0,cancelable:!0,composed:!0,detail:t}):(r=getDocument().createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,t)),r}function triggerErrorEvent(e,t,r){triggerEvent(e,t,mergeObjects({error:t},r))}function ignoreEventForLogging(e){return"htmx:afterProcessNode"===e}function withExtensions(e,t){forEach(getExtensions(e),(function(e){try{t(e)}catch(e){logError(e)}}))}function logError(e){console.error?console.error(e):console.log&&console.log("ERROR: ",e)}function triggerEvent(e,t,r){e=resolveTarget(e),null==r&&(r={}),r.elt=e;const n=makeEvent(t,r);htmx.logger&&!ignoreEventForLogging(t)&&htmx.logger(e,t,r),r.error&&(logError(r.error),triggerEvent(e,"htmx:error",{errorInfo:r}));let i=e.dispatchEvent(n);const o=kebabEventName(t);if(i&&o!==t){const t=makeEvent(o,n.detail);i=i&&e.dispatchEvent(t)}return withExtensions(asElement(e),(function(e){i=i&&!1!==e.onEvent(t,n)&&!n.defaultPrevented})),i}let currentPathForHistory=location.pathname+location.search;function getHistoryElement(){return getDocument().querySelector("[hx-history-elt],[data-hx-history-elt]")||getDocument().body}function saveToHistoryCache(e,t){if(!canAccessLocalStorage())return;const r=cleanInnerHtmlForHistory(t),n=getDocument().title,i=window.scrollY;if(htmx.config.historyCacheSize<=0)return void localStorage.removeItem("htmx-history-cache");e=normalizePath(e);const o=parseJSON(localStorage.getItem("htmx-history-cache"))||[];for(let t=0;t<o.length;t++)if(o[t].url===e){o.splice(t,1);break}const a={url:e,content:r,title:n,scroll:i};for(triggerEvent(getDocument().body,"htmx:historyItemCreated",{item:a,cache:o}),o.push(a);o.length>htmx.config.historyCacheSize;)o.shift();for(;o.length>0;)try{localStorage.setItem("htmx-history-cache",JSON.stringify(o));break}catch(e){triggerErrorEvent(getDocument().body,"htmx:historyCacheError",{cause:e,cache:o}),o.shift()}}function getCachedHistory(e){if(!canAccessLocalStorage())return null;e=normalizePath(e);const t=parseJSON(localStorage.getItem("htmx-history-cache"))||[];for(let r=0;r<t.length;r++)if(t[r].url===e)return t[r];return null}function cleanInnerHtmlForHistory(e){const t=htmx.config.requestClass,r=e.cloneNode(!0);return forEach(findAll(r,"."+t),(function(e){removeClassFromElement(e,t)})),forEach(findAll(r,"[data-disabled-by-htmx]"),(function(e){e.removeAttribute("disabled")})),r.innerHTML}function saveCurrentPageToHistory(){const e=getHistoryElement(),t=currentPathForHistory||location.pathname+location.search;let r;try{r=getDocument().querySelector('[hx-history="false" i],[data-hx-history="false" i]')}catch(e){r=getDocument().querySelector('[hx-history="false"],[data-hx-history="false"]')}r||(triggerEvent(getDocument().body,"htmx:beforeHistorySave",{path:t,historyElt:e}),saveToHistoryCache(t,e)),htmx.config.historyEnabled&&history.replaceState({htmx:!0},getDocument().title,window.location.href)}function pushUrlIntoHistory(e){htmx.config.getCacheBusterParam&&(endsWith(e=e.replace(/org\.htmx\.cache-buster=[^&]*&?/,""),"&")||endsWith(e,"?"))&&(e=e.slice(0,-1)),htmx.config.historyEnabled&&history.pushState({htmx:!0},"",e),currentPathForHistory=e}function replaceUrlInHistory(e){htmx.config.historyEnabled&&history.replaceState({htmx:!0},"",e),currentPathForHistory=e}function settleImmediately(e){forEach(e,(function(e){e.call(void 0)}))}function loadHistoryFromServer(e){const t=new XMLHttpRequest,r={path:e,xhr:t};triggerEvent(getDocument().body,"htmx:historyCacheMiss",r),t.open("GET",e,!0),t.setRequestHeader("HX-Request","true"),t.setRequestHeader("HX-History-Restore-Request","true"),t.setRequestHeader("HX-Current-URL",getDocument().location.href),t.onload=function(){if(this.status>=200&&this.status<400){triggerEvent(getDocument().body,"htmx:historyCacheMissLoad",r);const t=makeFragment(this.response),n=t.querySelector("[hx-history-elt],[data-hx-history-elt]")||t,i=getHistoryElement(),o=makeSettleInfo(i);handleTitle(t.title),handlePreservedElements(t),swapInnerHTML(i,n,o),restorePreservedElements(),settleImmediately(o.tasks),currentPathForHistory=e,triggerEvent(getDocument().body,"htmx:historyRestore",{path:e,cacheMiss:!0,serverResponse:this.response})}else triggerErrorEvent(getDocument().body,"htmx:historyCacheMissLoadError",r)},t.send()}function restoreHistory(e){saveCurrentPageToHistory();const t=getCachedHistory(e=e||location.pathname+location.search);if(t){const r=makeFragment(t.content),n=getHistoryElement(),i=makeSettleInfo(n);handleTitle(t.title),handlePreservedElements(r),swapInnerHTML(n,r,i),restorePreservedElements(),settleImmediately(i.tasks),getWindow().setTimeout((function(){window.scrollTo(0,t.scroll)}),0),currentPathForHistory=e,triggerEvent(getDocument().body,"htmx:historyRestore",{path:e,item:t})}else htmx.config.refreshOnHistoryMiss?window.location.reload(!0):loadHistoryFromServer(e)}function addRequestIndicatorClasses(e){let t=findAttributeTargets(e,"hx-indicator");return null==t&&(t=[e]),forEach(t,(function(e){const t=getInternalData(e);t.requestCount=(t.requestCount||0)+1,e.classList.add.call(e.classList,htmx.config.requestClass)})),t}function disableElements(e){let t=findAttributeTargets(e,"hx-disabled-elt");return null==t&&(t=[]),forEach(t,(function(e){const t=getInternalData(e);t.requestCount=(t.requestCount||0)+1,e.setAttribute("disabled",""),e.setAttribute("data-disabled-by-htmx","")})),t}function removeRequestIndicators(e,t){forEach(e.concat(t),(function(e){const t=getInternalData(e);t.requestCount=(t.requestCount||1)-1})),forEach(e,(function(e){0===getInternalData(e).requestCount&&e.classList.remove.call(e.classList,htmx.config.requestClass)})),forEach(t,(function(e){0===getInternalData(e).requestCount&&(e.removeAttribute("disabled"),e.removeAttribute("data-disabled-by-htmx"))}))}function haveSeenNode(e,t){for(let r=0;r<e.length;r++)if(e[r].isSameNode(t))return!0;return!1}function shouldInclude(e){const t=e;return""!==t.name&&null!=t.name&&!t.disabled&&!closest(t,"fieldset[disabled]")&&"button"!==t.type&&"submit"!==t.type&&"image"!==t.tagName&&"reset"!==t.tagName&&"file"!==t.tagName&&("checkbox"!==t.type&&"radio"!==t.type||t.checked)}function addValueToFormData(e,t,r){null!=e&&null!=t&&(Array.isArray(t)?t.forEach((function(t){r.append(e,t)})):r.append(e,t))}function removeValueFromFormData(e,t,r){if(null!=e&&null!=t){let n=r.getAll(e);n=Array.isArray(t)?n.filter((e=>t.indexOf(e)<0)):n.filter((e=>e!==t)),r.delete(e),forEach(n,(t=>r.append(e,t)))}}function processInputValue(e,t,r,n,i){if(null!=n&&!haveSeenNode(e,n)){if(e.push(n),shouldInclude(n)){const e=getRawAttribute(n,"name");let o=n.value;n instanceof HTMLSelectElement&&n.multiple&&(o=toArray(n.querySelectorAll("option:checked")).map((function(e){return e.value}))),n instanceof HTMLInputElement&&n.files&&(o=toArray(n.files)),addValueToFormData(e,o,t),i&&validateElement(n,r)}n instanceof HTMLFormElement&&(forEach(n.elements,(function(n){e.indexOf(n)>=0?removeValueFromFormData(n.name,n.value,t):e.push(n),i&&validateElement(n,r)})),new FormData(n).forEach((function(e,r){e instanceof File&&""===e.name||addValueToFormData(r,e,t)})))}}function validateElement(e,t){const r=e;r.willValidate&&(triggerEvent(r,"htmx:validation:validate"),r.checkValidity()||(t.push({elt:r,message:r.validationMessage,validity:r.validity}),triggerEvent(r,"htmx:validation:failed",{message:r.validationMessage,validity:r.validity})))}function overrideFormData(e,t){for(const r of t.keys())e.delete(r);return t.forEach((function(t,r){e.append(r,t)})),e}function getInputValues(e,t){const r=[],n=new FormData,i=new FormData,o=[],a=getInternalData(e);a.lastButtonClicked&&!bodyContains(a.lastButtonClicked)&&(a.lastButtonClicked=null);let s=e instanceof HTMLFormElement&&!0!==e.noValidate||"true"===getAttributeValue(e,"hx-validate");if(a.lastButtonClicked&&(s=s&&!0!==a.lastButtonClicked.formNoValidate),"get"!==t&&processInputValue(r,i,o,closest(e,"form"),s),processInputValue(r,n,o,e,s),a.lastButtonClicked||"BUTTON"===e.tagName||"INPUT"===e.tagName&&"submit"===getRawAttribute(e,"type")){const t=a.lastButtonClicked||e;addValueToFormData(getRawAttribute(t,"name"),t.value,i)}return forEach(findAttributeTargets(e,"hx-include"),(function(e){processInputValue(r,n,o,asElement(e),s),matches(e,"form")||forEach(asParentNode(e).querySelectorAll(INPUT_SELECTOR),(function(e){processInputValue(r,n,o,e,s)}))})),overrideFormData(n,i),{errors:o,formData:n,values:formDataProxy(n)}}function appendParam(e,t,r){""!==e&&(e+="&"),"[object Object]"===String(r)&&(r=JSON.stringify(r));const n=encodeURIComponent(r);return e+(encodeURIComponent(t)+"=")+n}function urlEncode(e){e=formDataFromObject(e);let t="";return e.forEach((function(e,r){t=appendParam(t,r,e)})),t}function getHeaders(e,t,r){const n={"HX-Request":"true","HX-Trigger":getRawAttribute(e,"id"),"HX-Trigger-Name":getRawAttribute(e,"name"),"HX-Target":getAttributeValue(t,"id"),"HX-Current-URL":getDocument().location.href};return getValuesForElement(e,"hx-headers",!1,n),void 0!==r&&(n["HX-Prompt"]=r),getInternalData(e).boosted&&(n["HX-Boosted"]="true"),n}function filterValues(e,t){const r=getClosestAttributeValue(t,"hx-params");if(r){if("none"===r)return new FormData;if("*"===r)return e;if(0===r.indexOf("not "))return forEach(r.slice(4).split(","),(function(t){t=t.trim(),e.delete(t)})),e;{const t=new FormData;return forEach(r.split(","),(function(r){r=r.trim(),e.has(r)&&e.getAll(r).forEach((function(e){t.append(r,e)}))})),t}}return e}function isAnchorLink(e){return!!getRawAttribute(e,"href")&&getRawAttribute(e,"href").indexOf("#")>=0}function getSwapSpecification(e,t){const r=t||getClosestAttributeValue(e,"hx-swap"),n={swapStyle:getInternalData(e).boosted?"innerHTML":htmx.config.defaultSwapStyle,swapDelay:htmx.config.defaultSwapDelay,settleDelay:htmx.config.defaultSettleDelay};if(htmx.config.scrollIntoViewOnBoost&&getInternalData(e).boosted&&!isAnchorLink(e)&&(n.show="top"),r){const e=splitOnWhitespace(r);if(e.length>0)for(let t=0;t<e.length;t++){const r=e[t];if(0===r.indexOf("swap:"))n.swapDelay=parseInterval(r.slice(5));else if(0===r.indexOf("settle:"))n.settleDelay=parseInterval(r.slice(7));else if(0===r.indexOf("transition:"))n.transition="true"===r.slice(11);else if(0===r.indexOf("ignoreTitle:"))n.ignoreTitle="true"===r.slice(12);else if(0===r.indexOf("scroll:")){const e=(o=r.slice(7).split(":")).pop();var i=o.length>0?o.join(":"):null;n.scroll=e,n.scrollTarget=i}else if(0===r.indexOf("show:")){var o;const e=(o=r.slice(5).split(":")).pop();i=o.length>0?o.join(":"):null,n.show=e,n.showTarget=i}else if(0===r.indexOf("focus-scroll:")){const e=r.slice(13);n.focusScroll="true"==e}else 0==t?n.swapStyle=r:logError("Unknown modifier in hx-swap: "+r)}}return n}function usesFormData(e){return"multipart/form-data"===getClosestAttributeValue(e,"hx-encoding")||matches(e,"form")&&"multipart/form-data"===getRawAttribute(e,"enctype")}function encodeParamsForBody(e,t,r){let n=null;return withExtensions(t,(function(i){null==n&&(n=i.encodeParameters(e,r,t))})),null!=n?n:usesFormData(t)?overrideFormData(new FormData,formDataFromObject(r)):urlEncode(r)}function makeSettleInfo(e){return{tasks:[],elts:[e]}}function updateScrollState(e,t){const r=e[0],n=e[e.length-1];if(t.scroll){var i=null;t.scrollTarget&&(i=asElement(querySelectorExt(r,t.scrollTarget))),"top"===t.scroll&&(r||i)&&((i=i||r).scrollTop=0),"bottom"===t.scroll&&(n||i)&&((i=i||n).scrollTop=i.scrollHeight)}if(t.show){if(i=null,t.showTarget){let e=t.showTarget;"window"===t.showTarget&&(e="body"),i=asElement(querySelectorExt(r,e))}"top"===t.show&&(r||i)&&(i=i||r).scrollIntoView({block:"start",behavior:htmx.config.scrollBehavior}),"bottom"===t.show&&(n||i)&&(i=i||n).scrollIntoView({block:"end",behavior:htmx.config.scrollBehavior})}}function getValuesForElement(e,t,r,n){if(null==n&&(n={}),null==e)return n;const i=getAttributeValue(e,t);if(i){let t,o=i.trim(),a=r;if("unset"===o)return null;0===o.indexOf("javascript:")?(o=o.slice(11),a=!0):0===o.indexOf("js:")&&(o=o.slice(3),a=!0),0!==o.indexOf("{")&&(o="{"+o+"}"),t=a?maybeEval(e,(function(){return Function("return ("+o+")")()}),{}):parseJSON(o);for(const e in t)t.hasOwnProperty(e)&&null==n[e]&&(n[e]=t[e])}return getValuesForElement(asElement(parentElt(e)),t,r,n)}function maybeEval(e,t,r){return htmx.config.allowEval?t():(triggerErrorEvent(e,"htmx:evalDisallowedError"),r)}function getHXVarsForElement(e,t){return getValuesForElement(e,"hx-vars",!0,t)}function getHXValsForElement(e,t){return getValuesForElement(e,"hx-vals",!1,t)}function getExpressionVars(e){return mergeObjects(getHXVarsForElement(e),getHXValsForElement(e))}function safelySetHeaderValue(e,t,r){if(null!==r)try{e.setRequestHeader(t,r)}catch(n){e.setRequestHeader(t,encodeURIComponent(r)),e.setRequestHeader(t+"-URI-AutoEncoded","true")}}function getPathFromResponse(e){if(e.responseURL&&"undefined"!=typeof URL)try{const t=new URL(e.responseURL);return t.pathname+t.search}catch(t){triggerErrorEvent(getDocument().body,"htmx:badResponseUrl",{url:e.responseURL})}}function hasHeader(e,t){return t.test(e.getAllResponseHeaders())}function ajaxHelper(e,t,r){if(e=e.toLowerCase(),r){if(r instanceof Element||"string"==typeof r)return issueAjaxRequest(e,t,null,null,{targetOverride:resolveTarget(r)||DUMMY_ELT,returnPromise:!0});{let n=resolveTarget(r.target);return(r.target&&!n||r.source&&!n&&!resolveTarget(r.source))&&(n=DUMMY_ELT),issueAjaxRequest(e,t,resolveTarget(r.source),r.event,{handler:r.handler,headers:r.headers,values:r.values,targetOverride:n,swapOverride:r.swap,select:r.select,returnPromise:!0})}}return issueAjaxRequest(e,t,null,null,{returnPromise:!0})}function hierarchyForElt(e){const t=[];for(;e;)t.push(e),e=e.parentElement;return t}function verifyPath(e,t,r){let n,i;return"function"==typeof URL?(i=new URL(t,document.location.href),n=document.location.origin===i.origin):(i=t,n=startsWith(t,document.location.origin)),!(htmx.config.selfRequestsOnly&&!n)&&triggerEvent(e,"htmx:validateUrl",mergeObjects({url:i,sameHost:n},r))}function formDataFromObject(e){if(e instanceof FormData)return e;const t=new FormData;for(const r in e)e.hasOwnProperty(r)&&(e[r]&&"function"==typeof e[r].forEach?e[r].forEach((function(e){t.append(r,e)})):"object"!=typeof e[r]||e[r]instanceof Blob?t.append(r,e[r]):t.append(r,JSON.stringify(e[r])));return t}function formDataArrayProxy(e,t,r){return new Proxy(r,{get:function(r,n){return"number"==typeof n?r[n]:"length"===n?r.length:"push"===n?function(n){r.push(n),e.append(t,n)}:"function"==typeof r[n]?function(){r[n].apply(r,arguments),e.delete(t),r.forEach((function(r){e.append(t,r)}))}:r[n]&&1===r[n].length?r[n][0]:r[n]},set:function(r,n,i){return r[n]=i,e.delete(t),r.forEach((function(r){e.append(t,r)})),!0}})}function formDataProxy(e){return new Proxy(e,{get:function(t,r){if("symbol"==typeof r){const n=Reflect.get(t,r);return"function"==typeof n?function(){return n.apply(e,arguments)}:n}if("toJSON"===r)return()=>Object.fromEntries(e);if(r in t)return"function"==typeof t[r]?function(){return e[r].apply(e,arguments)}:t[r];const n=e.getAll(r);return 0===n.length?void 0:1===n.length?n[0]:formDataArrayProxy(t,r,n)},set:function(e,t,r){return"string"==typeof t&&(e.delete(t),r&&"function"==typeof r.forEach?r.forEach((function(r){e.append(t,r)})):"object"!=typeof r||r instanceof Blob?e.append(t,r):e.append(t,JSON.stringify(r)),!0)},deleteProperty:function(e,t){return"string"==typeof t&&e.delete(t),!0},ownKeys:function(e){return Reflect.ownKeys(Object.fromEntries(e))},getOwnPropertyDescriptor:function(e,t){return Reflect.getOwnPropertyDescriptor(Object.fromEntries(e),t)}})}function issueAjaxRequest(e,t,r,n,i,o){let a=null,s=null;if((i=null!=i?i:{}).returnPromise&&"undefined"!=typeof Promise)var u=new Promise((function(e,t){a=e,s=t}));null==r&&(r=getDocument().body);const l=i.handler||handleAjaxResponse,c=i.select||null;if(!bodyContains(r))return maybeCall(a),u;const f=i.targetOverride||asElement(getTarget(r));if(null==f||f==DUMMY_ELT)return triggerErrorEvent(r,"htmx:targetError",{target:getAttributeValue(r,"hx-target")}),maybeCall(s),u;let h=getInternalData(r);const p=h.lastButtonClicked;if(p){const r=getRawAttribute(p,"formaction");null!=r&&(t=r);const n=getRawAttribute(p,"formmethod");null!=n&&"dialog"!==n.toLowerCase()&&(e=n)}const m=getClosestAttributeValue(r,"hx-confirm");if(void 0===o&&!1===triggerEvent(r,"htmx:confirm",{target:f,elt:r,path:t,verb:e,triggeringEvent:n,etc:i,issueRequest:function(o){return issueAjaxRequest(e,t,r,n,i,!!o)},question:m}))return maybeCall(a),u;let d=r,g=getClosestAttributeValue(r,"hx-sync"),b=null,v=!1;if(g){const e=g.split(":"),t=e[0].trim();if(d="this"===t?findThisElement(r,"hx-sync"):asElement(querySelectorExt(r,t)),g=(e[1]||"drop").trim(),h=getInternalData(d),"drop"===g&&h.xhr&&!0!==h.abortable)return maybeCall(a),u;if("abort"===g){if(h.xhr)return maybeCall(a),u;v=!0}else"replace"===g?triggerEvent(d,"htmx:abort"):0===g.indexOf("queue")&&(b=(g.split(" ")[1]||"last").trim())}if(h.xhr){if(!h.abortable){if(null==b){if(n){const e=getInternalData(n);e&&e.triggerSpec&&e.triggerSpec.queue&&(b=e.triggerSpec.queue)}null==b&&(b="last")}return null==h.queuedRequests&&(h.queuedRequests=[]),"first"===b&&0===h.queuedRequests.length||"all"===b?h.queuedRequests.push((function(){issueAjaxRequest(e,t,r,n,i)})):"last"===b&&(h.queuedRequests=[],h.queuedRequests.push((function(){issueAjaxRequest(e,t,r,n,i)}))),maybeCall(a),u}triggerEvent(d,"htmx:abort")}const E=new XMLHttpRequest;h.xhr=E,h.abortable=v;const endRequestLock=function(){h.xhr=null,h.abortable=!1,null!=h.queuedRequests&&h.queuedRequests.length>0&&h.queuedRequests.shift()()},S=getClosestAttributeValue(r,"hx-prompt");if(S){var y=prompt(S);if(null===y||!triggerEvent(r,"htmx:prompt",{prompt:y,target:f}))return maybeCall(a),endRequestLock(),u}if(m&&!o&&!confirm(m))return maybeCall(a),endRequestLock(),u;let w=getHeaders(r,f,y);"get"===e||usesFormData(r)||(w["Content-Type"]="application/x-www-form-urlencoded"),i.headers&&(w=mergeObjects(w,i.headers));const x=getInputValues(r,e);let C=x.errors;const D=x.formData;i.values&&overrideFormData(D,formDataFromObject(i.values));const M=overrideFormData(D,formDataFromObject(getExpressionVars(r)));let A=filterValues(M,r);htmx.config.getCacheBusterParam&&"get"===e&&A.set("org.htmx.cache-buster",getRawAttribute(f,"id")||"true"),null!=t&&""!==t||(t=getDocument().location.href);const P=getValuesForElement(r,"hx-request"),R=getInternalData(r).boosted;let _=htmx.config.methodsThatUseUrlParams.indexOf(e)>=0;const k={boosted:R,useUrlParams:_,formData:A,parameters:formDataProxy(A),unfilteredFormData:M,unfilteredParameters:formDataProxy(M),headers:w,target:f,verb:e,errors:C,withCredentials:i.credentials||P.credentials||htmx.config.withCredentials,timeout:i.timeout||P.timeout||htmx.config.timeout,path:t,triggeringEvent:n};if(!triggerEvent(r,"htmx:configRequest",k))return maybeCall(a),endRequestLock(),u;if(t=k.path,e=k.verb,w=k.headers,A=formDataFromObject(k.parameters),C=k.errors,_=k.useUrlParams,C&&C.length>0)return triggerEvent(r,"htmx:validation:halted",k),maybeCall(a),endRequestLock(),u;const T=t.split("#"),q=T[1];let L=t;if(_&&(L=T[0],!A.keys().next().done&&(L.indexOf("?")<0?L+="?":L+="&",L+=urlEncode(A),q&&(L+="#"+q))),!verifyPath(r,L,k))return triggerErrorEvent(r,"htmx:invalidPath",k),maybeCall(s),u;if(E.open(e.toUpperCase(),L,!0),E.overrideMimeType("text/html"),E.withCredentials=k.withCredentials,E.timeout=k.timeout,P.noHeaders);else for(const e in w)w.hasOwnProperty(e)&&safelySetHeaderValue(E,e,w[e]);const H={xhr:E,target:f,requestConfig:k,etc:i,boosted:R,select:c,pathInfo:{requestPath:t,finalRequestPath:L,responsePath:null,anchor:q}};if(E.onload=function(){try{const e=hierarchyForElt(r);if(H.pathInfo.responsePath=getPathFromResponse(E),l(r,H),!0!==H.keepIndicators&&removeRequestIndicators(O,N),triggerEvent(r,"htmx:afterRequest",H),triggerEvent(r,"htmx:afterOnLoad",H),!bodyContains(r)){let t=null;for(;e.length>0&&null==t;){const r=e.shift();bodyContains(r)&&(t=r)}t&&(triggerEvent(t,"htmx:afterRequest",H),triggerEvent(t,"htmx:afterOnLoad",H))}maybeCall(a),endRequestLock()}catch(e){throw triggerErrorEvent(r,"htmx:onLoadError",mergeObjects({error:e},H)),e}},E.onerror=function(){removeRequestIndicators(O,N),triggerErrorEvent(r,"htmx:afterRequest",H),triggerErrorEvent(r,"htmx:sendError",H),maybeCall(s),endRequestLock()},E.onabort=function(){removeRequestIndicators(O,N),triggerErrorEvent(r,"htmx:afterRequest",H),triggerErrorEvent(r,"htmx:sendAbort",H),maybeCall(s),endRequestLock()},E.ontimeout=function(){removeRequestIndicators(O,N),triggerErrorEvent(r,"htmx:afterRequest",H),triggerErrorEvent(r,"htmx:timeout",H),maybeCall(s),endRequestLock()},!triggerEvent(r,"htmx:beforeRequest",H))return maybeCall(a),endRequestLock(),u;var O=addRequestIndicatorClasses(r),N=disableElements(r);forEach(["loadstart","loadend","progress","abort"],(function(e){forEach([E,E.upload],(function(t){t.addEventListener(e,(function(t){triggerEvent(r,"htmx:xhr:"+e,{lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total})}))}))})),triggerEvent(r,"htmx:beforeSend",H);const I=_?null:encodeParamsForBody(E,r,A);return E.send(I),u}function determineHistoryUpdates(e,t){const r=t.xhr;let n=null,i=null;if(hasHeader(r,/HX-Push:/i)?(n=r.getResponseHeader("HX-Push"),i="push"):hasHeader(r,/HX-Push-Url:/i)?(n=r.getResponseHeader("HX-Push-Url"),i="push"):hasHeader(r,/HX-Replace-Url:/i)&&(n=r.getResponseHeader("HX-Replace-Url"),i="replace"),n)return"false"===n?{}:{type:i,path:n};const o=t.pathInfo.finalRequestPath,a=t.pathInfo.responsePath,s=getClosestAttributeValue(e,"hx-push-url"),u=getClosestAttributeValue(e,"hx-replace-url"),l=getInternalData(e).boosted;let c=null,f=null;return s?(c="push",f=s):u?(c="replace",f=u):l&&(c="push",f=a||o),f?"false"===f?{}:("true"===f&&(f=a||o),t.pathInfo.anchor&&-1===f.indexOf("#")&&(f=f+"#"+t.pathInfo.anchor),{type:c,path:f}):{}}function codeMatches(e,t){return new RegExp(e.code).test(t.toString(10))}function resolveResponseHandling(e){for(var t=0;t<htmx.config.responseHandling.length;t++){var r=htmx.config.responseHandling[t];if(codeMatches(r,e.status))return r}return{swap:!1}}function handleTitle(e){if(e){const t=find("title");t?t.innerHTML=e:window.document.title=e}}function handleAjaxResponse(e,t){const r=t.xhr;let n=t.target;const i=t.etc,o=t.select;if(!triggerEvent(e,"htmx:beforeOnLoad",t))return;if(hasHeader(r,/HX-Trigger:/i)&&handleTriggerHeader(r,"HX-Trigger",e),hasHeader(r,/HX-Location:/i)){saveCurrentPageToHistory();let e=r.getResponseHeader("HX-Location");var a;return 0===e.indexOf("{")&&(a=parseJSON(e),e=a.path,delete a.path),void ajaxHelper("get",e,a).then((function(){pushUrlIntoHistory(e)}))}const s=hasHeader(r,/HX-Refresh:/i)&&"true"===r.getResponseHeader("HX-Refresh");if(hasHeader(r,/HX-Redirect:/i))return t.keepIndicators=!0,location.href=r.getResponseHeader("HX-Redirect"),void(s&&location.reload());if(s)return t.keepIndicators=!0,void location.reload();hasHeader(r,/HX-Retarget:/i)&&(t.target="this"===r.getResponseHeader("HX-Retarget")?e:asElement(querySelectorExt(e,r.getResponseHeader("HX-Retarget"))));const u=determineHistoryUpdates(e,t),l=resolveResponseHandling(r),c=l.swap;let f=!!l.error,h=htmx.config.ignoreTitle||l.ignoreTitle,p=l.select;l.target&&(t.target=asElement(querySelectorExt(e,l.target)));var m=i.swapOverride;null==m&&l.swapOverride&&(m=l.swapOverride),hasHeader(r,/HX-Retarget:/i)&&(t.target="this"===r.getResponseHeader("HX-Retarget")?e:asElement(querySelectorExt(e,r.getResponseHeader("HX-Retarget")))),hasHeader(r,/HX-Reswap:/i)&&(m=r.getResponseHeader("HX-Reswap"));var d=r.response,g=mergeObjects({shouldSwap:c,serverResponse:d,isError:f,ignoreTitle:h,selectOverride:p,swapOverride:m},t);if((!l.event||triggerEvent(n,l.event,g))&&triggerEvent(n,"htmx:beforeSwap",g)){if(n=g.target,d=g.serverResponse,f=g.isError,h=g.ignoreTitle,p=g.selectOverride,m=g.swapOverride,t.target=n,t.failed=f,t.successful=!f,g.shouldSwap){286===r.status&&cancelPolling(e),withExtensions(e,(function(t){d=t.transformResponse(d,r,e)})),u.type&&saveCurrentPageToHistory();var b=getSwapSpecification(e,m);b.hasOwnProperty("ignoreTitle")||(b.ignoreTitle=h),n.classList.add(htmx.config.swappingClass);let i=null,a=null;o&&(p=o),hasHeader(r,/HX-Reselect:/i)&&(p=r.getResponseHeader("HX-Reselect"));const s=getClosestAttributeValue(e,"hx-select-oob"),l=getClosestAttributeValue(e,"hx-select");let doSwap=function(){try{u.type&&(triggerEvent(getDocument().body,"htmx:beforeHistoryUpdate",mergeObjects({history:u},t)),"push"===u.type?(pushUrlIntoHistory(u.path),triggerEvent(getDocument().body,"htmx:pushedIntoHistory",{path:u.path})):(replaceUrlInHistory(u.path),triggerEvent(getDocument().body,"htmx:replacedInHistory",{path:u.path}))),swap(n,d,b,{select:p||l,selectOOB:s,eventInfo:t,anchor:t.pathInfo.anchor,contextElement:e,afterSwapCallback:function(){if(hasHeader(r,/HX-Trigger-After-Swap:/i)){let t=e;bodyContains(e)||(t=getDocument().body),handleTriggerHeader(r,"HX-Trigger-After-Swap",t)}},afterSettleCallback:function(){if(hasHeader(r,/HX-Trigger-After-Settle:/i)){let t=e;bodyContains(e)||(t=getDocument().body),handleTriggerHeader(r,"HX-Trigger-After-Settle",t)}maybeCall(i)}})}catch(r){throw triggerErrorEvent(e,"htmx:swapError",t),maybeCall(a),r}},c=htmx.config.globalViewTransitions;if(b.hasOwnProperty("transition")&&(c=b.transition),c&&triggerEvent(e,"htmx:beforeTransition",t)&&"undefined"!=typeof Promise&&document.startViewTransition){const e=new Promise((function(e,t){i=e,a=t})),t=doSwap;doSwap=function(){document.startViewTransition((function(){return t(),e}))}}b.swapDelay>0?getWindow().setTimeout(doSwap,b.swapDelay):doSwap()}f&&triggerErrorEvent(e,"htmx:responseError",mergeObjects({error:"Response Status Error Code "+r.status+" from "+t.pathInfo.requestPath},t))}}const extensions={};function extensionBase(){return{init:function(e){return null},getSelectors:function(){return null},onEvent:function(e,t){return!0},transformResponse:function(e,t,r){return e},isInlineSwap:function(e){return!1},handleSwap:function(e,t,r,n){return!1},encodeParameters:function(e,t,r){return null}}}function defineExtension(e,t){t.init&&t.init(internalAPI),extensions[e]=mergeObjects(extensionBase(),t)}function removeExtension(e){delete extensions[e]}function getExtensions(e,t,r){if(null==t&&(t=[]),null==e)return t;null==r&&(r=[]);const n=getAttributeValue(e,"hx-ext");return n&&forEach(n.split(","),(function(e){if("ignore:"!=(e=e.replace(/ /g,"")).slice(0,7)){if(r.indexOf(e)<0){const r=extensions[e];r&&t.indexOf(r)<0&&t.push(r)}}else r.push(e.slice(7))})),getExtensions(asElement(parentElt(e)),t,r)}var isReady=!1;function ready(e){isReady||"complete"===getDocument().readyState?e():getDocument().addEventListener("DOMContentLoaded",e)}function insertIndicatorStyles(){if(!1!==htmx.config.includeIndicatorStyles){const e=htmx.config.inlineStyleNonce?` nonce="${htmx.config.inlineStyleNonce}"`:"";getDocument().head.insertAdjacentHTML("beforeend","<style"+e+">      ."+htmx.config.indicatorClass+"{opacity:0}      ."+htmx.config.requestClass+" ."+htmx.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}      ."+htmx.config.requestClass+"."+htmx.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}      </style>")}}function getMetaConfig(){const e=getDocument().querySelector('meta[name="htmx-config"]');return e?parseJSON(e.content):null}function mergeMetaConfig(){const e=getMetaConfig();e&&(htmx.config=mergeObjects(htmx.config,e))}return getDocument().addEventListener("DOMContentLoaded",(function(){isReady=!0})),ready((function(){mergeMetaConfig(),insertIndicatorStyles();let e=getDocument().body;processNode(e);const t=getDocument().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");e.addEventListener("htmx:abort",(function(e){const t=getInternalData(e.target);t&&t.xhr&&t.xhr.abort()}));const r=window.onpopstate?window.onpopstate.bind(window):null;window.onpopstate=function(e){e.state&&e.state.htmx?(restoreHistory(),forEach(t,(function(e){triggerEvent(e,"htmx:restored",{document:getDocument(),triggerEvent:triggerEvent})}))):r&&r(e)},getWindow().setTimeout((function(){triggerEvent(e,"htmx:load",{}),e=null}),0)})),htmx}(),htmxLib=htmx$2;function getDefaultExportFromCjs(e){return e&&e.te&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var handlebars={exports:{}},handlebars_runtime={exports:{}},base$1={},utils={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1,utils.te=!0,utils.extend=extend,utils.indexOf=function indexOf(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},utils.escapeExpression=function escapeExpression(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return r.test(e)?e.replace(t,escapeChar):e},utils.isEmpty=function isEmpty(e){return!e&&0!==e||!(!o(e)||0!==e.length)},utils.createFrame=function createFrame(e){var t=extend({},e);return t.re=e,t},utils.blockParams=function blockParams(e,t){return e.path=t,e},utils.appendContextPath=function appendContextPath(e,t){return(e?e+".":"")+t};var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},t=/[&<>"'`=]/g,r=/[&<>"'`=]/;function escapeChar(t){return e[t]}function extend(e){for(var t=1;t<arguments.length;t++)for(var r in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],r)&&(e[r]=arguments[t][r]);return e}var n=Object.prototype.toString;utils.toString=n;var i=function isFunction(e){return"function"==typeof e};i(/x/)&&(utils.isFunction=i=function(e){return"function"==typeof e&&"[object Function]"===n.call(e)}),utils.isFunction=i;var o=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===n.call(e)};return utils.isArray=o,utils}var exception={exports:{}},hasRequiredException;function requireException(){return hasRequiredException||(hasRequiredException=1,function(e,t){t.te=!0;var r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function Exception(e,t){var n=t&&t.loc,i=void 0,o=void 0,a=void 0,s=void 0;n&&(o=n.end.line,s=n.end.column,e+=" - "+(i=n.start.line)+":"+(a=n.start.column));for(var u=Error.prototype.constructor.call(this,e),l=0;l<r.length;l++)this[r[l]]=u[r[l]];Error.captureStackTrace&&Error.captureStackTrace(this,Exception);try{n&&(this.lineNumber=i,this.endLineNumber=o,Object.defineProperty?(Object.defineProperty(this,"column",{value:a,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:s,enumerable:!0})):(this.column=a,this.endColumn=s))}catch(e){}}Exception.prototype=new Error,t.default=Exception,e.exports=t.default}(exception,exception.exports)),exception.exports}var helpers$1={},blockHelperMissing={exports:{}},hasRequiredBlockHelperMissing;function requireBlockHelperMissing(){return hasRequiredBlockHelperMissing||(hasRequiredBlockHelperMissing=1,function(e,t){t.te=!0;var r=requireUtils();t.default=function(e){e.registerHelper("blockHelperMissing",(function(t,n){var i=n.inverse,o=n.fn;if(!0===t)return o(this);if(!1===t||null==t)return i(this);if(r.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):i(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return o(t,n)}))},e.exports=t.default}(blockHelperMissing,blockHelperMissing.exports)),blockHelperMissing.exports}var each={exports:{}},hasRequiredEach;function requireEach(){return hasRequiredEach||(hasRequiredEach=1,function(e,t){t.te=!0;var r=requireUtils(),n=function _interopRequireDefault(e){return e&&e.te?e:{default:e}}(requireException());t.default=function(e){e.registerHelper("each",(function(e,t){if(!t)throw new n.default("Must pass iterator to #each");var i,o=t.fn,a=t.inverse,s=0,u="",l=void 0,c=void 0;function execIteration(t,n,i){l&&(l.key=t,l.index=n,l.first=0===n,l.last=!!i,c&&(l.contextPath=c+t)),u+=o(e[t],{data:l,blockParams:r.blockParams([e[t],t],[c+t,null])})}if(t.data&&t.ids&&(c=r.appendContextPath(t.data.contextPath,t.ids[0])+"."),r.isFunction(e)&&(e=e.call(this)),t.data&&(l=r.createFrame(t.data)),e&&"object"==typeof e)if(r.isArray(e))for(var f=e.length;s<f;s++)s in e&&execIteration(s,s,s===e.length-1);else if("function"==typeof Symbol&&e[Symbol.iterator]){for(var h=[],p=e[Symbol.iterator](),m=p.next();!m.done;m=p.next())h.push(m.value);for(f=(e=h).length;s<f;s++)execIteration(s,s,s===e.length-1)}else i=void 0,Object.keys(e).forEach((function(e){void 0!==i&&execIteration(i,s-1),i=e,s++})),void 0!==i&&execIteration(i,s-1,!0);return 0===s&&(u=a(this)),u}))},e.exports=t.default}(each,each.exports)),each.exports}var helperMissing={exports:{}},hasRequiredHelperMissing;function requireHelperMissing(){return hasRequiredHelperMissing||(hasRequiredHelperMissing=1,function(e,t){t.te=!0;var r=function _interopRequireDefault(e){return e&&e.te?e:{default:e}}(requireException());t.default=function(e){e.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},e.exports=t.default}(helperMissing,helperMissing.exports)),helperMissing.exports}var _if={exports:{}},hasRequired_if;function require_if(){return hasRequired_if||(hasRequired_if=1,function(e,t){t.te=!0;var r=requireUtils(),n=function _interopRequireDefault(e){return e&&e.te?e:{default:e}}(requireException());t.default=function(e){e.registerHelper("if",(function(e,t){if(2!=arguments.length)throw new n.default("#if requires exactly one argument");return r.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)})),e.registerHelper("unless",(function(t,r){if(2!=arguments.length)throw new n.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:r.inverse,inverse:r.fn,hash:r.hash})}))},e.exports=t.default}(_if,_if.exports)),_if.exports}var log={exports:{}},hasRequiredLog;function requireLog(){return hasRequiredLog||(hasRequiredLog=1,e=log,(t=log.exports).te=!0,t.default=function(e){e.registerHelper("log",(function(){for(var t=[void 0],r=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)t.push(arguments[n]);var i=1;null!=r.hash.level?i=r.hash.level:r.data&&null!=r.data.level&&(i=r.data.level),t[0]=i,e.log.apply(e,t)}))},e.exports=t.default),log.exports;var e,t}var lookup={exports:{}},hasRequiredLookup;function requireLookup(){return hasRequiredLookup||(hasRequiredLookup=1,e=lookup,(t=lookup.exports).te=!0,t.default=function(e){e.registerHelper("lookup",(function(e,t,r){return e?r.lookupProperty(e,t):e}))},e.exports=t.default),lookup.exports;var e,t}var _with={exports:{}},hasRequired_with,hasRequiredHelpers$1;function require_with(){return hasRequired_with||(hasRequired_with=1,function(e,t){t.te=!0;var r=requireUtils(),n=function _interopRequireDefault(e){return e&&e.te?e:{default:e}}(requireException());t.default=function(e){e.registerHelper("with",(function(e,t){if(2!=arguments.length)throw new n.default("#with requires exactly one argument");r.isFunction(e)&&(e=e.call(this));var i=t.fn;if(r.isEmpty(e))return t.inverse(this);var o=t.data;return t.data&&t.ids&&((o=r.createFrame(t.data)).contextPath=r.appendContextPath(t.data.contextPath,t.ids[0])),i(e,{data:o,blockParams:r.blockParams([e],[o&&o.contextPath])})}))},e.exports=t.default}(_with,_with.exports)),_with.exports}function requireHelpers$1(){if(hasRequiredHelpers$1)return helpers$1;function _interopRequireDefault(e){return e&&e.te?e:{default:e}}hasRequiredHelpers$1=1,helpers$1.te=!0,helpers$1.registerDefaultHelpers=function registerDefaultHelpers(s){e.default(s),t.default(s),r.default(s),n.default(s),i.default(s),o.default(s),a.default(s)},helpers$1.moveHelperToHooks=function moveHelperToHooks(e,t,r){e.helpers[t]&&(e.hooks[t]=e.helpers[t],r||delete e.helpers[t])};var e=_interopRequireDefault(requireBlockHelperMissing()),t=_interopRequireDefault(requireEach()),r=_interopRequireDefault(requireHelperMissing()),n=_interopRequireDefault(require_if()),i=_interopRequireDefault(requireLog()),o=_interopRequireDefault(requireLookup()),a=_interopRequireDefault(require_with());return helpers$1}var decorators={},inline={exports:{}},hasRequiredInline,hasRequiredDecorators;function requireInline(){return hasRequiredInline||(hasRequiredInline=1,function(e,t){t.te=!0;var r=requireUtils();t.default=function(e){e.registerDecorator("inline",(function(e,t,n,i){var o=e;return t.partials||(t.partials={},o=function(i,o){var a=n.partials;n.partials=r.extend({},a,t.partials);var s=e(i,o);return n.partials=a,s}),t.partials[i.args[0]]=i.fn,o}))},e.exports=t.default}(inline,inline.exports)),inline.exports}function requireDecorators(){if(hasRequiredDecorators)return decorators;hasRequiredDecorators=1,decorators.te=!0,decorators.registerDefaultDecorators=function registerDefaultDecorators(t){e.default(t)};var e=function _interopRequireDefault(e){return e&&e.te?e:{default:e}}(requireInline());return decorators}var logger={exports:{}},hasRequiredLogger;function requireLogger(){return hasRequiredLogger||(hasRequiredLogger=1,function(e,t){t.te=!0;var r=requireUtils(),n={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function lookupLevel(e){if("string"==typeof e){var t=r.indexOf(n.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function log(e){if(e=n.lookupLevel(e),"undefined"!=typeof console&&n.lookupLevel(n.level)<=e){var t=n.methodMap[e];console[t]||(t="log");for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];console[t].apply(console,i)}}};t.default=n,e.exports=t.default}(logger,logger.exports)),logger.exports}var protoAccess={},createNewLookupObject={},hasRequiredCreateNewLookupObject,hasRequiredProtoAccess,hasRequiredBase$1;function requireCreateNewLookupObject(){if(hasRequiredCreateNewLookupObject)return createNewLookupObject;hasRequiredCreateNewLookupObject=1,createNewLookupObject.te=!0,createNewLookupObject.createNewLookupObject=function createNewLookupObject$1(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.extend.apply(void 0,[Object.create(null)].concat(r))};var e=requireUtils();return createNewLookupObject}function requireProtoAccess(){if(hasRequiredProtoAccess)return protoAccess;hasRequiredProtoAccess=1,protoAccess.te=!0,protoAccess.createProtoAccessControl=function createProtoAccessControl(t){var r=Object.create(null);r.constructor=!1,r.__defineGetter__=!1,r.__defineSetter__=!1,r.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:e.createNewLookupObject(n,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:e.createNewLookupObject(r,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}},protoAccess.resultIsAllowed=function resultIsAllowed(e,n,i){return function checkWhiteList(e,n){return void 0!==e.whitelist[n]?!0===e.whitelist[n]:void 0!==e.defaultValue?e.defaultValue:(function logUnexpecedPropertyAccessOnce(e){!0!==r[e]&&(r[e]=!0,t.default.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(n),!1)}("function"==typeof e?n.methods:n.properties,i)},protoAccess.resetLoggedProperties=function resetLoggedProperties(){Object.keys(r).forEach((function(e){delete r[e]}))};var e=requireCreateNewLookupObject(),t=function _interopRequireDefault(e){return e&&e.te?e:{default:e}}(requireLogger()),r=Object.create(null);return protoAccess}function requireBase$1(){if(hasRequiredBase$1)return base$1;function _interopRequireDefault(e){return e&&e.te?e:{default:e}}hasRequiredBase$1=1,base$1.te=!0,base$1.HandlebarsEnvironment=HandlebarsEnvironment;var e=requireUtils(),t=_interopRequireDefault(requireException()),r=requireHelpers$1(),n=requireDecorators(),i=_interopRequireDefault(requireLogger()),o=requireProtoAccess();base$1.VERSION="4.7.8",base$1.COMPILER_REVISION=8,base$1.LAST_COMPATIBLE_COMPILER_REVISION=7,base$1.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var a="[object Object]";function HandlebarsEnvironment(e,t,i){this.helpers=e||{},this.partials=t||{},this.decorators=i||{},r.registerDefaultHelpers(this),n.registerDefaultDecorators(this)}return HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:i.default,log:i.default.log,registerHelper:function registerHelper(r,n){if(e.toString.call(r)===a){if(n)throw new t.default("Arg not supported with multiple helpers");e.extend(this.helpers,r)}else this.helpers[r]=n},unregisterHelper:function unregisterHelper(e){delete this.helpers[e]},registerPartial:function registerPartial(r,n){if(e.toString.call(r)===a)e.extend(this.partials,r);else{if(void 0===n)throw new t.default('Attempting to register a partial called "'+r+'" as undefined');this.partials[r]=n}},unregisterPartial:function unregisterPartial(e){delete this.partials[e]},registerDecorator:function registerDecorator(r,n){if(e.toString.call(r)===a){if(n)throw new t.default("Arg not supported with multiple decorators");e.extend(this.decorators,r)}else this.decorators[r]=n},unregisterDecorator:function unregisterDecorator(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function resetLoggedPropertyAccesses(){o.resetLoggedProperties()}},base$1.log=i.default.log,base$1.createFrame=e.createFrame,base$1.logger=i.default,base$1}var safeString={exports:{}},hasRequiredSafeString;function requireSafeString(){return hasRequiredSafeString||(hasRequiredSafeString=1,function(e,t){function SafeString(e){this.string=e}t.te=!0,SafeString.prototype.toString=SafeString.prototype.toHTML=function(){return""+this.string},t.default=SafeString,e.exports=t.default}(safeString,safeString.exports)),safeString.exports}var runtime={},wrapHelper={},hasRequiredWrapHelper,hasRequiredRuntime;function requireWrapHelper(){return hasRequiredWrapHelper||(hasRequiredWrapHelper=1,wrapHelper.te=!0,wrapHelper.wrapHelper=function wrapHelper$1(e,t){return"function"!=typeof e?e:function wrapper(){return arguments[arguments.length-1]=t(arguments[arguments.length-1]),e.apply(this,arguments)}}),wrapHelper}function requireRuntime(){if(hasRequiredRuntime)return runtime;hasRequiredRuntime=1,runtime.te=!0,runtime.checkRevision=function checkRevision(e){var n=e&&e[0]||1;if(!(n>=r.LAST_COMPATIBLE_COMPILER_REVISION&&n<=r.COMPILER_REVISION)){if(n<r.LAST_COMPATIBLE_COMPILER_REVISION)throw new t.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r.REVISION_CHANGES[r.COMPILER_REVISION]+") or downgrade your runtime to an older version ("+r.REVISION_CHANGES[n]+").");throw new t.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},runtime.template=function template(a,s){if(!s)throw new t.default("No environment passed to template");if(!a||!a.main)throw new t.default("Unknown template object: "+typeof a);a.main.decorator=a.main_d,s.VM.checkRevision(a.compiler);var u=a.compiler&&7===a.compiler[0],l={strict:function strict(e,r,n){if(!e||!(r in e))throw new t.default('"'+r+'" not defined in '+e,{loc:n});return l.lookupProperty(e,r)},lookupProperty:function lookupProperty(e,t){var r=e[t];return null==r||Object.prototype.hasOwnProperty.call(e,t)||o.resultIsAllowed(r,l.protoAccessControl,t)?r:void 0},lookup:function lookup(e,t){for(var r=e.length,n=0;n<r;n++)if(null!=(e[n]&&l.lookupProperty(e[n],t)))return e[n][t]},lambda:function lambda(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:e.escapeExpression,invokePartial:function invokePartialWrapper(r,n,i){i.hash&&(n=e.extend({},n,i.hash),i.ids&&(i.ids[0]=!0)),r=s.VM.resolvePartial.call(this,r,n,i);var o=e.extend({},i,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),u=s.VM.invokePartial.call(this,r,n,o);if(null==u&&s.compile&&(i.partials[i.name]=s.compile(r,a.compilerOptions,s),u=i.partials[i.name](n,o)),null!=u){if(i.indent){for(var l=u.split("\n"),c=0,f=l.length;c<f&&(l[c]||c+1!==f);c++)l[c]=i.indent+l[c];u=l.join("\n")}return u}throw new t.default("The partial "+i.name+" could not be compiled when running in runtime-only mode")},fn:function fn(e){var t=a[e];return t.decorator=a[e+"_d"],t},programs:[],program:function program(e,t,r,n,i){var o=this.programs[e],a=this.fn(e);return t||i||n||r?o=wrapProgram(this,e,a,t,r,n,i):o||(o=this.programs[e]=wrapProgram(this,e,a)),o},data:function data(e,t){for(;e&&t--;)e=e.re;return e},mergeIfNeeded:function mergeIfNeeded(t,r){var n=t||r;return t&&r&&t!==r&&(n=e.extend({},r,t)),n},nullContext:Object.seal({}),noop:s.VM.noop,compilerInfo:a.compiler};function ret(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.data;ret.ne(t),!t.partial&&a.useData&&(n=function initData(e,t){return t&&"root"in t||((t=t?r.createFrame(t):{}).root=e),t}(e,n));var i=void 0,o=a.useBlockParams?[]:void 0;function main(e){return""+a.main(l,e,l.helpers,l.partials,n,o,i)}return a.useDepths&&(i=t.depths?e!=t.depths[0]?[e].concat(t.depths):t.depths:[e]),(main=executeDecorators(a.main,main,l,t.depths||[],n,o))(e,t)}return ret.isTop=!0,ret.ne=function(t){if(t.partial)l.protoAccessControl=t.protoAccessControl,l.helpers=t.helpers,l.partials=t.partials,l.decorators=t.decorators,l.hooks=t.hooks;else{var r=e.extend({},s.helpers,t.helpers);!function wrapHelpersToPassLookupProperty(t,r){Object.keys(t).forEach((function(n){t[n]=function passLookupPropertyOption(t,r){var n=r.lookupProperty;return i.wrapHelper(t,(function(t){return e.extend({lookupProperty:n},t)}))}(t[n],r)}))}(r,l),l.helpers=r,a.usePartial&&(l.partials=l.mergeIfNeeded(t.partials,s.partials)),(a.usePartial||a.useDecorators)&&(l.decorators=e.extend({},s.decorators,t.decorators)),l.hooks={},l.protoAccessControl=o.createProtoAccessControl(t);var c=t.allowCallsToHelperMissing||u;n.moveHelperToHooks(l,"helperMissing",c),n.moveHelperToHooks(l,"blockHelperMissing",c)}},ret.ie=function(e,r,n,i){if(a.useBlockParams&&!n)throw new t.default("must pass block params");if(a.useDepths&&!i)throw new t.default("must pass parent depths");return wrapProgram(l,e,a[e],r,0,n,i)},ret},runtime.wrapProgram=wrapProgram,runtime.resolvePartial=function resolvePartial(e,t,r){return e?e.call||r.name||(r.name=e,e=r.partials[e]):e="@partial-block"===r.name?r.data["partial-block"]:r.partials[r.name],e},runtime.invokePartial=function invokePartial(n,i,o){var a=o.data&&o.data["partial-block"];o.partial=!0,o.ids&&(o.data.contextPath=o.ids[0]||o.data.contextPath);var s=void 0;if(o.fn&&o.fn!==noop&&function(){o.data=r.createFrame(o.data);var t=o.fn;s=o.data["partial-block"]=function partialBlockWrapper(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=r.createFrame(n.data),n.data["partial-block"]=a,t(e,n)},t.partials&&(o.partials=e.extend({},o.partials,t.partials))}(),void 0===n&&s&&(n=s),void 0===n)throw new t.default("The partial "+o.name+" could not be found");if(n instanceof Function)return n(i,o)},runtime.noop=noop;var e=function _interopRequireWildcard(e){if(e&&e.te)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(requireUtils()),t=function _interopRequireDefault(e){return e&&e.te?e:{default:e}}(requireException()),r=requireBase$1(),n=requireHelpers$1(),i=requireWrapHelper(),o=requireProtoAccess();function wrapProgram(e,t,r,n,i,o,a){function prog(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return!a||t==a[0]||t===e.nullContext&&null===a[0]||(s=[t].concat(a)),r(e,t,e.helpers,e.partials,i.data||n,o&&[i.blockParams].concat(o),s)}return(prog=executeDecorators(r,prog,e,a,n,o)).program=t,prog.depth=a?a.length:0,prog.blockParams=i||0,prog}function noop(){return""}function executeDecorators(t,r,n,i,o,a){if(t.decorator){var s={};r=t.decorator(r,s,n,i&&i[0],o,a,i),e.extend(r,s)}return r}return runtime}var noConflict={exports:{}},hasRequiredNoConflict,hasRequiredHandlebars_runtime;function requireNoConflict(){return hasRequiredNoConflict||(hasRequiredNoConflict=1,e=noConflict,(t=noConflict.exports).te=!0,t.default=function(e){"object"!=typeof globalThis&&(Object.prototype.__defineGetter__("__magic__",(function(){return this})),__magic__.globalThis=__magic__,delete Object.prototype.__magic__);var t=globalThis.Handlebars;e.noConflict=function(){return globalThis.Handlebars===e&&(globalThis.Handlebars=t),e}},e.exports=t.default),noConflict.exports;var e,t}function requireHandlebars_runtime(){return hasRequiredHandlebars_runtime||(hasRequiredHandlebars_runtime=1,function(e,t){function _interopRequireDefault(e){return e&&e.te?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.te)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}t.te=!0;var r=_interopRequireWildcard(requireBase$1()),n=_interopRequireDefault(requireSafeString()),i=_interopRequireDefault(requireException()),o=_interopRequireWildcard(requireUtils()),a=_interopRequireWildcard(requireRuntime()),s=_interopRequireDefault(requireNoConflict());function create(){var e=new r.HandlebarsEnvironment;return o.extend(e,r),e.SafeString=n.default,e.Exception=i.default,e.Utils=o,e.escapeExpression=o.escapeExpression,e.VM=a,e.template=function(t){return a.template(t,e)},e}var u=create();u.create=create,s.default(u),u.default=u,t.default=u,e.exports=t.default}(handlebars_runtime,handlebars_runtime.exports)),handlebars_runtime.exports}var ast={exports:{}},hasRequiredAst;function requireAst(){return hasRequiredAst||(hasRequiredAst=1,function(e,t){t.te=!0;var r={helpers:{helperExpression:function helperExpression(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function scopedId(e){return/^\.|this\b/.test(e.original)},simpleId:function simpleId(e){return 1===e.parts.length&&!r.helpers.scopedId(e)&&!e.depth}}};t.default=r,e.exports=t.default}(ast,ast.exports)),ast.exports}var base={},parser={exports:{}},hasRequiredParser;function requireParser(){return hasRequiredParser||(hasRequiredParser=1,function(e,t){t.te=!0;var r=function(){var e={trace:function trace(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function anonymous(e,t,r,n,i,o,a){var s=o.length-1;switch(i){case 1:return o[s-1];case 2:this.$=n.prepareProgram(o[s]);break;case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 27:case 28:case 33:case 34:case 40:case 41:this.$=o[s];break;case 9:this.$={type:"CommentStatement",value:n.stripComment(o[s]),strip:n.stripFlags(o[s],o[s]),loc:n.locInfo(this.oe)};break;case 10:this.$={type:"ContentStatement",original:o[s],value:o[s],loc:n.locInfo(this.oe)};break;case 11:this.$=n.prepareRawBlock(o[s-2],o[s-1],o[s],this.oe);break;case 12:this.$={path:o[s-3],params:o[s-2],hash:o[s-1]};break;case 13:this.$=n.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!1,this.oe);break;case 14:this.$=n.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!0,this.oe);break;case 15:this.$={open:o[s-5],path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:n.stripFlags(o[s-5],o[s])};break;case 16:case 17:this.$={path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:n.stripFlags(o[s-5],o[s])};break;case 18:this.$={strip:n.stripFlags(o[s-1],o[s-1]),program:o[s]};break;case 19:var u=n.prepareBlock(o[s-2],o[s-1],o[s],o[s],!1,this.oe),l=n.prepareProgram([u],o[s-1].loc);l.chained=!0,this.$={strip:o[s-2].strip,program:l,chain:!0};break;case 21:this.$={path:o[s-1],strip:n.stripFlags(o[s-2],o[s])};break;case 22:case 23:this.$=n.prepareMustache(o[s-3],o[s-2],o[s-1],o[s-4],n.stripFlags(o[s-4],o[s]),this.oe);break;case 24:this.$={type:"PartialStatement",name:o[s-3],params:o[s-2],hash:o[s-1],indent:"",strip:n.stripFlags(o[s-4],o[s]),loc:n.locInfo(this.oe)};break;case 25:this.$=n.preparePartialBlock(o[s-2],o[s-1],o[s],this.oe);break;case 26:this.$={path:o[s-3],params:o[s-2],hash:o[s-1],strip:n.stripFlags(o[s-4],o[s])};break;case 29:this.$={type:"SubExpression",path:o[s-3],params:o[s-2],hash:o[s-1],loc:n.locInfo(this.oe)};break;case 30:this.$={type:"Hash",pairs:o[s],loc:n.locInfo(this.oe)};break;case 31:this.$={type:"HashPair",key:n.id(o[s-2]),value:o[s],loc:n.locInfo(this.oe)};break;case 32:this.$=n.id(o[s-1]);break;case 35:this.$={type:"StringLiteral",value:o[s],original:o[s],loc:n.locInfo(this.oe)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[s]),original:Number(o[s]),loc:n.locInfo(this.oe)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[s],original:"true"===o[s],loc:n.locInfo(this.oe)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:n.locInfo(this.oe)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:n.locInfo(this.oe)};break;case 42:this.$=n.preparePath(!0,o[s],this.oe);break;case 43:this.$=n.preparePath(!1,o[s],this.oe);break;case 44:o[s-2].push({part:n.id(o[s]),original:o[s],separator:o[s-1]}),this.$=o[s-2];break;case 45:this.$=[{part:n.id(o[s]),original:o[s]}];break;case 46:case 48:case 50:case 58:case 64:case 70:case 78:case 82:case 86:case 90:case 94:this.$=[];break;case 47:case 49:case 51:case 59:case 65:case 71:case 79:case 83:case 87:case 91:case 95:case 99:case 101:o[s-1].push(o[s]);break;case 98:case 100:this.$=[o[s]]}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function parseError(e,t){throw new Error(e)},parse:function parse(e){var t=[0],r=[null],n=[],i=this.table,o="",a=0,s=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;n.push(u);var l=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var c,f,h,p,m,d,g,b,v={};;){if(this.defaultActions[f=t[t.length-1]]?h=this.defaultActions[f]:(null==c&&(b=void 0,"number"!=typeof(b=this.lexer.lex()||1)&&(b=this.symbols_[b]||b),c=b),h=i[f]&&i[f][c]),void 0===h||!h.length||!h[0]){var E;for(m in g=[],i[f])this.terminals_[m]&&m>2&&g.push("'"+this.terminals_[m]+"'");E=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+g.join(", ")+", got '"+(this.terminals_[c]||c)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==c?"end of input":"'"+(this.terminals_[c]||c)+"'"),this.parseError(E,{text:this.lexer.match,token:this.terminals_[c]||c,line:this.lexer.yylineno,loc:u,expected:g})}if(h[0]instanceof Array&&h.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+c);switch(h[0]){case 1:t.push(c),r.push(this.lexer.yytext),n.push(this.lexer.yylloc),t.push(h[1]),c=null,s=this.lexer.yyleng,o=this.lexer.yytext,a=this.lexer.yylineno,u=this.lexer.yylloc;break;case 2:if(v.$=r[r.length-(d=this.productions_[h[1]][1])],v.oe={first_line:n[n.length-(d||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(d||1)].first_column,last_column:n[n.length-1].last_column},l&&(v.oe.range=[n[n.length-(d||1)].range[0],n[n.length-1].range[1]]),void 0!==(p=this.performAction.call(v,o,s,a,this.yy,h[1],r,n)))return p;d&&(t=t.slice(0,-1*d*2),r=r.slice(0,-1*d),n=n.slice(0,-1*d)),t.push(this.productions_[h[1]][0]),r.push(v.$),n.push(v.oe),t.push(i[t[t.length-2]][t[t.length-1]]);break;case 3:return!0}}return!0}};function Parser(){this.yy={}}return e.lexer={EOF:1,parseError:function parseError(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function setInput(e){return this.ae=e,this.se=this.ue=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function input(){var e=this.ae[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this.ae=this.ae.slice(1),e},unput:function unput(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this.ae=e+this.ae,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this},more:function more(){return this.se=!0,this},less:function less(e){this.unput(this.match.slice(e))},pastInput:function pastInput(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function upcomingInput(){var e=this.match;return e.length<20&&(e+=this.ae.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function showPosition(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function next(){if(this.done)return this.EOF;var e,t,r,n,i;this.ae||(this.done=!0),this.se||(this.yytext="",this.match="");for(var o=this.le(),a=0;a<o.length&&(!(r=this.ae.match(this.rules[o[a]]))||t&&!(r[0].length>t[0].length)||(t=r,n=a,this.options.flex));a++);return t?((i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this.se=!1,this.ae=this.ae.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this.ae&&(this.done=!1),e||void 0):""===this.ae?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var e=this.next();return void 0!==e?e:this.lex()},begin:function begin(e){this.conditionStack.push(e)},popState:function popState(){return this.conditionStack.pop()},le:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function topState(){return this.conditionStack[this.conditionStack.length-2]},pushState:function begin(e){this.begin(e)},options:{},performAction:function anonymous(e,t,r,n){function strip(e,r){return t.yytext=t.yytext.substring(e,t.yyleng-r+e)}switch(r){case 0:if("\\\\"===t.yytext.slice(-2)?(strip(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(strip(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:case 5:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(strip(5,9),"END_RAW_BLOCK");case 6:case 22:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:case 23:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 24:return 73;case 25:case 26:case 41:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=strip(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=strip(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}},Parser.prototype=e,e.Parser=Parser,new Parser}();t.default=r,e.exports=t.default}(parser,parser.exports)),parser.exports}var whitespaceControl={exports:{}},visitor={exports:{}},hasRequiredVisitor,hasRequiredWhitespaceControl;function requireVisitor(){return hasRequiredVisitor||(hasRequiredVisitor=1,function(e,t){t.te=!0;var r=function _interopRequireDefault(e){return e&&e.te?e:{default:e}}(requireException());function Visitor(){this.parents=[]}function visitSubExpression(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function visitBlock(e){visitSubExpression.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function visitPartial(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}Visitor.prototype={constructor:Visitor,mutating:!1,acceptKey:function acceptKey(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!Visitor.prototype[n.type])throw new r.default('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type);e[t]=n}},acceptRequired:function acceptRequired(e,t){if(this.acceptKey(e,t),!e[t])throw new r.default(e.type+" requires "+t)},acceptArray:function acceptArray(e){for(var t=0,r=e.length;t<r;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,r--)},accept:function accept(e){if(e){if(!this[e.type])throw new r.default("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1!==t?e:void 0}},Program:function Program(e){this.acceptArray(e.body)},MustacheStatement:visitSubExpression,Decorator:visitSubExpression,BlockStatement:visitBlock,DecoratorBlock:visitBlock,PartialStatement:visitPartial,PartialBlockStatement:function PartialBlockStatement(e){visitPartial.call(this,e),this.acceptKey(e,"program")},ContentStatement:function ContentStatement(){},CommentStatement:function CommentStatement(){},SubExpression:visitSubExpression,PathExpression:function PathExpression(){},StringLiteral:function StringLiteral(){},NumberLiteral:function NumberLiteral(){},BooleanLiteral:function BooleanLiteral(){},UndefinedLiteral:function UndefinedLiteral(){},NullLiteral:function NullLiteral(){},Hash:function Hash(e){this.acceptArray(e.pairs)},HashPair:function HashPair(e){this.acceptRequired(e,"value")}},t.default=Visitor,e.exports=t.default}(visitor,visitor.exports)),visitor.exports}function requireWhitespaceControl(){return hasRequiredWhitespaceControl||(hasRequiredWhitespaceControl=1,function(e,t){t.te=!0;var r=function _interopRequireDefault(e){return e&&e.te?e:{default:e}}(requireVisitor());function WhitespaceControl(){this.options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0]}function isPrevWhitespace(e,t,r){void 0===t&&(t=e.length);var n=e[t-1];return n?"ContentStatement"===n.type?(e[t-2]||!r?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(n.original):void 0:r}function isNextWhitespace(e,t,r){void 0===t&&(t=-1);var n=e[t+1];return n?"ContentStatement"===n.type?(e[t+2]||!r?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(n.original):void 0:r}function omitRight(e,t,r){var n=e[null==t?0:t+1];if(n&&"ContentStatement"===n.type&&(r||!n.rightStripped)){var i=n.value;n.value=n.value.replace(r?/^\s+/:/^[ \t]*\r?\n?/,""),n.rightStripped=n.value!==i}}function omitLeft(e,t,r){var n=e[null==t?e.length-1:t-1];if(n&&"ContentStatement"===n.type&&(r||!n.leftStripped)){var i=n.value;return n.value=n.value.replace(r?/\s+$/:/[ \t]+$/,""),n.leftStripped=n.value!==i,n.leftStripped}}(WhitespaceControl.prototype=new r.default).Program=function(e){var t=!this.options.ignoreStandalone,r=!this.isRootSeen;this.isRootSeen=!0;for(var n=e.body,i=0,o=n.length;i<o;i++){var a=n[i],s=this.accept(a);if(s){var u=isPrevWhitespace(n,i,r),l=isNextWhitespace(n,i,r),c=s.openStandalone&&u,f=s.closeStandalone&&l,h=s.inlineStandalone&&u&&l;s.close&&omitRight(n,i,!0),s.open&&omitLeft(n,i,!0),t&&h&&(omitRight(n,i),omitLeft(n,i)&&"PartialStatement"===a.type&&(a.indent=/([ \t]+$)/.exec(n[i-1].original)[1])),t&&c&&(omitRight((a.program||a.inverse).body),omitLeft(n,i)),t&&f&&(omitRight(n,i),omitLeft((a.inverse||a.program).body))}}return e},WhitespaceControl.prototype.BlockStatement=WhitespaceControl.prototype.DecoratorBlock=WhitespaceControl.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,r=e.program&&e.inverse,n=r,i=r;if(r&&r.chained)for(n=r.body[0].program;i.chained;)i=i.body[i.body.length-1].program;var o={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:isNextWhitespace(t.body),closeStandalone:isPrevWhitespace((n||t).body)};if(e.openStrip.close&&omitRight(t.body,null,!0),r){var a=e.inverseStrip;a.open&&omitLeft(t.body,null,!0),a.close&&omitRight(n.body,null,!0),e.closeStrip.open&&omitLeft(i.body,null,!0),!this.options.ignoreStandalone&&isPrevWhitespace(t.body)&&isNextWhitespace(n.body)&&(omitLeft(t.body),omitRight(n.body))}else e.closeStrip.open&&omitLeft(t.body,null,!0);return o},WhitespaceControl.prototype.Decorator=WhitespaceControl.prototype.MustacheStatement=function(e){return e.strip},WhitespaceControl.prototype.PartialStatement=WhitespaceControl.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t.default=WhitespaceControl,e.exports=t.default}(whitespaceControl,whitespaceControl.exports)),whitespaceControl.exports}var helpers={},hasRequiredHelpers,hasRequiredBase;function requireHelpers(){if(hasRequiredHelpers)return helpers;hasRequiredHelpers=1,helpers.te=!0,helpers.SourceLocation=function SourceLocation(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}},helpers.id=function id(e){return/^\[.*\]$/.test(e)?e.substring(1,e.length-1):e},helpers.stripFlags=function stripFlags(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}},helpers.stripComment=function stripComment(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},helpers.preparePath=function preparePath(t,r,n){n=this.locInfo(n);for(var i=t?"@":"",o=[],a=0,s=0,u=r.length;s<u;s++){var l=r[s].part;if(i+=(r[s].separator||"")+l,r[s].original!==l||".."!==l&&"."!==l&&"this"!==l)o.push(l);else{if(o.length>0)throw new e.default("Invalid path: "+i,{loc:n});".."===l&&a++}}return{type:"PathExpression",data:t,depth:a,parts:o,original:i,loc:n}},helpers.prepareMustache=function prepareMustache(e,t,r,n,i,o){var a=n.charAt(3)||n.charAt(2),s="{"!==a&&"&"!==a;return{type:/\*/.test(n)?"Decorator":"MustacheStatement",path:e,params:t,hash:r,escaped:s,strip:i,loc:this.locInfo(o)}},helpers.prepareRawBlock=function prepareRawBlock(e,t,r,n){return validateClose(e,r),n=this.locInfo(n),{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:{type:"Program",body:t,strip:{},loc:n},openStrip:{},inverseStrip:{},closeStrip:{},loc:n}},helpers.prepareBlock=function prepareBlock(t,r,n,i,o,a){i&&i.path&&validateClose(t,i);var s=/\*/.test(t.open);r.blockParams=t.blockParams;var u=void 0,l=void 0;if(n){if(s)throw new e.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=i.strip),l=n.strip,u=n.program}return o&&(o=u,u=r,r=o),{type:s?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:r,inverse:u,openStrip:t.strip,inverseStrip:l,closeStrip:i&&i.strip,loc:this.locInfo(a)}},helpers.prepareProgram=function prepareProgram(e,t){if(!t&&e.length){var r=e[0].loc,n=e[e.length-1].loc;r&&n&&(t={source:r.source,start:{line:r.start.line,column:r.start.column},end:{line:n.end.line,column:n.end.column}})}return{type:"Program",body:e,strip:{},loc:t}},helpers.preparePartialBlock=function preparePartialBlock(e,t,r,n){return validateClose(e,r),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:r&&r.strip,loc:this.locInfo(n)}};var e=function _interopRequireDefault(e){return e&&e.te?e:{default:e}}(requireException());function validateClose(t,r){if(t.path.original!==(r=r.path?r.path.original:r))throw new e.default(t.path.original+" doesn't match "+r,{loc:t.path.loc})}return helpers}function requireBase(){if(hasRequiredBase)return base;function _interopRequireDefault(e){return e&&e.te?e:{default:e}}hasRequiredBase=1,base.te=!0,base.parseWithoutProcessing=parseWithoutProcessing,base.parse=function parse(e,r){var n=parseWithoutProcessing(e,r);return new t.default(r).accept(n)};var e=_interopRequireDefault(requireParser()),t=_interopRequireDefault(requireWhitespaceControl()),r=function _interopRequireWildcard(e){if(e&&e.te)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(requireHelpers()),n=requireUtils();base.parser=e.default;var i={};function parseWithoutProcessing(t,r){return"Program"===t.type?t:(e.default.yy=i,i.locInfo=function(e){return new i.SourceLocation(r&&r.srcName,e)},e.default.parse(t))}return n.extend(i,r),base}var compiler={},hasRequiredCompiler;function requireCompiler(){if(hasRequiredCompiler)return compiler;function _interopRequireDefault(e){return e&&e.te?e:{default:e}}hasRequiredCompiler=1,compiler.te=!0,compiler.Compiler=Compiler,compiler.precompile=function precompile(t,r,n){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new e.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);"data"in(r=r||{})||(r.data=!0),r.compat&&(r.useDepths=!0);var i=n.parse(t,r),o=(new n.Compiler).compile(i,r);return(new n.JavaScriptCompiler).compile(o,r)},compiler.compile=function compile(r,n,i){if(void 0===n&&(n={}),null==r||"string"!=typeof r&&"Program"!==r.type)throw new e.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+r);"data"in(n=t.extend({},n))||(n.data=!0),n.compat&&(n.useDepths=!0);var o=void 0;function compileInput(){var e=i.parse(r,n),t=(new i.Compiler).compile(e,n),o=(new i.JavaScriptCompiler).compile(t,n,void 0,!0);return i.template(o)}function ret(e,t){return o||(o=compileInput()),o.call(this,e,t)}return ret.ne=function(e){return o||(o=compileInput()),o.ne(e)},ret.ie=function(e,t,r,n){return o||(o=compileInput()),o.ie(e,t,r,n)},ret};var e=_interopRequireDefault(requireException()),t=requireUtils(),r=_interopRequireDefault(requireAst()),n=[].slice;function Compiler(){}function argEquals(e,r){if(e===r)return!0;if(t.isArray(e)&&t.isArray(r)&&e.length===r.length){for(var n=0;n<e.length;n++)if(!argEquals(e[n],r[n]))return!1;return!0}}function transformLiteralToPath(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}return Compiler.prototype={compiler:Compiler,equals:function equals(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var r=0;r<t;r++){var n=this.opcodes[r],i=e.opcodes[r];if(n.opcode!==i.opcode||!argEquals(n.args,i.args))return!1}for(t=this.children.length,r=0;r<t;r++)if(!this.children[r].equals(e.children[r]))return!1;return!0},guid:0,compile:function compile(e,r){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=r,this.stringParams=r.stringParams,this.trackIds=r.trackIds,r.blockParams=r.blockParams||[],r.knownHelpers=t.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},r.knownHelpers),this.accept(e)},compileProgram:function compileProgram(e){var t=(new this.compiler).compile(e,this.options),r=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[r]=t,this.useDepths=this.useDepths||t.useDepths,r},accept:function accept(t){if(!this[t.type])throw new e.default("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var r=this[t.type](t);return this.sourceNode.shift(),r},Program:function Program(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,r=t.length,n=0;n<r;n++)this.accept(t[n]);return this.options.blockParams.shift(),this.isSimple=1===r,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function BlockStatement(e){transformLiteralToPath(e);var t=e.program,r=e.inverse;t=t&&this.compileProgram(t),r=r&&this.compileProgram(r);var n=this.classifySexpr(e);"helper"===n?this.helperSexpr(e,t,r):"simple"===n?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,r),this.opcode("pushProgram",t),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function DecoratorBlock(e){var t=e.program&&this.compileProgram(e.program),r=this.setupFullMustacheParams(e,t,void 0),n=e.path;this.useDecorators=!0,this.opcode("registerDecorator",r.length,n.original)},PartialStatement:function PartialStatement(t){this.usePartial=!0;var r=t.program;r&&(r=this.compileProgram(t.program));var n=t.params;if(n.length>1)throw new e.default("Unsupported number of partial arguments: "+n.length,t);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=t.name.original,o="SubExpression"===t.name.type;o&&this.accept(t.name),this.setupFullMustacheParams(t,r,void 0,!0);var a=t.indent||"";this.options.preventIndent&&a&&(this.opcode("appendContent",a),a=""),this.opcode("invokePartial",o,i,a),this.opcode("append")},PartialBlockStatement:function PartialBlockStatement(e){this.PartialStatement(e)},MustacheStatement:function MustacheStatement(e){this.SubExpression(e),this.opcode(e.escaped&&!this.options.noEscape?"appendEscaped":"append")},Decorator:function Decorator(e){this.DecoratorBlock(e)},ContentStatement:function ContentStatement(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function CommentStatement(){},SubExpression:function SubExpression(e){transformLiteralToPath(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function ambiguousSexpr(e,t,r){var n=e.path,i=n.parts[0],o=null!=t||null!=r;this.opcode("getContext",n.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",r),n.strict=!0,this.accept(n),this.opcode("invokeAmbiguous",i,o)},simpleSexpr:function simpleSexpr(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function helperSexpr(t,n,i){var o=this.setupFullMustacheParams(t,n,i),a=t.path,s=a.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",o.length,s);else{if(this.options.knownHelpersOnly)throw new e.default("You specified knownHelpersOnly, but used the unknown helper "+s,t);a.strict=!0,a.falsy=!0,this.accept(a),this.opcode("invokeHelper",o.length,a.original,r.default.helpers.simpleId(a))}},PathExpression:function PathExpression(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=r.default.helpers.scopedId(e),i=!e.depth&&!n&&this.blockParamIndex(t);i?this.opcode("lookupBlockParam",i,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function StringLiteral(e){this.opcode("pushString",e.value)},NumberLiteral:function NumberLiteral(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function BooleanLiteral(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function UndefinedLiteral(){this.opcode("pushLiteral","undefined")},NullLiteral:function NullLiteral(){this.opcode("pushLiteral","null")},Hash:function Hash(e){var t=e.pairs,r=0,n=t.length;for(this.opcode("pushHash");r<n;r++)this.pushParam(t[r].value);for(;r--;)this.opcode("assignToHash",t[r].key);this.opcode("popHash")},opcode:function opcode(e){this.opcodes.push({opcode:e,args:n.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function addDepth(e){e&&(this.useDepths=!0)},classifySexpr:function classifySexpr(e){var t=r.default.helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),i=!n&&r.default.helpers.helperExpression(e),o=!n&&(i||t);if(o&&!i){var a=this.options;a.knownHelpers[e.path.parts[0]]?i=!0:a.knownHelpersOnly&&(o=!1)}return i?"helper":o?"ambiguous":"simple"},pushParams:function pushParams(e){for(var t=0,r=e.length;t<r;t++)this.pushParam(e[t])},pushParam:function pushParam(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var n=void 0;if(!e.parts||r.default.helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){var i=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else(t=e.original||t).replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function setupFullMustacheParams(e,t,r,n){var i=e.params;return this.pushParams(i),this.opcode("pushProgram",t),this.opcode("pushProgram",r),e.hash?this.accept(e.hash):this.opcode("emptyHash",n),i},blockParamIndex:function blockParamIndex(e){for(var r=0,n=this.options.blockParams.length;r<n;r++){var i=this.options.blockParams[r],o=i&&t.indexOf(i,e);if(i&&o>=0)return[r,o]}}},compiler}var javascriptCompiler={exports:{}},codeGen={exports:{}},sourceMap={},sourceMapGenerator={},base64Vlq={},base64={},hasRequiredBase64,hasRequiredBase64Vlq;function requireBase64(){if(hasRequiredBase64)return base64;hasRequiredBase64=1;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return base64.encode=function(t){if(0<=t&&t<e.length)return e[t];throw new TypeError("Must be between 0 and 63: "+t)},base64.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1},base64}function requireBase64Vlq(){if(hasRequiredBase64Vlq)return base64Vlq;hasRequiredBase64Vlq=1;var e=requireBase64();return base64Vlq.encode=function base64VLQ_encode(t){var r,n="",i=function toVLQSigned(e){return e<0?1+(-e<<1):0+(e<<1)}(t);do{r=31&i,(i>>>=5)>0&&(r|=32),n+=e.encode(r)}while(i>0);return n},base64Vlq.decode=function base64VLQ_decode(t,r,n){var i,o,a=t.length,s=0,u=0;do{if(r>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=e.decode(t.charCodeAt(r++))))throw new Error("Invalid base64 digit: "+t.charAt(r-1));i=!!(32&o),s+=(o&=31)<<u,u+=5}while(i);n.value=function fromVLQSigned(e){var t=e>>1;return 1&~e?t:-t}(s),n.rest=r},base64Vlq}var util={},hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,function(e){e.getArg=function getArg(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')};var t=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function urlParse(e){var r=e.match(t);return r?{scheme:r[1],auth:r[2],host:r[3],port:r[4],path:r[5]}:null}function urlGenerate(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function normalize(t){var r=t,n=urlParse(t);if(n){if(!n.path)return t;r=n.path}for(var i,o=e.isAbsolute(r),a=r.split(/\/+/),s=0,u=a.length-1;u>=0;u--)"."===(i=a[u])?a.splice(u,1):".."===i?s++:s>0&&(""===i?(a.splice(u+1,s),s=0):(a.splice(u,2),s--));return""===(r=a.join("/"))&&(r=o?"/":"."),n?(n.path=r,urlGenerate(n)):r}function join(e,t){""===e&&(e="."),""===t&&(t=".");var n=urlParse(t),i=urlParse(e);if(i&&(e=i.path||"/"),n&&!n.scheme)return i&&(n.scheme=i.scheme),urlGenerate(n);if(n||t.match(r))return t;if(i&&!i.host&&!i.path)return i.host=t,urlGenerate(i);var o="/"===t.charAt(0)?t:normalize(e.replace(/\/+$/,"")+"/"+t);return i?(i.path=o,urlGenerate(i)):o}e.urlParse=urlParse,e.urlGenerate=urlGenerate,e.normalize=normalize,e.join=join,e.isAbsolute=function(e){return"/"===e.charAt(0)||t.test(e)},e.relative=function relative(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var r=0;0!==t.indexOf(e+"/");){var n=e.lastIndexOf("/");if(n<0)return t;if((e=e.slice(0,n)).match(/^([^\/]+:\/)?\/*$/))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)};var n=!("__proto__"in Object.create(null));function identity(e){return e}function isProtoString(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var r=t-10;r>=0;r--)if(36!==e.charCodeAt(r))return!1;return!0}function strcmp(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}e.toSetString=n?identity:function toSetString(e){return isProtoString(e)?"$"+e:e},e.fromSetString=n?identity:function fromSetString(e){return isProtoString(e)?e.slice(1):e},e.compareByOriginalPositions=function compareByOriginalPositions(e,t,r){var n=strcmp(e.source,t.source);return 0!==n||0!=(n=e.originalLine-t.originalLine)||0!=(n=e.originalColumn-t.originalColumn)||r||0!=(n=e.generatedColumn-t.generatedColumn)||0!=(n=e.generatedLine-t.generatedLine)?n:strcmp(e.name,t.name)},e.compareByGeneratedPositionsDeflated=function compareByGeneratedPositionsDeflated(e,t,r){var n=e.generatedLine-t.generatedLine;return 0!==n||0!=(n=e.generatedColumn-t.generatedColumn)||r||0!==(n=strcmp(e.source,t.source))||0!=(n=e.originalLine-t.originalLine)||0!=(n=e.originalColumn-t.originalColumn)?n:strcmp(e.name,t.name)},e.compareByGeneratedPositionsInflated=function compareByGeneratedPositionsInflated(e,t){var r=e.generatedLine-t.generatedLine;return 0!==r||0!=(r=e.generatedColumn-t.generatedColumn)||0!==(r=strcmp(e.source,t.source))||0!=(r=e.originalLine-t.originalLine)||0!=(r=e.originalColumn-t.originalColumn)?r:strcmp(e.name,t.name)},e.parseSourceMapInput=function parseSourceMapInput(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},e.computeSourceURL=function computeSourceURL(e,t,r){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),r){var n=urlParse(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}t=join(urlGenerate(n),t)}return normalize(t)}}(util)),util}var arraySet={},hasRequiredArraySet;function requireArraySet(){if(hasRequiredArraySet)return arraySet;hasRequiredArraySet=1;var e=requireUtil(),t=Object.prototype.hasOwnProperty,r="undefined"!=typeof Map;function ArraySet(){this.ce=[],this.fe=r?new Map:Object.create(null)}return ArraySet.fromArray=function ArraySet_fromArray(e,t){for(var r=new ArraySet,n=0,i=e.length;n<i;n++)r.add(e[n],t);return r},ArraySet.prototype.size=function ArraySet_size(){return r?this.fe.size:Object.getOwnPropertyNames(this.fe).length},ArraySet.prototype.add=function ArraySet_add(n,i){var o=r?n:e.toSetString(n),a=r?this.has(n):t.call(this.fe,o),s=this.ce.length;a&&!i||this.ce.push(n),a||(r?this.fe.set(n,s):this.fe[o]=s)},ArraySet.prototype.has=function ArraySet_has(n){if(r)return this.fe.has(n);var i=e.toSetString(n);return t.call(this.fe,i)},ArraySet.prototype.indexOf=function ArraySet_indexOf(n){if(r){var i=this.fe.get(n);if(i>=0)return i}else{var o=e.toSetString(n);if(t.call(this.fe,o))return this.fe[o]}throw new Error('"'+n+'" is not in the set.')},ArraySet.prototype.at=function ArraySet_at(e){if(e>=0&&e<this.ce.length)return this.ce[e];throw new Error("No element indexed by "+e)},ArraySet.prototype.toArray=function ArraySet_toArray(){return this.ce.slice()},arraySet.ArraySet=ArraySet,arraySet}var mappingList={},hasRequiredMappingList,hasRequiredSourceMapGenerator;function requireMappingList(){if(hasRequiredMappingList)return mappingList;hasRequiredMappingList=1;var e=requireUtil();function MappingList(){this.ce=[],this.he=!0,this.pe={generatedLine:-1,generatedColumn:0}}return MappingList.prototype.unsortedForEach=function MappingList_forEach(e,t){this.ce.forEach(e,t)},MappingList.prototype.add=function MappingList_add(t){!function generatedPositionAfter(t,r){var n=t.generatedLine,i=r.generatedLine;return i>n||i==n&&r.generatedColumn>=t.generatedColumn||e.compareByGeneratedPositionsInflated(t,r)<=0}(this.pe,t)?(this.he=!1,this.ce.push(t)):(this.pe=t,this.ce.push(t))},MappingList.prototype.toArray=function MappingList_toArray(){return this.he||(this.ce.sort(e.compareByGeneratedPositionsInflated),this.he=!0),this.ce},mappingList.MappingList=MappingList,mappingList}function requireSourceMapGenerator(){if(hasRequiredSourceMapGenerator)return sourceMapGenerator;hasRequiredSourceMapGenerator=1;var e=requireBase64Vlq(),t=requireUtil(),r=requireArraySet().ArraySet,n=requireMappingList().MappingList;function SourceMapGenerator(e){e||(e={}),this.me=t.getArg(e,"file",null),this.de=t.getArg(e,"sourceRoot",null),this.ge=t.getArg(e,"skipValidation",!1),this.be=new r,this.ve=new r,this.Ee=new n,this.Se=null}return SourceMapGenerator.prototype.ye=3,SourceMapGenerator.fromSourceMap=function SourceMapGenerator_fromSourceMap(e){var r=e.sourceRoot,n=new SourceMapGenerator({file:e.file,sourceRoot:r});return e.eachMapping((function(e){var i={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(i.source=e.source,null!=r&&(i.source=t.relative(r,i.source)),i.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(i.name=e.name)),n.addMapping(i)})),e.sources.forEach((function(i){var o=i;null!==r&&(o=t.relative(r,i)),n.be.has(o)||n.be.add(o);var a=e.sourceContentFor(i);null!=a&&n.setSourceContent(i,a)})),n},SourceMapGenerator.prototype.addMapping=function SourceMapGenerator_addMapping(e){var r=t.getArg(e,"generated"),n=t.getArg(e,"original",null),i=t.getArg(e,"source",null),o=t.getArg(e,"name",null);this.ge||this.we(r,n,i,o),null!=i&&(i=String(i),this.be.has(i)||this.be.add(i)),null!=o&&(o=String(o),this.ve.has(o)||this.ve.add(o)),this.Ee.add({generatedLine:r.line,generatedColumn:r.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:i,name:o})},SourceMapGenerator.prototype.setSourceContent=function SourceMapGenerator_setSourceContent(e,r){var n=e;null!=this.de&&(n=t.relative(this.de,n)),null!=r?(this.Se||(this.Se=Object.create(null)),this.Se[t.toSetString(n)]=r):this.Se&&(delete this.Se[t.toSetString(n)],0===Object.keys(this.Se).length&&(this.Se=null))},SourceMapGenerator.prototype.applySourceMap=function SourceMapGenerator_applySourceMap(e,n,i){var o=n;if(null==n){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');o=e.file}var a=this.de;null!=a&&(o=t.relative(a,o));var s=new r,u=new r;this.Ee.unsortedForEach((function(r){if(r.source===o&&null!=r.originalLine){var n=e.originalPositionFor({line:r.originalLine,column:r.originalColumn});null!=n.source&&(r.source=n.source,null!=i&&(r.source=t.join(i,r.source)),null!=a&&(r.source=t.relative(a,r.source)),r.originalLine=n.line,r.originalColumn=n.column,null!=n.name&&(r.name=n.name))}var l=r.source;null==l||s.has(l)||s.add(l);var c=r.name;null==c||u.has(c)||u.add(c)}),this),this.be=s,this.ve=u,e.sources.forEach((function(r){var n=e.sourceContentFor(r);null!=n&&(null!=i&&(r=t.join(i,r)),null!=a&&(r=t.relative(a,r)),this.setSourceContent(r,n))}),this)},SourceMapGenerator.prototype.we=function SourceMapGenerator_validateMapping(e,t,r,n){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||r||n)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:n}))},SourceMapGenerator.prototype.xe=function SourceMapGenerator_serializeMappings(){for(var r,n,i,o,a=0,s=1,u=0,l=0,c=0,f=0,h="",p=this.Ee.toArray(),m=0,d=p.length;m<d;m++){if(r="",(n=p[m]).generatedLine!==s)for(a=0;n.generatedLine!==s;)r+=";",s++;else if(m>0){if(!t.compareByGeneratedPositionsInflated(n,p[m-1]))continue;r+=","}r+=e.encode(n.generatedColumn-a),a=n.generatedColumn,null!=n.source&&(o=this.be.indexOf(n.source),r+=e.encode(o-f),f=o,r+=e.encode(n.originalLine-1-l),l=n.originalLine-1,r+=e.encode(n.originalColumn-u),u=n.originalColumn,null!=n.name&&(i=this.ve.indexOf(n.name),r+=e.encode(i-c),c=i)),h+=r}return h},SourceMapGenerator.prototype.Ce=function SourceMapGenerator_generateSourcesContent(e,r){return e.map((function(e){if(!this.Se)return null;null!=r&&(e=t.relative(r,e));var n=t.toSetString(e);return Object.prototype.hasOwnProperty.call(this.Se,n)?this.Se[n]:null}),this)},SourceMapGenerator.prototype.toJSON=function SourceMapGenerator_toJSON(){var e={version:this.ye,sources:this.be.toArray(),names:this.ve.toArray(),mappings:this.xe()};return null!=this.me&&(e.file=this.me),null!=this.de&&(e.sourceRoot=this.de),this.Se&&(e.sourcesContent=this.Ce(e.sources,e.sourceRoot)),e},SourceMapGenerator.prototype.toString=function SourceMapGenerator_toString(){return JSON.stringify(this.toJSON())},sourceMapGenerator.SourceMapGenerator=SourceMapGenerator,sourceMapGenerator}var sourceMapConsumer={},binarySearch={},hasRequiredBinarySearch;function requireBinarySearch(){return hasRequiredBinarySearch||(hasRequiredBinarySearch=1,function(e){function recursiveSearch(t,r,n,i,o,a){var s=Math.floor((r-t)/2)+t,u=o(n,i[s],!0);return 0===u?s:u>0?r-s>1?recursiveSearch(s,r,n,i,o,a):a==e.LEAST_UPPER_BOUND?r<i.length?r:-1:s:s-t>1?recursiveSearch(t,s,n,i,o,a):a==e.LEAST_UPPER_BOUND?s:t<0?-1:t}e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2,e.search=function search(t,r,n,i){if(0===r.length)return-1;var o=recursiveSearch(-1,r.length,t,r,n,i||e.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&0===n(r[o],r[o-1],!0);)--o;return o}}(binarySearch)),binarySearch}var quickSort={},hasRequiredQuickSort,hasRequiredSourceMapConsumer;function requireQuickSort(){if(hasRequiredQuickSort)return quickSort;function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function doQuickSort(e,t,r,n){if(r<n){var i=r-1;swap(e,function randomIntInRange(e,t){return Math.round(e+Math.random()*(t-e))}(r,n),n);for(var o=e[n],a=r;a<n;a++)t(e[a],o)<=0&&swap(e,i+=1,a);swap(e,i+1,a);var s=i+1;doQuickSort(e,t,r,s-1),doQuickSort(e,t,s+1,n)}}return hasRequiredQuickSort=1,quickSort.quickSort=function(e,t){doQuickSort(e,t,0,e.length-1)},quickSort}function requireSourceMapConsumer(){if(hasRequiredSourceMapConsumer)return sourceMapConsumer;hasRequiredSourceMapConsumer=1;var e=requireUtil(),t=requireBinarySearch(),r=requireArraySet().ArraySet,n=requireBase64Vlq(),i=requireQuickSort().quickSort;function SourceMapConsumer(t,r){var n=t;return"string"==typeof t&&(n=e.parseSourceMapInput(t)),null!=n.sections?new IndexedSourceMapConsumer(n,r):new BasicSourceMapConsumer(n,r)}function BasicSourceMapConsumer(t,n){var i=t;"string"==typeof t&&(i=e.parseSourceMapInput(t));var o=e.getArg(i,"version"),a=e.getArg(i,"sources"),s=e.getArg(i,"names",[]),u=e.getArg(i,"sourceRoot",null),l=e.getArg(i,"sourcesContent",null),c=e.getArg(i,"mappings"),f=e.getArg(i,"file",null);if(o!=this.ye)throw new Error("Unsupported version: "+o);u&&(u=e.normalize(u)),a=a.map(String).map(e.normalize).map((function(t){return u&&e.isAbsolute(u)&&e.isAbsolute(t)?e.relative(u,t):t})),this.ve=r.fromArray(s.map(String),!0),this.be=r.fromArray(a,!0),this.De=this.be.toArray().map((function(t){return e.computeSourceURL(u,t,n)})),this.sourceRoot=u,this.sourcesContent=l,this.Ee=c,this.Me=n,this.file=f}function Mapping(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function IndexedSourceMapConsumer(t,n){var i=t;"string"==typeof t&&(i=e.parseSourceMapInput(t));var o=e.getArg(i,"version"),a=e.getArg(i,"sections");if(o!=this.ye)throw new Error("Unsupported version: "+o);this.be=new r,this.ve=new r;var s={line:-1,column:0};this.Ae=a.map((function(t){if(t.url)throw new Error("Support for url field in sections not implemented.");var r=e.getArg(t,"offset"),i=e.getArg(r,"line"),o=e.getArg(r,"column");if(i<s.line||i===s.line&&o<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=r,{generatedOffset:{generatedLine:i+1,generatedColumn:o+1},consumer:new SourceMapConsumer(e.getArg(t,"map"),n)}}))}return SourceMapConsumer.fromSourceMap=function(e,t){return BasicSourceMapConsumer.fromSourceMap(e,t)},SourceMapConsumer.prototype.ye=3,SourceMapConsumer.prototype.Pe=null,Object.defineProperty(SourceMapConsumer.prototype,"Re",{configurable:!0,enumerable:!0,get:function(){return this.Pe||this._e(this.Ee,this.sourceRoot),this.Pe}}),SourceMapConsumer.prototype.ke=null,Object.defineProperty(SourceMapConsumer.prototype,"Te",{configurable:!0,enumerable:!0,get:function(){return this.ke||this._e(this.Ee,this.sourceRoot),this.ke}}),SourceMapConsumer.prototype.qe=function SourceMapConsumer_charIsMappingSeparator(e,t){var r=e.charAt(t);return";"===r||","===r},SourceMapConsumer.prototype._e=function SourceMapConsumer_parseMappings(e,t){throw new Error("Subclasses must implement _parseMappings")},SourceMapConsumer.GENERATED_ORDER=1,SourceMapConsumer.ORIGINAL_ORDER=2,SourceMapConsumer.GREATEST_LOWER_BOUND=1,SourceMapConsumer.LEAST_UPPER_BOUND=2,SourceMapConsumer.prototype.eachMapping=function SourceMapConsumer_eachMapping(t,r,n){var i,o=r||null;switch(n||SourceMapConsumer.GENERATED_ORDER){case SourceMapConsumer.GENERATED_ORDER:i=this.Re;break;case SourceMapConsumer.ORIGINAL_ORDER:i=this.Te;break;default:throw new Error("Unknown order of iteration.")}var a=this.sourceRoot;i.map((function(t){var r=null===t.source?null:this.be.at(t.source);return{source:r=e.computeSourceURL(a,r,this.Me),generatedLine:t.generatedLine,generatedColumn:t.generatedColumn,originalLine:t.originalLine,originalColumn:t.originalColumn,name:null===t.name?null:this.ve.at(t.name)}}),this).forEach(t,o)},SourceMapConsumer.prototype.allGeneratedPositionsFor=function SourceMapConsumer_allGeneratedPositionsFor(r){var n=e.getArg(r,"line"),i={source:e.getArg(r,"source"),originalLine:n,originalColumn:e.getArg(r,"column",0)};if(i.source=this.Le(i.source),i.source<0)return[];var o=[],a=this.He(i,this.Te,"originalLine","originalColumn",e.compareByOriginalPositions,t.LEAST_UPPER_BOUND);if(a>=0){var s=this.Te[a];if(void 0===r.column)for(var u=s.originalLine;s&&s.originalLine===u;)o.push({line:e.getArg(s,"generatedLine",null),column:e.getArg(s,"generatedColumn",null),lastColumn:e.getArg(s,"lastGeneratedColumn",null)}),s=this.Te[++a];else for(var l=s.originalColumn;s&&s.originalLine===n&&s.originalColumn==l;)o.push({line:e.getArg(s,"generatedLine",null),column:e.getArg(s,"generatedColumn",null),lastColumn:e.getArg(s,"lastGeneratedColumn",null)}),s=this.Te[++a]}return o},sourceMapConsumer.SourceMapConsumer=SourceMapConsumer,(BasicSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype)).consumer=SourceMapConsumer,BasicSourceMapConsumer.prototype.Le=function(t){var r,n=t;if(null!=this.sourceRoot&&(n=e.relative(this.sourceRoot,n)),this.be.has(n))return this.be.indexOf(n);for(r=0;r<this.De.length;++r)if(this.De[r]==t)return r;return-1},BasicSourceMapConsumer.fromSourceMap=function SourceMapConsumer_fromSourceMap(t,n){var o=Object.create(BasicSourceMapConsumer.prototype),a=o.ve=r.fromArray(t.ve.toArray(),!0),s=o.be=r.fromArray(t.be.toArray(),!0);o.sourceRoot=t.de,o.sourcesContent=t.Ce(o.be.toArray(),o.sourceRoot),o.file=t.me,o.Me=n,o.De=o.be.toArray().map((function(t){return e.computeSourceURL(o.sourceRoot,t,n)}));for(var u=t.Ee.toArray().slice(),l=o.Pe=[],c=o.ke=[],f=0,h=u.length;f<h;f++){var p=u[f],m=new Mapping;m.generatedLine=p.generatedLine,m.generatedColumn=p.generatedColumn,p.source&&(m.source=s.indexOf(p.source),m.originalLine=p.originalLine,m.originalColumn=p.originalColumn,p.name&&(m.name=a.indexOf(p.name)),c.push(m)),l.push(m)}return i(o.ke,e.compareByOriginalPositions),o},BasicSourceMapConsumer.prototype.ye=3,Object.defineProperty(BasicSourceMapConsumer.prototype,"sources",{get:function(){return this.De.slice()}}),BasicSourceMapConsumer.prototype._e=function SourceMapConsumer_parseMappings(t,r){for(var o,a,s,u,l=1,c=0,f=0,h=0,p=0,m=0,d=t.length,g=0,b={},v={},E=[],S=[];g<d;)if(";"===t.charAt(g))l++,g++,c=0;else if(","===t.charAt(g))g++;else{for((o=new Mapping).generatedLine=l,u=g;u<d&&!this.qe(t,u);u++);if(s=b[a=t.slice(g,u)])g+=a.length;else{for(s=[];g<u;)n.decode(t,g,v),g=v.rest,s.push(v.value);if(2===s.length)throw new Error("Found a source, but no line and column");if(3===s.length)throw new Error("Found a source and line, but no column");b[a]=s}o.generatedColumn=c+s[0],c=o.generatedColumn,s.length>1&&(o.source=p+s[1],p+=s[1],o.originalLine=f+s[2],f=o.originalLine,o.originalLine+=1,o.originalColumn=h+s[3],h=o.originalColumn,s.length>4&&(o.name=m+s[4],m+=s[4])),S.push(o),"number"==typeof o.originalLine&&E.push(o)}i(S,e.compareByGeneratedPositionsDeflated),this.Pe=S,i(E,e.compareByOriginalPositions),this.ke=E},BasicSourceMapConsumer.prototype.He=function SourceMapConsumer_findMapping(e,r,n,i,o,a){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[i]);return t.search(e,r,o,a)},BasicSourceMapConsumer.prototype.computeColumnSpans=function SourceMapConsumer_computeColumnSpans(){for(var e=0;e<this.Re.length;++e){var t=this.Re[e];if(e+1<this.Re.length){var r=this.Re[e+1];if(t.generatedLine===r.generatedLine){t.lastGeneratedColumn=r.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},BasicSourceMapConsumer.prototype.originalPositionFor=function SourceMapConsumer_originalPositionFor(t){var r={generatedLine:e.getArg(t,"line"),generatedColumn:e.getArg(t,"column")},n=this.He(r,this.Re,"generatedLine","generatedColumn",e.compareByGeneratedPositionsDeflated,e.getArg(t,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(n>=0){var i=this.Re[n];if(i.generatedLine===r.generatedLine){var o=e.getArg(i,"source",null);null!==o&&(o=this.be.at(o),o=e.computeSourceURL(this.sourceRoot,o,this.Me));var a=e.getArg(i,"name",null);return null!==a&&(a=this.ve.at(a)),{source:o,line:e.getArg(i,"originalLine",null),column:e.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},BasicSourceMapConsumer.prototype.hasContentsOfAllSources=function BasicSourceMapConsumer_hasContentsOfAllSources(){return!!this.sourcesContent&&this.sourcesContent.length>=this.be.size()&&!this.sourcesContent.some((function(e){return null==e}))},BasicSourceMapConsumer.prototype.sourceContentFor=function SourceMapConsumer_sourceContentFor(t,r){if(!this.sourcesContent)return null;var n=this.Le(t);if(n>=0)return this.sourcesContent[n];var i,o=t;if(null!=this.sourceRoot&&(o=e.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(i=e.urlParse(this.sourceRoot))){var a=o.replace(/^file:\/\//,"");if("file"==i.scheme&&this.be.has(a))return this.sourcesContent[this.be.indexOf(a)];if((!i.path||"/"==i.path)&&this.be.has("/"+o))return this.sourcesContent[this.be.indexOf("/"+o)]}if(r)return null;throw new Error('"'+o+'" is not in the SourceMap.')},BasicSourceMapConsumer.prototype.generatedPositionFor=function SourceMapConsumer_generatedPositionFor(t){var r=e.getArg(t,"source");if((r=this.Le(r))<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:e.getArg(t,"line"),originalColumn:e.getArg(t,"column")},i=this.He(n,this.Te,"originalLine","originalColumn",e.compareByOriginalPositions,e.getArg(t,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(i>=0){var o=this.Te[i];if(o.source===n.source)return{line:e.getArg(o,"generatedLine",null),column:e.getArg(o,"generatedColumn",null),lastColumn:e.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},sourceMapConsumer.BasicSourceMapConsumer=BasicSourceMapConsumer,(IndexedSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype)).constructor=SourceMapConsumer,IndexedSourceMapConsumer.prototype.ye=3,Object.defineProperty(IndexedSourceMapConsumer.prototype,"sources",{get:function(){for(var e=[],t=0;t<this.Ae.length;t++)for(var r=0;r<this.Ae[t].consumer.sources.length;r++)e.push(this.Ae[t].consumer.sources[r]);return e}}),IndexedSourceMapConsumer.prototype.originalPositionFor=function IndexedSourceMapConsumer_originalPositionFor(r){var n={generatedLine:e.getArg(r,"line"),generatedColumn:e.getArg(r,"column")},i=t.search(n,this.Ae,(function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn})),o=this.Ae[i];return o?o.consumer.originalPositionFor({line:n.generatedLine-(o.generatedOffset.generatedLine-1),column:n.generatedColumn-(o.generatedOffset.generatedLine===n.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:r.bias}):{source:null,line:null,column:null,name:null}},IndexedSourceMapConsumer.prototype.hasContentsOfAllSources=function IndexedSourceMapConsumer_hasContentsOfAllSources(){return this.Ae.every((function(e){return e.consumer.hasContentsOfAllSources()}))},IndexedSourceMapConsumer.prototype.sourceContentFor=function IndexedSourceMapConsumer_sourceContentFor(e,t){for(var r=0;r<this.Ae.length;r++){var n=this.Ae[r].consumer.sourceContentFor(e,!0);if(n)return n}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},IndexedSourceMapConsumer.prototype.generatedPositionFor=function IndexedSourceMapConsumer_generatedPositionFor(t){for(var r=0;r<this.Ae.length;r++){var n=this.Ae[r];if(-1!==n.consumer.Le(e.getArg(t,"source"))){var i=n.consumer.generatedPositionFor(t);if(i)return{line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},IndexedSourceMapConsumer.prototype._e=function IndexedSourceMapConsumer_parseMappings(t,r){this.Pe=[],this.ke=[];for(var n=0;n<this.Ae.length;n++)for(var o=this.Ae[n],a=o.consumer.Re,s=0;s<a.length;s++){var u=a[s],l=o.consumer.be.at(u.source);l=e.computeSourceURL(o.consumer.sourceRoot,l,this.Me),this.be.add(l),l=this.be.indexOf(l);var c=null;u.name&&(c=o.consumer.ve.at(u.name),this.ve.add(c),c=this.ve.indexOf(c));var f={source:l,generatedLine:u.generatedLine+(o.generatedOffset.generatedLine-1),generatedColumn:u.generatedColumn+(o.generatedOffset.generatedLine===u.generatedLine?o.generatedOffset.generatedColumn-1:0),originalLine:u.originalLine,originalColumn:u.originalColumn,name:c};this.Pe.push(f),"number"==typeof f.originalLine&&this.ke.push(f)}i(this.Pe,e.compareByGeneratedPositionsDeflated),i(this.ke,e.compareByOriginalPositions)},sourceMapConsumer.IndexedSourceMapConsumer=IndexedSourceMapConsumer,sourceMapConsumer}var sourceNode={},hasRequiredSourceNode,hasRequiredSourceMap,hasRequiredCodeGen,hasRequiredJavascriptCompiler,hasRequiredHandlebars;function requireSourceNode(){if(hasRequiredSourceNode)return sourceNode;hasRequiredSourceNode=1;var e=requireSourceMapGenerator().SourceMapGenerator,t=requireUtil(),r=/(\r?\n)/,n="$$$isSourceNode$$$";function SourceNode(e,t,r,i,o){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==r?null:r,this.name=null==o?null:o,this[n]=!0,null!=i&&this.add(i)}return SourceNode.fromStringWithSourceMap=function SourceNode_fromStringWithSourceMap(e,n,i){var o=new SourceNode,a=e.split(r),s=0,shiftNextLine=function(){return getNextLine()+(getNextLine()||"");function getNextLine(){return s<a.length?a[s++]:void 0}},u=1,l=0,c=null;return n.eachMapping((function(e){if(null!==c){if(!(u<e.generatedLine)){var t=(r=a[s]||"").substr(0,e.generatedColumn-l);return a[s]=r.substr(e.generatedColumn-l),l=e.generatedColumn,addMappingWithCode(c,t),void(c=e)}addMappingWithCode(c,shiftNextLine()),u++,l=0}for(;u<e.generatedLine;)o.add(shiftNextLine()),u++;var r;l<e.generatedColumn&&(o.add((r=a[s]||"").substr(0,e.generatedColumn)),a[s]=r.substr(e.generatedColumn),l=e.generatedColumn),c=e}),this),s<a.length&&(c&&addMappingWithCode(c,shiftNextLine()),o.add(a.splice(s).join(""))),n.sources.forEach((function(e){var r=n.sourceContentFor(e);null!=r&&(null!=i&&(e=t.join(i,e)),o.setSourceContent(e,r))})),o;function addMappingWithCode(e,r){if(null===e||void 0===e.source)o.add(r);else{var n=i?t.join(i,e.source):e.source;o.add(new SourceNode(e.originalLine,e.originalColumn,n,r,e.name))}}},SourceNode.prototype.add=function SourceNode_add(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[n]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},SourceNode.prototype.prepend=function SourceNode_prepend(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[n]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},SourceNode.prototype.walk=function SourceNode_walk(e){for(var t,r=0,i=this.children.length;r<i;r++)(t=this.children[r])[n]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},SourceNode.prototype.join=function SourceNode_join(e){var t,r,n=this.children.length;if(n>0){for(t=[],r=0;r<n-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this},SourceNode.prototype.replaceRight=function SourceNode_replaceRight(e,t){var r=this.children[this.children.length-1];return r[n]?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this},SourceNode.prototype.setSourceContent=function SourceNode_setSourceContent(e,r){this.sourceContents[t.toSetString(e)]=r},SourceNode.prototype.walkSourceContents=function SourceNode_walkSourceContents(e){for(var r=0,i=this.children.length;r<i;r++)this.children[r][n]&&this.children[r].walkSourceContents(e);var o=Object.keys(this.sourceContents);for(r=0,i=o.length;r<i;r++)e(t.fromSetString(o[r]),this.sourceContents[o[r]])},SourceNode.prototype.toString=function SourceNode_toString(){var e="";return this.walk((function(t){e+=t})),e},SourceNode.prototype.toStringWithSourceMap=function SourceNode_toStringWithSourceMap(t){var r={code:"",line:1,column:0},n=new e(t),i=!1,o=null,a=null,s=null,u=null;return this.walk((function(e,t){r.code+=e,null!==t.source&&null!==t.line&&null!==t.column?(o===t.source&&a===t.line&&s===t.column&&u===t.name||n.addMapping({source:t.source,original:{line:t.line,column:t.column},generated:{line:r.line,column:r.column},name:t.name}),o=t.source,a=t.line,s=t.column,u=t.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),o=null,i=!1);for(var l=0,c=e.length;l<c;l++)10===e.charCodeAt(l)?(r.line++,r.column=0,l+1===c?(o=null,i=!1):i&&n.addMapping({source:t.source,original:{line:t.line,column:t.column},generated:{line:r.line,column:r.column},name:t.name})):r.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:r.code,map:n}},sourceNode.SourceNode=SourceNode,sourceNode}function requireSourceMap(){return hasRequiredSourceMap||(hasRequiredSourceMap=1,sourceMap.SourceMapGenerator=requireSourceMapGenerator().SourceMapGenerator,sourceMap.SourceMapConsumer=requireSourceMapConsumer().SourceMapConsumer,sourceMap.SourceNode=requireSourceNode().SourceNode),sourceMap}function requireCodeGen(){return hasRequiredCodeGen||(hasRequiredCodeGen=1,function(e,t){t.te=!0;var r=requireUtils(),n=void 0;try{n=requireSourceMap().SourceNode}catch(e){}function castChunk(e,t,n){if(r.isArray(e)){for(var i=[],o=0,a=e.length;o<a;o++)i.push(t.wrap(e[o],n));return i}return"boolean"==typeof e||"number"==typeof e?e+"":e}function CodeGen(e){this.srcFile=e,this.source=[]}n||((n=function(e,t,r,n){this.src="",n&&this.add(n)}).prototype={add:function add(e){r.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function prepend(e){r.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function toStringWithSourceMap(){return{code:this.toString()}},toString:function toString(){return this.src}}),CodeGen.prototype={isEmpty:function isEmpty(){return!this.source.length},prepend:function prepend(e,t){this.source.unshift(this.wrap(e,t))},push:function push(e,t){this.source.push(this.wrap(e,t))},merge:function merge(){var e=this.empty();return this.each((function(t){e.add(["  ",t,"\n"])})),e},each:function each(e){for(var t=0,r=this.source.length;t<r;t++)e(this.source[t])},empty:function empty(){var e=this.currentLocation||{start:{}};return new n(e.start.line,e.start.column,this.srcFile)},wrap:function wrap(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof n?e:(e=castChunk(e,this,t),new n(t.start.line,t.start.column,this.srcFile,e))},functionCall:function functionCall(e,t,r){return r=this.generateList(r),this.wrap([e,t?"."+t+"(":"(",r,")"])},quotedString:function quotedString(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function objectLiteral(e){var t=this,r=[];Object.keys(e).forEach((function(n){var i=castChunk(e[n],t);"undefined"!==i&&r.push([t.quotedString(n),":",i])}));var n=this.generateList(r);return n.prepend("{"),n.add("}"),n},generateList:function generateList(e){for(var t=this.empty(),r=0,n=e.length;r<n;r++)r&&t.add(","),t.add(castChunk(e[r],this));return t},generateArray:function generateArray(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t.default=CodeGen,e.exports=t.default}(codeGen,codeGen.exports)),codeGen.exports}function requireJavascriptCompiler(){return hasRequiredJavascriptCompiler||(hasRequiredJavascriptCompiler=1,function(e,t){function _interopRequireDefault(e){return e&&e.te?e:{default:e}}t.te=!0;var r=requireBase$1(),n=_interopRequireDefault(requireException()),i=requireUtils(),o=_interopRequireDefault(requireCodeGen());function Literal(e){this.value=e}function JavaScriptCompiler(){}JavaScriptCompiler.prototype={nameLookup:function nameLookup(e,t){return this.internalNameLookup(e,t)},depthedLookup:function depthedLookup(e){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(e),")"]},compilerInfo:function compilerInfo(){var e=r.COMPILER_REVISION;return[e,r.REVISION_CHANGES[e]]},appendToBuffer:function appendToBuffer(e,t,r){return i.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:r?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function initializeBuffer(){return this.quotedString("")},internalNameLookup:function internalNameLookup(e,t){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",e,",",JSON.stringify(t),")"]},lookupPropertyFunctionIsUsed:!1,compile:function compile(e,t,r,i){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!r,this.context=r||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var o=e.opcodes,a=void 0,s=void 0,u=void 0,l=void 0;for(u=0,l=o.length;u<l;u++)this.source.currentLocation=(a=o[u]).loc,s=s||a.loc,this[a.opcode].apply(this,a.args);if(this.source.currentLocation=s,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new n.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var c=this.createFunctionContext(i);if(this.isChild)return c;var f={compiler:this.compilerInfo(),main:c};this.decorators&&(f.main_d=this.decorators,f.useDecorators=!0);var h=this.context,p=h.programs,m=h.decorators;for(u=0,l=p.length;u<l;u++)p[u]&&(f[u]=p[u],m[u]&&(f[u+"_d"]=m[u],f.useDecorators=!0));return this.environment.usePartial&&(f.usePartial=!0),this.options.data&&(f.useData=!0),this.useDepths&&(f.useDepths=!0),this.useBlockParams&&(f.useBlockParams=!0),this.options.compat&&(f.compat=!0),i?f.compilerOptions=this.options:(f.compiler=JSON.stringify(f.compiler),this.source.currentLocation={start:{line:1,column:0}},f=this.objectLiteral(f),t.srcName?(f=f.toStringWithSourceMap({file:t.destName})).map=f.map&&f.map.toString():f=f.toString()),f},preamble:function preamble(){this.lastContext=0,this.source=new o.default(this.options.srcName),this.decorators=new o.default(this.options.srcName)},createFunctionContext:function createFunctionContext(e){var t=this,r="",n=this.stackVars.concat(this.registers.list);n.length>0&&(r+=", "+n.join(", "));var i=0;Object.keys(this.aliases).forEach((function(e){var n=t.aliases[e];n.children&&n.referenceCount>1&&(r+=", alias"+ ++i+"="+e,n.children[0]="alias"+i)})),this.lookupPropertyFunctionIsUsed&&(r+=", "+this.lookupPropertyFunctionVarDeclaration());var o=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&o.push("blockParams"),this.useDepths&&o.push("depths");var a=this.mergeSource(r);return e?(o.push(a),Function.apply(this,o)):this.source.wrap(["function(",o.join(","),") {\n  ",a,"}"])},mergeSource:function mergeSource(e){var t=this.environment.isSimple,r=!this.forceBuffer,n=void 0,i=void 0,o=void 0,a=void 0;return this.source.each((function(e){e.appendToBuffer?(o?e.prepend("  + "):o=e,a=e):(o&&(i?o.prepend("buffer += "):n=!0,a.add(";"),o=a=void 0),i=!0,t||(r=!1))})),r?o?(o.prepend("return "),a.add(";")):i||this.source.push('return "";'):(e+=", buffer = "+(n?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(n?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function lookupPropertyFunctionVarDeclaration(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function blockValue(e){var t=this.aliasable("container.hooks.blockHelperMissing"),r=[this.contextName(0)];this.setupHelperArgs(e,0,r);var n=this.popStack();r.splice(1,0,n),this.push(this.source.functionCall(t,"call",r))},ambiguousBlockValue:function ambiguousBlockValue(){var e=this.aliasable("container.hooks.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var r=this.topStack();t.splice(1,0,r),this.pushSource(["if (!",this.lastHelper,") { ",r," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function appendContent(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function append(){if(this.isInline())this.replaceStack((function(e){return[" != null ? ",e,' : ""']})),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function appendEscaped(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function getContext(e){this.lastContext=e},pushContext:function pushContext(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function lookupOnContext(e,t,r,n){var i=0;n||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[i++])),this.resolvePath("context",e,i,t,r)},lookupBlockParam:function lookupBlockParam(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function lookupData(e,t,r){this.pushStackLiteral(e?"container.data(data, "+e+")":"data"),this.resolvePath("data",t,0,!0,r)},resolvePath:function resolvePath(e,t,r,n,i){var o=this;if(this.options.strict||this.options.assumeObjects)this.push(function strictLookup(e,t,r,n,i){var o=t.popStack(),a=r.length;for(e&&a--;n<a;n++)o=t.nameLookup(o,r[n],i);return e?[t.aliasable("container.strict"),"(",o,", ",t.quotedString(r[n]),", ",JSON.stringify(t.source.currentLocation)," )"]:o}(this.options.strict&&i,this,t,r,e));else for(var a=t.length;r<a;r++)this.replaceStack((function(i){var a=o.nameLookup(i,t[r],e);return n?[" && ",a]:[" != null ? ",a," : ",i]}))},resolvePossibleLambda:function resolvePossibleLambda(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function pushStringParam(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function emptyHash(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function pushHash(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function popHash(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function pushString(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function pushLiteral(e){this.pushStackLiteral(e)},pushProgram:function pushProgram(e){this.pushStackLiteral(null!=e?this.programExpression(e):null)},registerDecorator:function registerDecorator(e,t){var r=this.nameLookup("decorators",t,"decorator"),n=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(r,"",["fn","props","container",n])," || fn;"])},invokeHelper:function invokeHelper(e,t,r){var n=this.popStack(),i=this.setupHelper(e,t),o=[];r&&o.push(i.name),o.push(n),this.options.strict||o.push(this.aliasable("container.hooks.helperMissing"));var a=["(",this.itemsSeparatedBy(o,"||"),")"],s=this.source.functionCall(a,"call",i.callParams);this.push(s)},itemsSeparatedBy:function itemsSeparatedBy(e,t){var r=[];r.push(e[0]);for(var n=1;n<e.length;n++)r.push(t,e[n]);return r},invokeKnownHelper:function invokeKnownHelper(e,t){var r=this.setupHelper(e,t);this.push(this.source.functionCall(r.name,"call",r.callParams))},invokeAmbiguous:function invokeAmbiguous(e,t){this.useRegister("helper");var r=this.popStack();this.emptyHash();var n=this.setupHelper(0,e,t),i=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",e,"helper")," || ",r,")"];this.options.strict||(i[0]="(helper = ",i.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",i,n.paramsInit?["),(",n.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",n.callParams)," : helper))"])},invokePartial:function invokePartial(e,t,r){var n=[],i=this.setupParams(t,1,n);e&&(t=this.popStack(),delete i.name),r&&(i.indent=JSON.stringify(r)),i.helpers="helpers",i.partials="partials",i.decorators="container.decorators",n.unshift(e?t:this.nameLookup("partials",t,"partial")),this.options.compat&&(i.depths="depths"),i=this.objectLiteral(i),n.push(i),this.push(this.source.functionCall("container.invokePartial","",n))},assignToHash:function assignToHash(e){var t=this.popStack(),r=void 0,n=void 0,i=void 0;this.trackIds&&(i=this.popStack()),this.stringParams&&(n=this.popStack(),r=this.popStack());var o=this.hash;r&&(o.contexts[e]=r),n&&(o.types[e]=n),i&&(o.ids[e]=i),o.values[e]=t},pushId:function pushId(e,t,r){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(r?" + "+JSON.stringify("."+r):"")):"PathExpression"===e?this.pushString(t):this.pushStackLiteral("SubExpression"===e?"true":"null")},compiler:JavaScriptCompiler,compileChildren:function compileChildren(e,t){for(var r=e.children,n=void 0,i=void 0,o=0,a=r.length;o<a;o++){n=r[o],i=new this.compiler;var s=this.matchExistingProgram(n);if(null==s){this.context.programs.push("");var u=this.context.programs.length;n.index=u,n.name="program"+u,this.context.programs[u]=i.compile(n,t,this.context,!this.precompile),this.context.decorators[u]=i.decorators,this.context.environments[u]=n,this.useDepths=this.useDepths||i.useDepths,this.useBlockParams=this.useBlockParams||i.useBlockParams,n.useDepths=this.useDepths,n.useBlockParams=this.useBlockParams}else n.index=s.index,n.name="program"+s.index,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams}},matchExistingProgram:function matchExistingProgram(e){for(var t=0,r=this.context.environments.length;t<r;t++){var n=this.context.environments[t];if(n&&n.equals(e))return n}},programExpression:function programExpression(e){var t=this.environment.children[e],r=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&r.push("blockParams"),this.useDepths&&r.push("depths"),"container.program("+r.join(", ")+")"},useRegister:function useRegister(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function push(e){return e instanceof Literal||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function pushStackLiteral(e){this.push(new Literal(e))},pushSource:function pushSource(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function replaceStack(e){var t=["("],r=void 0,i=void 0,o=void 0;if(!this.isInline())throw new n.default("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof Literal)t=["(",r=[a.value]],o=!0;else{i=!0;var s=this.incrStack();t=["((",this.push(s)," = ",a,")"],r=this.topStack()}var u=e.call(this,r);o||this.popStack(),i&&this.stackSlot--,this.push(t.concat(u,")"))},incrStack:function incrStack(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function topStackName(){return"stack"+this.stackSlot},flushInline:function flushInline(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,r=e.length;t<r;t++){var n=e[t];if(n instanceof Literal)this.compileStack.push(n);else{var i=this.incrStack();this.pushSource([i," = ",n,";"]),this.compileStack.push(i)}}},isInline:function isInline(){return this.inlineStack.length},popStack:function popStack(e){var t=this.isInline(),r=(t?this.inlineStack:this.compileStack).pop();if(!e&&r instanceof Literal)return r.value;if(!t){if(!this.stackSlot)throw new n.default("Invalid stack pop");this.stackSlot--}return r},topStack:function topStack(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof Literal?t.value:t},contextName:function contextName(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function quotedString(e){return this.source.quotedString(e)},objectLiteral:function objectLiteral(e){return this.source.objectLiteral(e)},aliasable:function aliasable(e){var t=this.aliases[e];return t?(t.referenceCount++,t):((t=this.aliases[e]=this.source.wrap(e)).aliasable=!0,t.referenceCount=1,t)},setupHelper:function setupHelper(e,t,r){var n=[];return{params:n,paramsInit:this.setupHelperArgs(t,e,n,r),name:this.nameLookup("helpers",t,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(n)}},setupParams:function setupParams(e,t,r){var n={},i=[],o=[],a=[],s=!r,u=void 0;s&&(r=[]),n.name=this.quotedString(e),n.hash=this.popStack(),this.trackIds&&(n.hashIds=this.popStack()),this.stringParams&&(n.hashTypes=this.popStack(),n.hashContexts=this.popStack());var l=this.popStack(),c=this.popStack();(c||l)&&(n.fn=c||"container.noop",n.inverse=l||"container.noop");for(var f=t;f--;)u=this.popStack(),r[f]=u,this.trackIds&&(a[f]=this.popStack()),this.stringParams&&(o[f]=this.popStack(),i[f]=this.popStack());return s&&(n.args=this.source.generateArray(r)),this.trackIds&&(n.ids=this.source.generateArray(a)),this.stringParams&&(n.types=this.source.generateArray(o),n.contexts=this.source.generateArray(i)),this.options.data&&(n.data="data"),this.useBlockParams&&(n.blockParams="blockParams"),n},setupHelperArgs:function setupHelperArgs(e,t,r,n){var i=this.setupParams(e,t,r);return i.loc=JSON.stringify(this.source.currentLocation),i=this.objectLiteral(i),n?(this.useRegister("options"),r.push("options"),["options=",i]):r?(r.push(i),""):i}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=JavaScriptCompiler.RESERVED_WORDS={},r=0,n=e.length;r<n;r++)t[e[r]]=!0}(),JavaScriptCompiler.isValidJavaScriptVariableName=function(e){return!JavaScriptCompiler.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t.default=JavaScriptCompiler,e.exports=t.default}(javascriptCompiler,javascriptCompiler.exports)),javascriptCompiler.exports}function requireHandlebars(){return hasRequiredHandlebars||(hasRequiredHandlebars=1,function(e,t){function _interopRequireDefault(e){return e&&e.te?e:{default:e}}t.te=!0;var r=_interopRequireDefault(requireHandlebars_runtime()),n=_interopRequireDefault(requireAst()),i=requireBase(),o=requireCompiler(),a=_interopRequireDefault(requireJavascriptCompiler()),s=_interopRequireDefault(requireVisitor()),u=_interopRequireDefault(requireNoConflict()),l=r.default.create;function create(){var e=l();return e.compile=function(t,r){return o.compile(t,r,e)},e.precompile=function(t,r){return o.precompile(t,r,e)},e.AST=n.default,e.Compiler=o.Compiler,e.JavaScriptCompiler=a.default,e.Parser=i.parser,e.parse=i.parse,e.parseWithoutProcessing=i.parseWithoutProcessing,e}var c=create();c.create=create,u.default(c),c.Visitor=s.default,c.default=c,t.default=c,e.exports=t.default}(handlebars,handlebars.exports)),handlebars.exports}var handlebarsExports=requireHandlebars(),Handlebars$1=getDefaultExportFromCjs(handlebarsExports);const htmx$1=htmxLib;"undefined"!=typeof window&&(window.htmx=htmx$1,window.Handlebars=Handlebars$1,registerHelpers());const VERSION="1.5.1",AUTHOR="JWSLS",LICENSE="Flowplater standard licence";ConfigManager.setConfig(ConfigManager.getDefaultConfig()),RequestHandler.setupEventListeners(),defineHtmxExtension();const ProcessingChain={processors:[{name:"customTags",process:replaceCustomTags},{name:"htmxAttributes",process:translateCustomHTMXAttributes},{name:"htmxExtensionAttribute",process:addHtmxExtensionAttribute},{name:"urlAffixes",process:processUrlAffixes},{name:"animation",process:setupAnimation},{name:"preload",process:processPreload},{name:"htmxProcess",process:e=>(htmx$1.process(e),e)}],get FP_SELECTOR(){return ConfigManager.getConfig().selectors.fp.map((e=>AttributeMatcher.h(e).map((e=>`[${e}]`)).join(","))).join(",")},processElement:function(e){e.Z&&e.Z();let t={success:!0,errors:[],warnings:[],finalElement:e};return t.finalElement=this.processors.reduce(((r,n,i)=>{if(!r)return t.errors.push({phase:n.name,error:`Element became undefined at processor index ${i}`,processor:this.processors[i-1]}),t.success=!1,e;try{return n.process(r)}catch(e){const i=e;return t.errors.push({phase:n.name,error:i.message,stack:i.stack}),Debug.error(`Error in processor ${n.name}: ${i.message}`,i),e instanceof TemplateError?(t.warnings.push({phase:n.name,message:"Falling back to original template"}),r):r}}),e),t.errors.length>0&&EventSystem.publish("processingChain:error",t),t.warnings.length>0&&EventSystem.publish("processingChain:warning",t),t.finalElement}};function process(e=document){if(Debug.debug("Processing with FP_SELECTOR:",ProcessingChain.FP_SELECTOR),e!==document&&e.matches(ProcessingChain.FP_SELECTOR))ProcessingChain.processElement(e);else{const t=e.querySelectorAll(ProcessingChain.FP_SELECTOR);Debug.debug("Found elements to process:",t.length),t.forEach((e=>ProcessingChain.processElement(e)))}}const FlowPlaterObj={compileTemplate:compileTemplate,render:render,getInstance:getInstance,getInstances:getInstances,getOrCreateInstance(e,t={}){const r=AttributeMatcher.findMatchingElements("instance",e,!1,document,!1,!0);return r?InstanceManager.getOrCreateInstance(r,t):(Debug.error(`Element not found for instance: ${e}`),null)},getGroup:e=>GroupManager.getGroup(e),getOrCreateGroup:(e,t={})=>GroupManager.getOrCreateGroup(e,t),getGroups:()=>GroupManager.getAllGroups(),updateGroup:(e,t)=>GroupManager.updateGroup(e,t),removeGroup:e=>GroupManager.removeGroup(e),removeAllGroups:()=>GroupManager.removeAllGroups(),log(e,...t){return t.unshift("[PLUGIN]"),Debug.log(e,...t),this},logLevels:Debug.levels,registerPlugin(e,t={}){return this.PluginManager.registerPlugin(e,t)},removePlugin(e){return this.PluginManager.removePlugin(e)},removeAllPlugins(){return this.PluginManager.destroyAll()},getPlugin(e){return this.PluginManager.getPlugin(e)},getAllPlugins(){return this.PluginManager.getSortedPlugins()},enablePlugin(e){return this.PluginManager.enablePlugin(e)},disablePlugin(e){return this.PluginManager.disablePlugin(e)},pluginConfig(e){return this.PluginManager.pluginConfig(e)},on:(...e)=>EventSystem.subscribe(...e),off:(...e)=>EventSystem.unsubscribe(...e),emit:(...e)=>EventSystem.publish(...e),debug(e){return ConfigManager.setConfig({debug:{level:e}}),this},templateCache:{set(e,t){const r=ConfigManager.getConfig().templates.cacheSize,n=_state.templateCache;if(Object.keys(n).length>=r){const e=Object.keys(n)[0];delete n[e],Debug.info(`Cache limit reached. Removed template: ${e}`)}return n[e]=t,t},get:e=>e?_state.templateCache[e]:_state.templateCache,isCached:e=>!!_state.templateCache[e],clear(e){e?(delete _state.templateCache[e],Debug.info(`Cleared template cache for: ${e}`)):(_state.templateCache={},Debug.info("Cleared entire template cache"))},size:()=>Object.keys(_state.templateCache).length},init(e=document,t={render:!0}){if(_state.initialized)return Performance.start("init-element"),Debug.info("Re-initializing FlowPlater for element:",e),e!==document&&process(e),Performance.end("init-element"),this;Performance.start("init"),Debug.info("Initializing FlowPlater...");const r=AttributeMatcher.findMatchingElements("template");return(Array.isArray(r)?r.filter(Boolean):r?[r]:[]).forEach((e=>{let r=AttributeMatcher.m(e,"template");if("self"!==r&&""!==r||(r=e.id),r){const n=document.querySelector(r);if(n){Debug.info("replacing template content",n);const e=n.getElementsByTagName("script"),t=Array.from(e).map((e=>e.innerHTML));Array.from(e).forEach(((e,t)=>{e.innerHTML=`##FP_SCRIPT_${t}##`})),n.innerHTML=n.innerHTML.replace(/\[\[(.*?)\]\]/g,"{{$1}}"),Array.from(n.getElementsByTagName("script")).forEach(((e,r)=>{e.innerHTML=t[r]}))}if(compileTemplate(r,!0),t.render){let t=!1;if(t=["get","post","put","patch","delete"].some((t=>AttributeMatcher.v(e,t))),t||(t=["trigger","boost","ws","sse"].some((t=>AttributeMatcher.v(e,t)))),Debug.debug(`[Template ${r}] Has request method: ${t}`,e),render({template:r,data:{},target:e,skipRender:t}),t&&ConfigManager.getConfig().storage?.enabled){const t=AttributeMatcher.m(e,"instance")||e.id||r,n=loadFromLocalStorage(t,"instance");n?(Debug.info(`Found stored data for instance: ${t}, rendering with stored data`),render({template:r,data:n,target:e,instanceName:t,skipRender:!1,isStoredDataRender:!0})):Debug.debug(`Skipping initial render for instance: ${t} - no stored data found`)}}}else Debug.error(`No template ID found for element: ${e.id}`,e,"Make sure your template has an ID attribute")})),process(e),_state.initialized=!0,_readyState.isReady=!0,Debug.info("FlowPlater initialized successfully"),Performance.end("init"),_readyState.processQueue(),EventSystem.publish("initialized"),this.PluginManager.executeHook("initComplete",this,_state.instances),this},ready(e){return _readyState.isReady?e(this):_readyState.queue.push((()=>e(this))),this},cleanup(e){if(e){const t=_state.instances[e];t&&(t.elements.forEach((e=>{e.Z&&e.Z(),e.removeEventListeners&&e.removeEventListeners()})),delete _state.instances[e],Debug.info(`Cleaned up instance: ${e}`))}else Object.keys(_state.instances).forEach((e=>{this.cleanup(e)})),_state.initialized=!1,Debug.info("Cleaned up all instances");return this},VERSION:VERSION,AUTHOR:AUTHOR,LICENSE:LICENSE,setCustomTags:setCustomTags,config:function(e={}){return ConfigManager.setConfig(e),this},getConfig:function(){return ConfigManager.getConfig()},registerTag:function(e,t){return Handlebars$1.registerHelper(e,t),this.templateCache.clear(),Object.keys(_state.instances).forEach((e=>{const t=_state.instances[e];t.templateId&&(t.template=compileTemplate(t.templateId,!0))})),Debug.info(`Registered Handlebars helper: ${e}`),this},trigger:function(e,t=document,r={}){"string"!=typeof t?(EventSystem.publish(e,{element:t,detail:r}),t&&htmx$1.trigger(t,e,r)):document.querySelectorAll(t).forEach((t=>{EventSystem.publish(e,{element:t,detail:r}),htmx$1.trigger(t,e,r)}))},destroy:function(){Object.keys(_state.instances).forEach((e=>{this.cleanup(e)})),_state.templateCache={},_state.instances={},EventSystem.unsubscribeAll(),Debug.info("Cleaned up all instances")},create:function(e,t={refresh:!0}){let r;if(Performance.start(`createInstance:${e}`),Debug.info(`Creating FlowPlater instance: ${e}`),r=e.startsWith("#")?document.getElementById(e.slice(1)):AttributeMatcher.findMatchingElements("instance",e,!1,document,!1,!0),!r)throw new FlowPlaterError(`Could not find element for instance: ${e}`);const n=AttributeMatcher.m(r,"template");n&&this.templateCache.clear(n),this.init(r);const i=getInstance(e);if(!i)throw new FlowPlaterError(`Failed to create instance: ${e}`);return this.PluginManager.executeHook("newInstance",i),t.refresh&&i.refresh(),Debug.info(`Instance created successfully: ${e}`),Performance.end(`createInstance:${e}`),i},findAttribute:(e,t)=>AttributeMatcher.findAttribute(e,t),addTransformer(e,t){return this.PluginManager.addTransformer(e,t),this},removeTransformer(e,t){return this.PluginManager.removeTransformer(e,t)},clearTransformers(e){return this.PluginManager.clearTransformers(e),this}};let initialConfig=ConfigManager.getDefaultConfig();const metaElement=document.querySelector('meta[name="fp-config"]');if(metaElement)try{const e=JSON.parse(metaElement.content);initialConfig=deepMerge(initialConfig,e)}catch(e){Debug.error("Error parsing fp-config meta tag content:",metaElement.content,e)}return ConfigManager.setConfig(initialConfig),EventSystem.publish("loaded"),"complete"===document.readyState||"loading"!==document.readyState?FlowPlaterObj.init():document.addEventListener("DOMContentLoaded",(()=>FlowPlaterObj.init())),FlowPlaterObj}();